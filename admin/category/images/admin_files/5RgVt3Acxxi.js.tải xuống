if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="8120375644701924"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuid"],function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuid")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSAddMessengerContact",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"add_messenger_contact",[0,308],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSExecuteCTA",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSFetchBanners",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewFireAndForgetTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",c.i64.to_string(a[1])),d[1].set("muted_user_id",c.i64.to_string(a[0])),d[1].set("owner_id",c.i64.to_string(d[0])),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,13],d[2])}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSIssueSetThreadImageTask",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("image_id",a[1]),d[2].set("emoji",a[2]),d[2].set("gradient",a[3]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"thread_image",[0,37],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,[0,20])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:[0,20]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],[0,1])},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,19],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,19],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"process_marketplace_xma_cta",[0,185],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[3]=c.i64.div(c.i64.of_float(Date.now()),[0,1e3]),d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("timestamp",d[3]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),[0,438],d[2],f,f,[0,0],[0,0],f,f,[0,0])},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[3]})})}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSUpdateBotSubscription",["LSIssueNewFireAndForgetTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",c.i64.to_string(a[0])),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,12],d[1])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSUpdateDraftMessage",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?(d[4]=c.localizeV2([0,2285622730],f),d[5]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5],f)):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSInsertNewMediaSend",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSFetchProactiveWarningsContactIfNeeded",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(183).fetch(),function(b){return c.i64.eq(b.suspectId,a[0])}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[1]=new c.Map(),d[1].set("suspect_id",a[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,377],d[2],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.nextCheckTimestampMs,c.i64.neq(d[1],f)&&c.i64.ge(c.i64.of_float(Date.now()),d[1])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[2]=new c.Map(),d[2].set("suspect_id",a[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,377],d[3],f,f,[0,0],[0,0],f,f,[0,0])}]):c.resolve())})},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,192],d[3],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return d[0]=[0,1]}]):(g=e.item,c.seq([function(e){return d[2]=g.nextCheckTimestampMs,c.i64.neq(d[2],f)&&c.i64.ge(c.i64.of_float(Date.now()),d[2])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",[0,192],d[5],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return d[3]=[0,1]}]):c.resolve((c.i64.neq(d[2],f)&&g.tag!==f?d[4]=[0,2]:d[4]=[0,3],d[3]=d[4]))},function(a){return d[0]=d[3]}]))})},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",[0,0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],[0,3],d[1])}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5520382691361652"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["FBReelsEnableDefer.relayprovider","GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__FBReelsEnableDeferrelayprovider:b("FBReelsEnableDefer.relayprovider")}}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5410843902326640"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometChatImagePersonalizationDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5090234437701733"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometChatImagePersonalizationDialogQuery$Parameters",["GroupsCometChatImagePersonalizationDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatImagePersonalizationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatImagePersonalizationDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5436864742990701"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5428046370622309"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5461648193892719"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5046975135324826"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5048846461842440"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5342426462467736"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5467941156583377"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5004730099638134"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MOffsiteBankTransferDialogQuery$Parameters",["P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MOffsiteBankTransferDialogQuery",operationKind:"query",text:null}};e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5305811016137974"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5832261760118587"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4589106431193063"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5048028465289521"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5021823607854583"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4923666631045015"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5936148239732069"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4679476245513562"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5146654855396537"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5063442323698780"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4696875653751924"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="7735392359808092"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4823686477743600"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4973572169363354"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a},null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:a})};function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext")),h=i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),o=m,p=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:o,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(o=e)!=null?o:n},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b]);return h}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.authorID,e=a.groupID,f=a.postID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:b,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:e,postID:f,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:a?a:d("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID,e=a.profileID;a=a.scale;return{queries:{queryReference:{parameters:c("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:b,profileID:e,scale:a?a:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")};b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("GroupsCometChatImagePersonalizationDialog.entrypoint",["GroupsCometChatImagePersonalizationDialogQuery$Parameters","JSResourceForInteraction"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometChatImagePersonalizationDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("GroupsCometChatImagePersonalizationDialog.react").__setRef("GroupsCometChatImagePersonalizationDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){a=j({id:a.id,prefix:a.prefix,text:a.text});return a};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="s4swhuz0 rifmn7f6";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","useLayoutEffect_SAFE_FOR_SSR"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWFilePressableGlimmer.react",["BaseGlimmer.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"mfclru0v ekq1a7f9 myo4itp8 khm9p5p9 pytsy3co tie83evl",children:h.jsx("div",{className:"nwe3ch2a h6ft4zvz fk6all4f",children:h.jsx(c("BaseGlimmer.react"),{className:"r0esl6yt p9br3yuc dy7c60at r4pa5hsj b9mu8eyu",index:0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWFilePDFViewerModalWrapper.entrypoint",["JSResourceForInteraction","useMWFilePDFDataQuery$Parameters"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=babelHelpers["extends"]({},a.routeParams);return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:b("useMWFilePDFDataQuery$Parameters"),variables:a}}}},root:c("JSResourceForInteraction")("MWFilePDFViewerModalWrapper.react").__setRef("MWFilePDFViewerModalWrapper.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:b("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FBP2MCheckoutDialog.entrypoint",["JSResourceForInteraction"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FBP2MCheckoutDialog.react").__setRef("FBP2MCheckoutDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MOrderDetailDialogQuery$Parameters"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOrderDetailDialogQueryReference:{parameters:b("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:a}}}}},root:c("JSResourceForInteraction")("P2MOrderDetailDialog.react").__setRef("P2MOrderDetailDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("P2MOffsiteBankTransferDialog.entrypoint",["JSResourceForInteraction","P2MOffsiteBankTransferDialogQuery$Parameters"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.orderID;return{queries:{P2MOffsiteBankTransferDialogQueryReference:{parameters:b("P2MOffsiteBankTransferDialogQuery$Parameters"),variables:{input:{invoice_id:a}}}}}},root:c("JSResourceForInteraction")("P2MOffsiteBankTransferDialog.react").__setRef("P2MOffsiteBankTransferDialog.entrypoint")};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWEphemeralConsts.bs",["WATimeUtils"],function(a,b,c,d,e,f){"use strict";a=300;c=600;d=900;e=1800;var g=(b=b("WATimeUtils")).HOUR_SECONDS,h=Math.imul(b.HOUR_SECONDS,6),i=Math.imul(b.HOUR_SECONDS,12),j=b.DAY_SECONDS;b=Math.imul(b.DAY_SECONDS,14);var k=60,l=1e3,m=5,n=10,o=30,p=60,q=h;f.minuteSeconds=k;f.msPerSec=l;f.fiveSeconds=m;f.tenSeconds=n;f.thirtySeconds=o;f.oneMinuteInSeconds=p;f.fiveMinutesInSeconds=a;f.tenMinutesInSeconds=c;f.fifteenMinutesInSeconds=d;f.thirtyMinutesInSeconds=e;f.oneHourInSeconds=g;f.sixHoursInSeconds=h;f.twelveHoursInSeconds=i;f.oneDayInSeconds=j;f.ephemeralMaxDelectionWindowForUnseenMessage=b;f.ephemeralReportingWindowInSeconds=q},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useSecureMessageSendTime",["MAWGating.re","MAWStateContext.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useDebugValue;function a(a){if(!d("MAWGating.re").isDebugUIEnabled())return void 0;a=d("MAWStateContext.react").useStaleMAWStateWithoutRerendering().messageLatencies[a]||{};var b=a.acked;a=a.sent;b=b!==void 0?b-a:void 0;h(b);return b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={aspectRatioWrapper:{height:"nuz1ool1",marginStart:"r55ey5z8",marginTop:"fzsidkae",paddingBottom:"g2g1ydly",position:"om3e55n1"},grid:{display:"alzwoclg",flexWrap:"o7bt71qk",marginStart:"mz2m4c71",marginTop:"cfq9uazq"},gridImage:{bottom:"z6erz7xo",end:"on4d8346",height:"pytsy3co",objectFit:"p9wrh9lq",objectPosition:"ne1vo3ok",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9",width:"mfclru0v"},gridItem:{flexBasis:"aif6hojh"}};function a(a){return h.jsx("ul",{className:c("stylex")(i.grid),children:a.urls.map(function(a){return h.jsx("li",{className:c("stylex")(i.gridItem),children:h.jsx("div",{className:c("stylex")(i.aspectRatioWrapper),children:h.jsx(c("BaseImage.react"),{src:a,xstyle:i.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(a){a=a.previewUrl;return a};function a(a){var b=i(function(){return a.attachmentItems.map(j).filter(Boolean)},[a.attachmentItems]);return h.jsx("div",{className:"s1cscv33 oyqyw115 gvxzyvdx",children:h.jsx(c("MWPResponsiveImageGrid.react"),{urls:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloLink.bs",["bs_caml_option","gkx","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){var b=a.value;a=a.children;return h.createElement(i.Provider,{value:b,children:a})}d={make:a};function c(a){var c=a.testid,d=a.target,e=a.className,f=a.href;a=a.children;var g=h.useContext(i);if(g&&b("gkx")("3164"))return h.jsx("a",{"data-testid":c,href:f,target:d!==void 0?b("bs_caml_option").valFromOption(d):"_blank",className:e,rel:"noreferrer noopener nofollow",children:a});else return a}e=c;f.context=i;f.Provider=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWTextWithEntities.bs",["CometLink.react","MAWArmadilloLink.bs","MWMessageCellFocusTable.bs","bs_caml_option","bs_caml_splice_call","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d,e,f){var g=e!==void 0?e:!1;return function(e,f){if(g){var j={className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[a]),href:f.uri,children:e};d!==void 0&&(j.testid=b("bs_caml_option").valFromOption(d));c!==void 0&&(j.target=b("bs_caml_option").valFromOption(c));j=i.jsx(b("MAWArmadilloLink.bs").make,j)}else{f={href:f.uri,children:e,xstyle:a};c!==void 0&&(f.target=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.testid=d);j=i.jsx(b("CometLink.react"),f)}return i.jsx(b("MWMessageCellFocusTable.bs").Table_.Cell.make,{children:i.jsx("span",{role:"gridcell",children:j})})}}f.linkPlugin=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=new Set(["ads_context"]);function a(a){var c=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var d=a[0];return function(a,b){var e=b.ctaType;if(e==="ads_context")return{TAG:1,_0:function(c){return d({adId:b.ctaId,threadKey:a.banner.threadKey,onClose:function(a){}},function(a){})},_1:c};else return 0}}f.adContextCta=c;f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSRequestAdContextFromThreadKey")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_caml_option","bs_curry","bs_pervasives","promiseDone","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a,c,d){var e=i.useState(function(){if(c!==void 0)return;else return a}),f=e[1];i.useEffect(function(){var e=b("CancellationToken.bs").make(void 0),h=0;if(c!==void 0&&a!==void 0){var i;i=(i=b("CancellablePromise.bs")).ignoreFailed(void 0,i.then_(e,function(a){var c;switch(d.TAG|0){case 1:c="data:image/jpeg;base64,";break;case 6:c="data:audio/wav;base64,";break;case 7:c="data:video/mp4;base64,";break;default:c=b("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}b("bs_curry")._1(f,function(d){return c+b("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve(void 0)},i.then_(e,function(a){var c=a[1],d=c.slice(0,2),e=c.slice(2,14);c=c.slice(14);return b("Crypto.bs").decrypt({name:"AES-GCM",iv:e,additionalData:b("bs_caml_option").some(d),tagLength:128},a[0],c)},i.then_(e,function(a){var d=b("Base64.bs").toArrayBuffer(c);d.byteLength===32||g(0,20660);return b("Promise").all([b("Crypto.bs").importKey("raw",d,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},i.then_(e,function(a){return a.arrayBuffer()},window.fetch(a))))));b("promiseDone")(i,void 0,void 0)}else h=1;h===1&&b("bs_curry")._1(f,function(b){return a});return e.cancel},[a,c,f]);return e[0]}c=128;f.aesGCMTagLength=c;f.useMaybeEncryptedUrl=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","FBID.bs","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_int64","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=String(18)+"px",l={imageContainer:{verticalAlign:"bq6c9xl4",boxShadow:"jrs2kn80",borderTop:"r8vnayig",borderEnd:"qp72b3h3",borderBottom:"a05blw6y",borderStart:"jnmqv028",lineHeight:"lisst02g"},standalone:{borderTopStartRadius:"rt34pxt2",borderBottomStartRadius:"dtqh1a21",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd"}};function m(a){var c=a.attachmentMediaUrl,d=a.previewUrl,e=a.widthStyle;a=a.decryptionKey;d=b("MWEncryptedUrl.bs").useMaybeEncryptedUrl(d,a,{TAG:1,_0:{isGIF:!1,previewUrl:"",previewHeight:void 0,previewWidth:void 0,appAttribution:void 0,photoFbid:void 0,blurredImageUri:void 0,decryptionKey:void 0,title:void 0}});if(d!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{url:c},testid:"attachment-media-image",xstyle:function(a){return[l.standalone]},children:j.jsx(b("CometImageCover.react"),{src:d,style:{maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:e,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomLeftRadius:k,borderBottomRightRadius:k}})});else return null}c={make:m};function n(a){var c=b("bs_belt_Option").mapWithDefault(a.previewHeight,1,b("bs_caml_int64").to_int32),d=b("bs_belt_Option").mapWithDefault(a.previewWidth,1,b("bs_caml_int64").to_int32);d=d/c;a=a.previewWidth;if(a!==void 0)return(c>200?200*d:b("bs_caml_int64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var c=a.previewUrl;if(c!==void 0)return j.jsx("div",{className:(i||(i=b("stylex")))(l.imageContainer,l.standalone),children:j.jsx(m,{attachmentMediaUrl:b("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),attachment_id:b("FBID.bs").ofStringExn(a.attachmentFbid)}),previewUrl:c,widthStyle:n(a),decryptionKey:a.decryptionKey})});else return null}d=200;e=24;var o=!1,p=18;a=a;f.maxHeight=d;f.minHeight=e;f.withAppAttribution=o;f.radius=p;f.radiusStyle=k;f.styles=l;f.MediaPreview=c;f.calculateWidthStyle=n;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("RavenMessagingState.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.permanent=a;f.unseen=c;f.seen=d;f.replayed=e;f.expired=b},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPChatEphemeralButton.bs",["fbt","CometPressable.react","FBID.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWPSolidMessageBubble.bs","MessagingAttachmentType.bs","RavenMessagingState.bs","XCometMessengerEphemeralMediaControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__wwWALtSTrAJ__JHASH__"),k=g._("__JHASH__v-MbQrTSoA9__JHASH__");function l(a){var c=a.attachment,d=a.children,e=a.ariaLabel,f=a.initiallyUnread;a=a.buildURL;a=b("bs_curry")._1(a,{thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey)),attachment_id:b("FBID.bs").ofStringExn(c.attachmentFbid),message_id:c.messageId});c=c.ephemeralMediaState;if(c===void 0)return d;if(!(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").seen)&&f))return d;c={linkProps:{url:a},testid:"view-ephemeral-media",overlayRadius:50,children:d};e!==void 0&&(c["aria-label"]=b("bs_caml_option").valFromOption(e));return i.jsx(b("CometPressable.react"),c)}c={make:l};function a(a){var c=a.attachment,d=a.backgroundColor,e=a.buildURL,f=a.connectBottom,g=a.connectTop,h=a.outgoing;a=a.renderContent;d=d!==void 0?d:"var(--wash)";e=e!==void 0?e:function(a){return b("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var m=c.attachmentType;m=b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").ephemeralImage)?j:b("bs_caml").i64_eq(m,b("MessagingAttachmentType.bs").ephemeralVideo)?k:void 0;var n=b("MWChatEphemeralMediaTemporarySeenState.bs").isSeenThisSession(b("bs_int64").to_string(c.threadKey),c.attachmentFbid),o=c.ephemeralMediaState;o=o!==void 0?b("bs_caml").i64_eq(o,b("RavenMessagingState.bs").unseen)?"unseen":b("bs_caml").i64_eq(o,b("RavenMessagingState.bs").seen)&&n?"seen":"expired":"expired";return i.jsx(l,{attachment:c,children:i.jsx(b("MWPSolidMessageBubble.bs").make,{children:b("bs_curry")._4(a,c,o,n,m),style:{backgroundColor:d},connectTop:g,connectBottom:f,outgoing:h}),ariaLabel:m,initiallyUnread:n,buildURL:e})}d=a;f.OpenMediaViewerAction=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatEphemeralButton.bs",["ix","BaseImage_DEPRECATED.react","MWIcon.react","MWPChatEphemeralButton.bs","MWText.react","UseCurrentDisplayMode.bs","fbicon","react","stylex","useCurrentDisplayMode"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("fbicon")._(g("656360"),20),l={wrapper:{marginTop:"i0rxk2l3",marginEnd:"l7ghb35v",marginBottom:"laatuukc",marginStart:"kmwttqpk"},text:{marginStart:"jbg88c62",verticalAlign:"duzrh6kb"}},m={image:{verticalAlign:"gneimcpu"}};function n(a){var c=a.filter;a=a.icon;return j.jsx(b("BaseImage_DEPRECATED.react"),{className:(i||(i=b("stylex")))(m.image),style:{filter:c},src:a.src})}c={styles:m,make:n};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom;a=a.outgoing;var f=b("useCurrentDisplayMode")();return j.jsx(b("MWPChatEphemeralButton.bs").make,{attachment:c,connectBottom:e,connectTop:d,outgoing:a,renderContent:function(a,c,d,e){a=c==="expired"?"disabled":"primary";d=c==="unseen"?j.jsx(n,{filter:f===b("UseCurrentDisplayMode.bs").darkTheme?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)",icon:k}):c==="expired"?j.jsx(b("MWIcon.react"),{icon:k,color:"disabled"}):j.jsx(b("MWIcon.react"),{icon:k,color:"primary-icon"});return j.jsx("div",{className:(i||(i=b("stylex")))(l.wrapper),children:j.jsxs(b("MWText.react"),{color:a,type:"bodyLink3",children:[d,j.jsx("span",{className:i(l.text),children:e!==void 0?e:null})]})})}})}d=a;f.styles=l;f.CustomColorIcon=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSSvgDocumentCompleteIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z"}),h.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatFileIconV2.bs",["MDSSvgDocumentCompleteIcon.bs","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g",backgroundColor:"g4a3q09b",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"}};function a(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.icon),children:i.jsx(b("MDSSvgDocumentCompleteIcon.bs").make,{color:"primary",size:"24"})})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatFilePreview.bs",["CometImageCover.react","MWChatFileIconV2.bs","bs_belt_Option","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={icon:{paddingStart:"e4ay1f3w"}};function a(a){var c=a.attachment,d=a.fileName;a=a.withPreview;var e={maxHeight:"148px",objectPosition:"top"},f=i.jsx("div",{className:(h||(h=b("stylex")))(j.icon),children:i.jsx(b("MWChatFileIconV2.bs").make,{})});c=b("bs_belt_Option").flatMap(c,function(a){return a.previewUrl});if(c===void 0)return f;if(!a)return f;a=b("bs_belt_Option").getWithDefault(d,"");return i.jsx(b("CometImageCover.react"),{alt:a,src:c,style:e})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatImageInsetShadow.bs",["bs_caml_splice_call","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={imageShadow:{position:"s8sjc6am",boxSizing:"bdao358l",bottom:"z6erz7xo",end:"on4d8346",start:"myo4itp8",top:"ekq1a7f9",borderTop:"n5x1ds47",borderEnd:"i7znxohq",borderBottom:"ad4f6kqo",borderStart:"l0q6b8ci",borderTopStartRadius:"rt34pxt2",borderTopEndRadius:"jao8r537",borderBottomStartRadius:"dtqh1a21",borderBottomEndRadius:"pdqhzjwd",pointerEvents:"l10tt5db"}},k=[];function a(a){a=a.xstyle;var c=a!==void 0?a:k;a=i.useMemo(function(){return b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[[j.imageShadow].concat(c)])},[c]);return i.jsx("div",{className:a})}c=a;f.empty=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWFilePressableHooks.bs",["LSMediaUrl.bs","MWFileViewerLogger.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_curry","gkx","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:a.threadId,tl:{hd:a.messageId,tl:0}}),1)},[c,a]))}function j(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadId,tl:0}),1)},[c,a]))}function a(a,c,d,e,f,g){var k=i(a),l=j(a),m=b("bs_belt_Option").isSome(b("bs_belt_Option").flatMap(k,function(a){return b("LSMediaUrl.bs").Attachment.previewUrl(a)})),n=b("gkx")("1745"),o=m&&n;return h.useCallback(function(h){d!==void 0&&b("bs_curry")._1(d,h);h={messageID:a,attachmentID:c,thread:l,attachment:k,entryPoint:e,sessionId:f,isRichPreview:o};if(g)return b("MWFileViewerLogger.bs").logFileViewerDirectDownload(h);else return b("MWFileViewerLogger.bs").logFileViewerClick(h)},[l,k,f])}f.useOnPressHandler=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometMessengerFileControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_file/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWFilePressable.bs",["CometEntryPointDialogTrigger.react","CometErrorBoundary.re","CometPressable.react","CurrentEnvironment","FBID.bs","FBLogger","MWFilePDFViewerModalWrapper.entrypoint","MWFilePressableGlimmer.react","MWFilePressableHooks.bs","MWFileViewerLogger.bs","URI","XCometMessengerFileControllerRouteBuilder","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","gkx","react"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h,j){return i.jsx(b("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:b("MWFilePDFViewerModalWrapper.entrypoint"),otherProps:{entryPoint:a,sessionID:h,downloadUri:e},preloadParams:{routeParams:{attachment_id:d,message_id:c.messageId,thread_id:b("bs_int64").to_string(c.threadId)}},fallback:function(a){return i.jsx(b("MWFilePressableGlimmer.react"),{})},children:function(a){var c={display:"inline",onPress:function(c){f!==void 0&&b("bs_curry")._1(f,c);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:j};g!==void 0&&(c.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),c)}})}function k(a,c,d,e,f,g,h,j){d=b("XCometMessengerFileControllerRouteBuilder").buildURL({attachment_id:d,message_id:c.messageId,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadId))});c={entryPoint:a,sessionID:h,downloadUri:e};a={passthroughProps:c,url:d};h={display:"inline",linkProps:a,overlayDisabled:!0,children:j};f!==void 0&&(h.onPress=b("bs_caml_option").valFromOption(f));g!==void 0&&(h.xstyle=b("bs_caml_option").valFromOption(g));return i.jsx(b("CometPressable.react"),h)}function l(a,c,d,e){a=b("bs_belt_Option").map(a,function(a){return{download:!0,target:"_blank",url:a}});e={display:"inline",overlayDisabled:!0,children:e};a!==void 0&&(e.linkProps=b("bs_caml_option").valFromOption(a));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));d!==void 0&&(e.xstyle=b("bs_caml_option").valFromOption(d));return i.jsx(b("CometPressable.react"),e)}function m(a,c,d,e,f,g,h){var i=b("gkx")("1745"),m=!i,n=b("MWFileViewerLogger.bs").generateSessionId(void 0);f=b("MWFilePressableHooks.bs").useOnPressHandler(c,d,f,a,n,m);m=b("CurrentEnvironment").facebookdotcom;if(i)if(m)return k(a,c,d,e,f,g,n,h);else return j(a,c,d,e,f,g,n,h);else return l(e,f,g,h)}function a(a){var c=a.messageID,d=a.attachmentID,e=a.url,f=a.onPress,g=a.entryPoint,j=a.xstyle;a=a.children;return c!==void 0&&typeof c!=="number"&&c.TAG!==0&&d!==void 0&&e!==void 0?i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:m(g,c._0,b("bs_caml_option").valFromOption(d),e,f,j,a),onError:function(a){a=a?a.message:"Cannot open file viewer";b("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);(h||(h=b("URI"))).goURIOnNewWindow(new h(e))}}):l(e,f,j,a)}c=a;f.makeDialogTrigger=j;f.makePushViewLink=k;f.makeFilePressableDirectDownload=l;f.makeFilePressable=m;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatOpenTabByThreadKey.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactType.bs","LSDatabaseType.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","bs_int64","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")(),e=b("MWChatOpenTabForUser.bs").useHook(void 0,c),f=e[0],g=b("MWChatOpenTabForPage.bs").useHook(void 0,c),i=b("MWPActor.bs").useActor(void 0),j=h.useMemo(function(){return new(b("Promise"))(function(c,e){var f=(e=b("ReQL.bs")).mergeJoin(e.filter(e.getKeyRange(e.fromTableAscending(d.table("participants")),{hd:a,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,i)}),e.fromTableAscending(d.table("contacts"))),g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(f,function(a,d){if(typeof d==="number")return;a=d._0[1];if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(a)}});b("promiseDone")(e.first(f),function(e){if(e!==void 0){e=e[1];if(b("bs_caml").i64_ge(e.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(e)}else return}b("promiseDone")(b("LSTransaction.bs").run(d,function(c){return b("LSVerifyThreadRowExists")(a,b("MessagingThreadType.bs").oneToOne,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(c))},"readWrite"),void 0,void 0)})})},[a,d]);return h.useCallback(function(c){b("promiseDone")(j,function(c){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a));c=c.contactType;if(b("bs_caml").i64_eq(c,b("LSContactType.bs").page))return g(d,!1);else return f(d,!1)})},[j,f,g,a])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],function(a,b,c,d,e,f){"use strict";a=b("cr:1737008").Muted;f.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008");f.Muted=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWThread_DEPRECATED.bs","MWTooltip.react","bs_curry","fbicon","react"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.isMuted,d=a.isOngoingCall,e=a.isActiveNow;a=a.actorAttribution;var f=b("MWThread_DEPRECATED.bs").useIdExn(void 0);f=b("MWThread_DEPRECATED.bs").toThreadKey(f);f=b("MWLSThread.bs").useThread(f);var i,k=0;f!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType)?i=j.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:f}):k=1;k===1&&(i=d?g._("__JHASH__440_c1t5rby__JHASH__"):e?g._("__JHASH__u26x21RxFUk__JHASH__"):a!==void 0?a:null);f=c&&i!==null?j.jsx(b("CometMiddot.react"),{}):null;k=c?j.jsx(b("MWTooltip.react"),{tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__"),align:"start",position:"above",children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:"comet_messenger_mute_icon"})}):null;return j.jsxs(j.Fragment,{children:[i,f,k]})}function c(a){return g._("__JHASH__u26x21RxFUk__JHASH__")}function d(a){a=a.forceInlineDisplay;var c={tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__"),align:"start",position:"above",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon,void 0)};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWTooltip.react"),c)}function e(a){return g._("__JHASH__440_c1t5rby__JHASH__")}a=a;c=c;d=d;e=e;f.make=a;f.activeNow=c;f.mutedIcon=d;f.ongoingCall=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1755417")).$$Audio;d=a.Video;e=a.Info;f.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a;f.$$Audio=c;f.Video=d;f.Info=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){return i.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(g("636130"),12),testid:"comet_messenger_mute_icon"})}c={icon:a};f.Muted=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("TetraMWChatRTCButtonIcons.bs",["react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={isActive:{fill:"tejsmfk1"}};function a(a,b){return i.jsxs("svg",{role:"presentation",width:b,height:b,viewBox:"-5 -5 30 30",children:[i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",stroke:a,fill:"none"})]})}e={icon:a};function c(a,c,d){d=d!==void 0?d:!1;var e=d?"-3":"-5";return i.jsxs("svg",{role:"presentation",width:c,height:c,viewBox:e+" -5 30 30",children:[i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),d?i.jsx("circle",{cx:"24",cy:"10",r:"2",className:(h||(h=b("stylex")))(j.isActive)}):null]})}a={icon:c};function d(a,b){return i.jsx("svg",{role:"presentation",name:"icon",width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:i.jsx("path",{fill:a,stroke:a,d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z"},"lens")})})}c={icon:d};f.styles=j;f.$$Audio=e;f.Video=a;f.Info=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWPSafetyNoticesChatBlockedComposer.react",["cr:4333"],function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4333")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWComposerDisclosureContainer.react",["gkx","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return h.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?i.root_new_layout_for_horizontal_buttons:i.root,children:h.jsx("div",{style:c("gkx")("6189")?i.inner_new_layout_for_horizontal_buttons:i.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWComposerDisclosureContainer.bs",["MWComposerDisclosureContainer.react"],function(a,b,c,d,e,f){"use strict";a=b("MWComposerDisclosureContainer.react");f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatComposerGroupMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","JSResource","MWComposerDisclosureContainer.bs","MWIsXacGroupThread.bs","MWLSThread.bs","MWText.react","MWThreadKey.bs","MWVerticalRhythm.bs","MessageRequestsLog.bs","bs_curry","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onDeleteConversation;a=a.onLeaveGroup;var d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("MWLSThread.bs").useThreadExn(d);d=b("MWIsXacGroupThread.bs").check(e);i.useEffect(function(){b("MessageRequestsLog.bs").logMessageRequestInfoShown(e,void 0,void 0,void 0)},[]);var f=i.useRef(null);return i.jsxs(b("MWComposerDisclosureContainer.bs").make,{children:[d?i.jsxs(i.Fragment,{children:[i.jsx(b("MWText.react"),{color:"secondary",type:"entityHeaderMeta3",children:g._("__JHASH__Zo8nGcr-Wbu__JHASH__")}),i.jsx(b("MWVerticalRhythm.bs").make,{height:8})]}):null,i.jsxs(b("MWText.react"),{color:"secondary",type:"body4",children:[d?g._("__JHASH__dGW95F1FSGX__JHASH__"):g._("__JHASH__8Xn13sU52xi__JHASH__"),i.jsx(b("MWVerticalRhythm.bs").make,{height:5}),i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineGroupMessageRequestDialogForJSResource.react").__setRef("MWChatComposerGroupMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:c,onLeaveGroup:a},children:function(a){return i.jsx(b("CometPressable.react"),{ref:f,testid:"mw_group_message_request_info_text_trigger",onPress:function(c){b("MessageRequestsLog.bs").logDenialOptionsTapped(e,void 0,void 0);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:i.jsx(b("MWText.react"),{color:"primary",type:"bodyLink4",children:g._("__JHASH__3yIVRKHeTer__JHASH__")})})}})]})],testid:"mw_group_message_request_info_text"})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatComposerVoiceIndicator.bs",["fbt","CurrentUser","MDSTextPairing.react","MWText.react","getTopMostRoute","react","stylex","useCometRouterState"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"r8vnayig",color:"rtxb060y",marginTop:"ihx95mk1",marginEnd:"pry8b2m5",marginBottom:"kjdc1dyq",marginStart:"p8zq7ayg",paddingTop:"jpugfq45",paddingEnd:"rcpmqwhi",paddingBottom:"onux6t7x",paddingStart:"j4oq8jak"}};function a(a){a=a.forceShown_TEST_ONLY;a=a!==void 0?a:!1;var c=b("useCometRouterState")(),d;if(c==null)d=!1;else{c=b("getTopMostRoute")(c).tracePolicy;d=c!==void 0?c.startsWith("comet.page.admin")||c.startsWith("comet.group.admin"):!1}c=b("CurrentUser").getName();c=g._("__JHASH__moy48BoqFvP__JHASH__",[g._param("full name",j.jsx(b("MWText.react"),{type:"meta2",children:c}))]);if(d||a)return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:c}),level:4,textAlign:"center"})});else return null}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatHotlikeEmitter.bs",["bs_curry"],function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){var c=new Map();return{notify:function(a){c.forEach(function(d,c,e){return b("bs_curry")._1(d,a)})},subscribe:function(a){var b=g.contents;g.contents=g.contents+1|0;c.set(b,a);return function(a){return c["delete"](b)}}}}f.i=g;f.createEmitter=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWContactDetails.bs",[],function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return a.name}function b(a){if(a===void 0)return;var b=a.firstName;if(b!==void 0)return b;else return a.name}function c(a){if(a!==void 0)return a.secondaryName}f.getName=a;f.getShortName=b;f.getSecondaryName=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","FBID.bs","JSResource","MDSTextPairing.react","MWComposerDisclosureContainer.bs","MWContactDetails.bs","MWMessageRequestSharedTexts.bs","MWText.react","MWVerticalRhythm.bs","MessageRequestsLog.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_format","bs_curry","bs_int64","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread;a=a.onDeleteConversation;var d=b("bs_int64").to_string(c.threadKey),e=b("FBID.bs").ofStringExn(d),f=b("useReStore")();d=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(e),tl:0})},[e,f]));var h=b("MWContactDetails.bs").getName(d);h=h!==void 0?h:g._("__JHASH__AaE4hJExM0x__JHASH__");var j=b("MWContactDetails.bs").getShortName(d);j=j!==void 0?j:g._("__JHASH__AaE4hJExM0x__JHASH__");d=b("MWContactDetails.bs").getSecondaryName(d);d=d!==void 0&&d!==""?d:void 0;var k=d!==void 0?i.jsx(b("MWText.react"),{color:"primary",type:"bodyLink4",children:g._("__JHASH__zLPEmz6WvMY__JHASH__")}):null,l=d!==void 0?h!==d?g._("__JHASH__tV1eV-071mI__JHASH__",[g._param("IGDisplayName",h),g._param("IGUserName",d)]):g._("__JHASH__U6KCI1_eCqE__JHASH__",[g._param("IGUserName",d)]):b("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(h),m=d!==void 0?h!==d?g._("__JHASH__EaJEM7eOV5r__JHASH__",[g._param("name",h),g._param("username",d)]):g._("__JHASH__X8pIS11uEl0__JHASH__",[g._param("username",d)]):b("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(h),n=i.useRef(null);i.useEffect(function(){b("MessageRequestsLog.bs").logMessageRequestInfoShown(c,void 0,void 0,void 0)},[]);return i.jsxs(b("MWComposerDisclosureContainer.bs").make,{children:[i.jsx(b("MDSTextPairing.react"),{body:i.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:l}),headline:k,level:4,textAlign:"center"}),i.jsx(b("MWVerticalRhythm.bs").make,{height:5}),i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatDeclineUserMessageRequestDialogForJSResource.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs"),dialogProps:{onDeleteConversation:a,otherUserFbid:e,otherUserName:h,otherUserShortName:j,otherUserSecondaryName:d},children:function(a){return i.jsx(b("CometPressable.react"),{ref:n,testid:"mw_user_message_request_info_text_trigger",onPress:function(d){b("MessageRequestsLog.bs").logDenialOptionsTapped(c,void 0,void 0);return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:i.jsx(b("MWText.react"),{color:"primary",type:"bodyLink4",children:m})})}})],testid:"mw_user_message_request_info_text"})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),d=b[0],e=function(){a.onClose()};return h.jsx(c("TetraButton.react"),{label:a.label,onPress:function(){a.setPWDismissTime(),a.onPress(),d({flowCallbacks:{onClose:e}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2898");c=b("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2899");c=b("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("2900");c=b("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64"],function(a,b,c,d,e,f){"use strict";d={threadKey:(c=b("bs_caml_int64")).zero,bannerId:c.zero,timestampMs:c.zero,iconUrl:void 0,iconUrlFallback:void 0,iconUrlExpirationTimestampMs:void 0,heading:void 0,titleSectionOne:void 0,titleSectionTwo:void 0,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,chevronCtaId:void 0,chevronCtaType:void 0,bannerCtaId:void 0,bannerCtaType:void 0,infoLabel:void 0};e={bannerId:c.zero,ctaId:c.zero,threadKey:c.zero,ctaType:"fallback",ctaTitle:"",deeplinkUrl:void 0,webviewUrl:void 0,contextId:void 0,actionContentBlob:void 0};var g=[];g={banner:d,leftButton:void 0,rightButton:void 0,bannerAction:void 0,overflowMenuActions:g};function a(a,c){var d;return(d=b("ReQL.bs")).map(d.leftJoin(d.getKeyRange(d.fromTableAscending(a.table("in_thread_banner")),{hd:c,tl:0}),d.getKeyRange(d.fromTableAscending(a.table("in_thread_banner_overflow_menu")),{hd:c,tl:0})),function(c){var d=c[1];c=c[0];var e=new Map(b("ReQLSuspense").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("in_thread_banner_ctas")),{hd:c.bannerId,tl:0}),function(a){return[b("bs_int64").to_string(a.ctaId),a]}))),f=function(a){return b("bs_caml_option").nullable_to_opt(e.get(b("bs_int64").to_string(a)))};return{banner:c,leftButton:b("bs_belt_Option").flatMap(c.cta1Id,f),rightButton:b("bs_belt_Option").flatMap(c.cta2Id,f),bannerAction:b("bs_belt_Option").flatMap(c.bannerCtaId,f),overflowMenuActions:d!==void 0?b("bs_belt_Array").keepMap([d.cta1Id,d.cta2Id,d.cta3Id,d.cta4Id,d.cta5Id],function(a){return b("bs_belt_Option").flatMap(a,f)}):[]}})}c={threadKey:c.zero,bannerId:c.zero,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,cta3Id:void 0,cta3Title:void 0,cta3Type:void 0,cta4Id:void 0,cta4Title:void 0,cta4Type:void 0,cta5Id:void 0,cta5Title:void 0,cta5Type:void 0};f.emptyBanner=d;f.emptyCta=e;f.emptyMenu=c;f.empty=g;f.getInThread=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSProactiveWarningTables.bs",["MWLSInThreadBanner.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoizedExn(void 0),d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(d,c)},[d,JSON.stringify(c)]));var e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("thread_proactive_warning_settings")),{hd:c,tl:0})},[d,JSON.stringify(c)]));return{banner:a,pwSettings:e}}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWProactiveWarningPayload.bs",["LsThreadType.bs","MWLSProactiveWarningTables.bs","MWThreadKey.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=a!==void 0?a:!1;a=b("MWLSProactiveWarningTables.bs").useHook(void 0);var f=a.banner,g=a.pwSettings,i=c!==void 0?b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(c.proactiveWarningDismissTime,b("bs_caml_int64").zero),b("bs_caml_int64").zero):!1;return h.useMemo(function(){if(g===void 0)return;if(f===void 0)return;if(!((e||i)&&b("bs_caml").i64_eq(f.banner.bannerId,[0,7])))return;var a=g.context,c=f.banner.heading;if(a===void 0)return;if(c===void 0)return;var h=g.storyLocation,j=g.entryPoint;if(h===void 0)return;if(j===void 0)return;var k=f.banner.cta1Title,l=f.banner.cta2Title;if(k===void 0)return;if(l===void 0)return;var m=f.banner.titleSectionOne,n=g.tag;if(m===void 0)return;if(n===void 0)return;var o=g.suspectId;if(o!==void 0)return{context:a,threadKey:d,header:c,description:m,cta1Title:k,cta2Title:l,falco_event_data:{data:{mute_duration:void 0,evidence_source:void 0,feedback_tags:[n],feedback_secondary_tags:void 0,selected_messages_count:void 0,time_to_report:void 0,is_other_user_mo:void 0,error_string:void 0,entry_point:b("bs_caml_int64").to_int32(j),surface:b("bs_caml_int64").to_int32(h)},thread:{id:b("bs_int64").to_string(d),type:b("bs_caml_int64").to_int32(b("LsThreadType.bs").oneToOne)},otherUser:{id:b("bs_int64").to_string(o)},reportedUser:{id:"0"},impersonatedUser:{id:"0"}}}},[JSON.stringify(d),g!==void 0,f!==void 0,i,e])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWProactiveWarningPayload.re",["MWProactiveWarningPayload.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWProactiveWarningPayload.bs").useHook,a.ignoreDismissTime,c);return a};f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","IXTProactiveWarningFollowUpActionsCell.react","LS.re","LSSetProactiveWarningDismissTime","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWProactiveWarningPayload.re","MWText.react","MWThreadKey.re","TetraButton.react","promiseDone","react","stylex","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k={button:{width:"kdlh4nhn"},buttonsContainer:{display:"alzwoclg",flexDirection:"jl2a5g8c",justifyContent:"sl27f92c",marginTop:"ihx95mk1",width:"mfclru0v"},root:{borderTop:"r8vnayig",color:"rtxb060y",marginTop:"ihx95mk1",paddingTop:"jpugfq45",paddingEnd:"rcpmqwhi",paddingBottom:"dkhokdjc",paddingStart:"j4oq8jak"}};function a(a){var b=a.fallback,d=a.onClose;a=a.thread;var e=c("MWProactiveWarningPayload.re").useHook({},a),f=c("useReStore")(),g=c("MWThreadKey.re").useIdMemoizedExn();j(function(){e!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){return{data:e.falco_event_data.data,impersonated_user:e.falco_event_data.impersonatedUser,other_user:e.falco_event_data.otherUser,reported_user:e.falco_event_data.reportedUser,thread:e.falco_event_data.thread}})},[e]);if(e==null)return b;a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",e.header)]);b=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",e.description)]);var l=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:e.context,label:e.cta1Title,onClose:d,onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){return{data:e.falco_event_data.data,impersonated_user:e.falco_event_data.impersonatedUser,other_user:e.falco_event_data.otherUser,reported_user:e.falco_event_data.reportedUser,thread:e.falco_event_data.thread}})},setPWDismissTime:function(){c("promiseDone")(f.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(g,c("LS.re").make(a))},"readwrite"),d,d)}})}),m=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("TetraButton.react"),{label:h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",e.cta2Title)]),onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){return{data:e.falco_event_data.data,impersonated_user:e.falco_event_data.impersonatedUser,other_user:e.falco_event_data.otherUser,reported_user:e.falco_event_data.reportedUser,thread:e.falco_event_data.thread}}),c("promiseDone")(f.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(e.threadKey,c("LS.re").make(a))},"readwrite"),d,d)},reduceEmphasis:!1,size:"medium",type:"secondary"})});b=i.jsxs(i.Fragment,{children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b}),headline:i.jsx(c("MWText.react"),{color:"primary",type:"bodyLink4",children:a}),level:4,textAlign:"center"}),i.jsxs("div",{className:c("stylex")(k.buttonsContainer),children:[l,m]})]});return i.jsx("div",{className:c("stylex")(k.root),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fallback,d=a.onClose;a=a.thread;return h.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:b,onClose:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","intlList","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:a.contactId,tl:0}))})},[c,JSON.stringify(a.threadKey)]));return i.useMemo(function(){var c=a.threadName;if(c!==void 0)return g._("__JHASH__AZYBx6Ry0lI__JHASH__",[g._param("name of conversation",c)]).toString();var f=[];e.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,d)){f.push(a.name);return}});c=b("intlList")(f,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._("__JHASH__a-kg7czmDb1__JHASH__",[g._param("participant list",c)]).toString()},[JSON.stringify(a.threadKey),JSON.stringify(d)])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerRoundedCorners.bs",["Locale","react","stylex","useUniqueID"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={roundedCornerTopRight:{fill:"cetpsuna",position:"s8sjc6am",top:"ekq1a7f9",end:"on4d8346",pointerEvents:"l10tt5db"},roundedCornerBottomRight:{fill:"cetpsuna",position:"s8sjc6am",bottom:"z6erz7xo",end:"on4d8346",pointerEvents:"l10tt5db"},roundedCornerRtl:{transform:"e4v8prh4"},svg:{display:"b6ax4al1"}};function a(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerTopRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"18",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}d={make:a};function c(a){a=b("useUniqueID")();return i.jsx("div",{className:(h||(h=b("stylex")))(j.roundedCornerBottomRight,b("Locale").isRTL()?j.roundedCornerRtl:!1),children:i.jsxs("svg",{width:"18px",height:"18px",className:h(j.svg),children:[i.jsx("defs",{children:i.jsxs("mask",{id:a,children:[i.jsx("rect",{fill:"white",x:"-18",y:"0",width:"36",height:"36"}),i.jsx("circle",{fill:"black",cx:"0",cy:"0",r:"18"})]})}),i.jsx("rect",{x:"0",y:"0",width:"18",height:"18",mask:"url(#"+(a+")")})]})})}e={make:c};f.styles=j;f.TopRight=d;f.BottomRight=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatComposerMentionsUtils",["remove-accents"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometImageIcon_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,i=f.photoURI;f=f.subtitle;return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,children:h.jsxs("div",{className:"recbdly5 alzwoclg i85zmo3j","data-testid":void 0,children:[g!=null&&h.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}),i!=null&&h.jsx("div",{className:"f1pz0i20 k27skwkl",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:28,src:i,style:"circle"})}),h.jsx("div",{className:"j0k7ypqs",children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatComposerMentionsTypeaheadDataSource",["fbt","CurrentUser","MWChatComposerMentionsUtils","Promise","gkx"],function(a,b,c,d,e,f,g,h){"use strict";var i=6;a=function(){function a(a,b,d){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){var b=a.query,e=[];this.$1.forEach(function(a){var c=a.actualName,f=a.contactId,g=a.nickname,h=a.profilePictureUrl;a=a.secondaryName;var i=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,b)?i="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(c,b)?i="name":g!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,b)&&(i="nickname");if(i!=null&&h!=null){var j;e.push({decorType:"regular",handle:(j=a)!=null?j:i==="nickname"?(j=g)!=null?j:c:c,key:f+" "+i,label:c,rawData:{photoURI:h,source:i,subtitle:(j=a)!=null?j:g},type:"entry"})}});if(c("gkx")("1608686")){var f=h._("__JHASH__ovEnf-Gks1s__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(f,b)){var g=h._("__JHASH__oEf5vzwfdeB__JHASH__").toString();e.push({decorType:"regular",handle:f,key:""+this.$2,label:f,rawData:{source:"all",subtitle:g},type:"entry"})}f=h._("__JHASH__pCjH3XwrsJ-__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(f,b)){g=h._("__JHASH__l7GTPV1uQCP__JHASH__").toString();e.push({decorType:"regular",handle:f,key:this.$2+"-active",label:f,rawData:{source:"all",subtitle:g},type:"entry"})}}e.length>i&&(e=e.slice(0,i));e.length<i&&this.$3&&this.$3(b,i-e.length);return{entries:e,params:a}};e.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID,e=a.triggerParticipantsSearch;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d,e),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d,e]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUnavailableComposer.bs",["fbt","MWText.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"r8vnayig",color:"rtxb060y",marginTop:"ihx95mk1",paddingTop:"jpugfq45",paddingEnd:"rcpmqwhi",paddingBottom:"dkhokdjc",paddingStart:"j4oq8jak"}};function a(a){a=g._("__JHASH__FoZB3MxTOU9__JHASH__");return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:a})})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUnavailableComposer.re",["MWChatUnavailableComposer.bs"],function(a,b,c,d,e,f){a=b("MWChatUnavailableComposer.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatConnectionStatus.bs",["fbt","MWText.react","MqttState.bs","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{textAlign:"hsphh064",display:"b6ax4al1",borderBottom:"dll9zvnh",backgroundColor:"cfq2y70q",paddingTop:"s1m0hq7j",paddingBottom:"rj2hsocd"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MWText.react"),{type:"meta4",children:a})})}function a(a){a=a.connectionStatus;if(a===b("MqttState.bs").connected)return null;else if(a===b("MqttState.bs").disconnected)return l(g._("__JHASH__c91Lbfy37OX__JHASH__"));else if(a===b("MqttState.bs").connecting)return l(g._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}c=a;f.styles=k;f.renderStatus=l;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatConnectionStatusCard.bs",["LSPlatformConnectionStatusContext.bs","MWChatConnectionStatus.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("LSPlatformConnectionStatusContext.bs").context);return h.jsx(b("MWChatConnectionStatus.bs").make,{connectionStatus:a.status})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSMediaSendUtils.bs",["LS.bs","LSMarkSubJobCompletedV2","LSResumeMediaSendJob","bs_caml_format","bs_caml_int64","bs_caml_option"],function(a,b,c,d,e,f){"use strict";var g=function(a){return a.toString()};function a(a,c,d,e,f,h,i){i=e!==void 0?b("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;f=h!==void 0?b("bs_caml_option").valFromOption(h):void 0;return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(g(d)),i!==void 0?b("bs_caml_option").valFromOption(i):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("LS.bs").make(a))}function c(a,c){return b("LSResumeMediaSendJob")(c,b("bs_caml_int64").zero,void 0,b("LS.bs").make(a))}f.castFbidFromNumber=g;f.markSubJobCompleted=a;f.resumeMediaSendJob=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","FBID.bs","LS.bs","LSDict","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSResumeMediaSendJob","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LSVec","MWLSMediaSendUtils.bs","MWPActor.bs","MWThreadKey.bs","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType.bs","MessagingThreadType.bs","Promise","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h){var i=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);return b("LSLocalApplyOptimisticMessageWithAttachments")(c,d,b("MessagingThreadType.bs").oneToOne,void 0,void 0,!1,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,b("LSVec").make([b("LSDict").fromObject({attachment_fbid:i,offline_attachment_id:i,attachment_type:b("MessagingAttachmentType.bs").image,attachment_index:b("bs_caml_int64").zero,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:"image/jpeg ",mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0})]),void 0,b("LS.bs").make(a)).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(e),threadKey:d,offlineThreadingId:e,messageId:void 0,threadAttributionSource:g,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:f,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!0,initiatingSource:void 0,skipUrlPreviewGen:void 0}).then(function(a){return b("Promise").resolve([e,i])})})}function a(a,c){var d=b("useReStore")(),e=b("MWPActor.bs").useActor(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return i.useMemo(function(){return function(g,i,k){var l=b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),m=function(a){var c=a[1],e=a[0],f=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=b("LSTransaction.bs").run(d,function(a){return b("LSInsertNewMediaSend")(c,e,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").image,!1,!1,!1,!1,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},onUploadSuccess:function(a,f){a=b("bs_caml_array").get(f.response.payload.metadata,0);f=a.image_id;if(f===void 0)return;var g=b("bs_caml_option").valFromOption(f);a=b("LSTransaction.bs").run(d,function(a){return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(b("MWLSMediaSendUtils.bs").castFbidFromNumber(g)),void 0,void 0,void 0,b("LS.bs").make(a)).then(function(c){return b("LSResumeMediaSendJob")(e,b("bs_caml_int64").zero,void 0,b("LS.bs").make(a))})},"readWrite");b("promiseDone")(a,void 0,void 0)},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),l)});a=window.fetch(k).then(function(a){return a.blob()}).then(function(a){f.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})],void 0).send();return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},n=b("LSThreadAttributionTypeUtil.bs").getSource(f,a),o=b("LSTransaction.bs").run(d,function(a){return b("LSOptimisticSendMessage")(e,f,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,n,void 0,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,c!==void 0?b("bs_caml_option").valFromOption(c):void 0,void 0,void 0,b("LS.bs").make(a))},"readWrite").then(function(a){return b("LSTransaction.bs").run(d,function(a){return j(a,e,f,k,i,n,c).then(function(a){b("bs_curry")._1(m,a)})},"readWrite")});b("promiseDone")(o,void 0,void 0)}},[d,e,f])}f.usePostbackCtaHandler=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSMarketplaceXmaCallFunctionCtaHandler.bs",["LS.bs","LSOptimisticProcessMarketplaceCallFunctionCTA","LSTransaction.bs","MWPActor.bs","MWThreadKey.bs","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("MWPActor.bs").useActor(void 0);return h.useCallback(function(a){return function(e,f,g){var h=b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticProcessMarketplaceCallFunctionCTA")(a,d,e,f,g,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d,a])}f.useMarketplaceXmaCallFunctionCtaHandler=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSPostbackCtaHandler.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWPActor.bs","MWThreadKey.bs","MessagingThreadType.bs","bs_caml_option","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0),f=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),g=b("LSMessagingSource.bs").useHook(void 0);return h.useMemo(function(){return function(a,h){var i=b("LSThreadAttributionTypeUtil.bs").getSource(e,g);b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticSendMessage")(d,e,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,h,h,!1,void 0,void 0,void 0,void 0,i,void 0,a!==void 0?b("bs_caml_option").valFromOption(a):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0)}},[c,d,e])}f.usePostbackCtaHandler=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSWebUrlCtaHandler.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler.bs"));var c=a[0];return h.useCallback(function(a){return c({htmlBlob:a},function(a){})},[c])}f.useShowWebViewDialog=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_feedback_form_state.form_state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize.bs","bs_caml"],function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0&&!b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").small))if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").medium))return 56;else if(b("bs_caml").i64_eq(a,b("LSHotEmojiSize.bs").large))return 96;else return 32;else return 32}f.transformHotEmojiSizeForWeb=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPollXMAActionHandler.bs",["JSResource","MWThreadKey.bs","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoized(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatPollDetailsDialog").__setRef("MWChatPollXMAActionHandler.bs"));var d=a[0];return h.useCallback(function(a){return function(b){return d({pollId:a,threadKey:c,title:b},function(a){})}},[d])}f.useHandler=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxThreadMessagesSpinner.react",["CometHeroHoldTrigger.react","CometProgressRingIndeterminate.react","react","useIsMountedRef","useVisibilityObserver"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useState;function a(){var a=c("useIsMountedRef")(),b=j(function(){return!1}),d=b[0],e=b[1];b=i(function(){return{onHidden:function(){a.current&&e(!1)},onVisible:function(){a.current&&e(!0)}}},[a,e]);b=c("useVisibilityObserver")(b);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatSpinner",hold:d}),h.jsx("div",{className:"s1m0hq7j rj2hsocd jcxyg2ei mwtcrujb jez8cy9q cgu29s5g jg3vgc78 alzwoclg i85zmo3j lg77cbj3",ref:b,children:d?h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):h.jsx("div",{className:"mfclru0v mwtcrujb lg77cbj3"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMDotMeReferrerContext.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var b=a.children;a=a.referrer;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSCommunityBitOffset.re",["LSCommunityBitOffset.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSCommunityBitOffset.bs").has,a,c);return a};f.has=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSCommunityCapabilityBitOffset.re",["LSCommunityCapabilityBitOffset.bs"],function(a,b,c,d,e,f){c=(a=b("LSCommunityCapabilityBitOffset.bs")).createChannel;f.createChannel=c;d=a.manageMember;f.manageMember=d;e=a.adminModeration;f.adminModeration=e;b=a.fbGroupIcon;f.fbGroupIcon=b;c=a.membersList;f.membersList=c;d=a.audioRoomCreation;f.audioRoomCreation=d;e=a.blockFromCommunity;f.blockFromCommunity=e;b=a.removeFromCommunity;f.removeFromCommunity=b;c=a.muteMember;f.muteMember=c;d=a.adminActions;f.adminActions=d;e=a.channelOrganization;f.channelOrganization=e;b=a.blockOneToOne;f.blockOneToOne=b;c=a.moderatorActions;f.moderatorActions=c;d=a.viewCommunityInviteLink;f.viewCommunityInviteLink=d;e=a.chatImageCustomization;f.chatImageCustomization=e;b=a.reactiveModerationInBlue;f.reactiveModerationInBlue=b;c=a.templateBasedChannelCreation;f.templateBasedChannelCreation=c;d=a.postThreadCreationActions;f.postThreadCreationActions=d;e=a.showInviteAfterCreation;f.showInviteAfterCreation=e;b=a.admodBadgingInBlue;f.admodBadgingInBlue=b;c=a.audioChannelCreation;f.audioChannelCreation=c;d=a.viewCommunityChannelsInviteLinks;f.viewCommunityChannelsInviteLinks=d;e=a.deleteChannel;f.deleteChannel=e;b=a.canCreateInviteOnlyChats;f.canCreateInviteOnlyChats=b;c=a.canCreateBroadcastChats;f.canCreateBroadcastChats=c;d=a.audioChannelNullstate;f.audioChannelNullstate=d;e=a.canSeeAudioChannelsInList;f.canSeeAudioChannelsInList=e;b=a.inviteToCommunity;f.inviteToCommunity=b;c=a.editCommunity;f.editCommunity=c;d=a.showSkipDialogWhenSkippingInInviteAfterCreation;f.showSkipDialogWhenSkippingInInviteAfterCreation=d;e=a.isTopPostsEnabled;f.isTopPostsEnabled=e;b=a.memberToMemberDirectInvite;f.memberToMemberDirectInvite=b;c=a.createChatSuggestion;f.createChatSuggestion=c;d=a.canCreateEventChatsWithDeeplinking;f.canCreateEventChatsWithDeeplinking=d;e=a.isIcebreakersEnabled;f.isIcebreakersEnabled=e;b=a.canViewEntityMenu;f.canViewEntityMenu=b;c=a.shouldShowNavMenuBadge;f.shouldShowNavMenuBadge=c;d=a.canEditNickname;f.canEditNickname=d;e=a.createChannelAsMember;f.createChannelAsMember=e;b=a.communityHasImplicitJoinChannel;f.communityHasImplicitJoinChannel=b;c=a.shouldRemoveOptionalFieldsInManualChatCreation;f.shouldRemoveOptionalFieldsInManualChatCreation=c;d=a.showAdminAutocreateChatInterstitial;f.showAdminAutocreateChatInterstitial=d;e=a.adminInviteActions;f.adminInviteActions=e;b=a.canDeleteCommunity;f.canDeleteCommunity=b;c=a.admodNewBadgeOnCommunity;f.admodNewBadgeOnCommunity=c;d=a.directInviteNonMemberChatLevel;f.directInviteNonMemberChatLevel=d;e=a.hasMoreThanOneAdmin;f.hasMoreThanOneAdmin=e;b=a.hasMoreThanOneMember;f.hasMoreThanOneMember=b;c=a.canUpdateMemberRequestsApprovalSetting;f.canUpdateMemberRequestsApprovalSetting=c;d=a.canViewMemberRequests;f.canViewMemberRequests=d;e=a.canViewBlockedFromCommunityMemberList;f.canViewBlockedFromCommunityMemberList=e;b=a.isCommunityBotsEnabled;f.isCommunityBotsEnabled=b;c=a.canCreateEventsInThread;f.canCreateEventsInThread=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset.re","LSCommunityCapabilityBitOffset.re","MWInboxPersistedUIState","ReQL","ReQLSuspense","TetraButtonGroup.react","react","useCometLazyDialog","useReStore","useVisibilityObserver"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState,l=c("JSResourceForInteraction")("LSMuteThreadDialogForJSResource.react").__setRef("MWCMAutoJoinNotifNUX.react");function m(a){var b=a.thread;a=c("useCometLazyDialog")(l);var e=a[0];a=k(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var m=a[0],n=a[1];a=j(m);var o=j(!1);m=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,n(function(a){return a+1}))}});return a.current<3&&!f?i.jsx("div",{className:"b0ur3jhr s7ceg5uy lg77cbj3",ref:m,children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.thread,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("community_folders")).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey]);if(a){a=c("LSCommunityBitOffset.re").has(c("LSCommunityCapabilityBitOffset.re").communityHasImplicitJoinChannel,a);return a?i.jsx(m,{thread:b}):null}else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCMNux",["nux:54"],function(a,b,c,d,e,f,g){"use strict";a=b("nux:54")==null?void 0:b("nux:54")("mw_cm_onboarding_nux");c=a;g["default"]=c},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWCMInboxInterstitialNux.bs",["CurrentEnvironment","JSResourceForInteraction","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSTransaction.bs","Promise","ReQL.bs","bs_curry","promiseDone","react","useCMNux","useCometLazyDialog","useReStore","useVisibilityObserver"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:!1};function a(a){var c=a.folderOrThread,d=b("useReStore")();a=b("useCMNux");a=a!==void 0?b("bs_curry")._1(a,void 0):[!1,void 0];var e=a[1],f=a[0],g=b("useVisibilityObserver")({onHidden:e!==void 0?e.onHidden:function(a){},onVisible:e!==void 0?e.onVisible:function(a){}});a=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWCMOnboardingNuxDialogResource.react").__setRef("MWCMInboxInterstitialNux.bs"));var j=a[0];e=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWCMOnboardingNuxDialogFDSResource.react").__setRef("MWCMInboxInterstitialNux.bs"));var k=e[0];h.useEffect(function(){if(f&&!i.contents)if(c.TAG===0){if(b("CurrentEnvironment").messengerdotcom){var a=c._0,e=b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").communityHasImplicitJoinChannel,a);i.contents=!0;j({folder:a,isAutoJoin:e,visibilityRef:g,onClose:void 0},function(a){})}}else if(!b("CurrentEnvironment").messengerdotcom){var h=c._0;b("promiseDone")(b("LSTransaction.bs").run(d,function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("community_folders")),{hd:h.parentThreadKey,tl:0})).then(function(c){if(c!==void 0){var a=b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").communityHasImplicitJoinChannel,c);i.contents=!0;k({folder:c,isAutoJoin:a,visibilityRef:g,onClose:void 0},function(a){})}return b("Promise").resolve(void 0)})},"readOnly"),void 0,void 0)}},[f,i,j,k]);return null}c=a;f.hasShownDialog=i;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWCMOnboardingNuxFactory.react",["declareNUXRequireable","useNUX"],function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){return c("useNUX")(a)}}b=c("declareNUXRequireable")(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","MAWGating.bs","MWChatContactPresenceHook.bs","MWPActor.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:4452","cr:4453","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var c=a.threadKey;a=b("bs_int64").to_string(c);var d=b("useReStore")(),e=b("MWPActor.bs").useActor(void 0);return b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return a.contactId})},[d,e,a]))}function l(a){var c=a.contactId,d=a.renderWrapper;a=a.renderNullState;var e=b("MWChatContactPresenceHook.bs").useIsActive(c);c=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(c);if(e)return b("bs_curry")._1(d,j);else if(c!==void 0)return b("bs_curry")._1(d,g._("__JHASH___H_8HkZmS8j__JHASH__",[g._param("time",i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(c),format:"minimized"}))]));else return b("bs_curry")._1(a,void 0)}c={make:l};function m(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;c=k(c);if(c.length!==1)return b("bs_curry")._1(a,void 0);c=c[0];return i.jsx(l,{contactId:c,renderWrapper:d,renderNullState:a})}d={PresenceText:c,make:m};function n(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;c=k(c);c=b("MWChatContactPresenceHook.bs").useHasActiveContact(c);if(c)return b("bs_curry")._1(d,j);else return b("bs_curry")._1(a,void 0)}e={make:n};function o(a){return a}function p(a){return null}function a(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;d=d!==void 0?d:o;a=a!==void 0?a:p;var e=c.threadType;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)&&b("MAWGating.bs").isArmadillo(void 0)&&b("MAWGating.bs").isPresenceEnabled(void 0))if(b("cr:4453")==null)return i.jsx(m,{thread:c,renderWrapper:d,renderNullState:a});else return i.jsx(b("cr:4453").make,{thread:c,renderWrapper:d,renderNullState:a});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaGroup)&&b("MAWGating.bs").isArmadillo(void 0)&&b("MAWGating.bs").isPresenceEnabled(void 0))if(b("cr:4452")==null)return i.jsx(n,{thread:c,renderWrapper:d,renderNullState:a});else return i.jsx(b("cr:4452").make,{thread:c,renderWrapper:d,renderNullState:a});else return null}c=a;f.OneOnOnePresence=d;f.GroupPresence=e;f.defaultRenderWrapper=o;f.defaultRenderNullState=p;f.$GroupPresenceText$requireCond=b("cr:4452");f.$OneOnOnePresenceText$requireCond=b("cr:4453");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSContactVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","bs_caml_option","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"fwlpnqze"}};function a(a){var c=a.contact,d=a.size;a=a.icon;c=b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,c);if(c!==void 0&&c)return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:a!==void 0?b("bs_caml_option").valFromOption(a):d!==void 0?i.jsx(b("CometPageVerificationIcon.react"),{size:d,verificationBadge:"BLUE_VERIFIED"}):null});else return null}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSVerificationBadge.bs",["LSContactVerificationBadge.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","bs_caml_option","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.size;a=a.icon;var e=b("useReStore")(),f=b("MWPActor.bs").useActor(void 0),g=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).take(a.map(a.filter(a.getKeyRange(a.fromTableAscending(e.table("participants")),{hd:c.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,f)}),function(a){var c=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0}));return[a,c]}),2)},[e,JSON.stringify(c.threadKey),f])),i=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:f,tl:0})},[e,f])),j=g.length;if(j!==1){if(j!==0)return null;if(i===void 0)return null;j=i}else{i=g[0];g=i[1];if(g===void 0)return null;j=g}i={contact:j};d!==void 0&&(i.size=b("bs_caml_option").valFromOption(d));a!==void 0&&(i.icon=b("bs_caml_option").valFromOption(a));return h.jsx(b("LSContactVerificationBadge.bs").make,i)}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxHeaderDetails.bs",["CometMiddot.react","CometPlaceholder.react","LSPresenceStatusText.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWText.react","MWVerticalRhythm.bs","MessagingThreadType.bs","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","bs_caml_option","cr:4188","react","stylex","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"alzwoclg",flexDirection:"cqf1kptm",alignItems:"hael596l",justifyContent:"jcxyg2ei",flexGrow:"cgu29s5g",minHeight:"dn6jqzda"},item:{maxWidth:"gvxzyvdx",display:"alzwoclg",alignItems:"i85zmo3j"},middot:{paddingEnd:"l5bkvekt",paddingStart:"ibmpe6vl"}};function a(a){var c=a.thread,d=a.threadNameSize,e=a.color,f=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:c.threadKey,tl:0}),b("MWLSContactTypeExactUtils.bs").isIgContact)},[f,JSON.stringify(c.threadKey)]));var g;if(a!==void 0){a=a.secondaryName;g=a!==void 0&&a!==""?a:null}else g=null;a=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);var k=b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").discoverablePublicChat),l=b("MessengerMuteUtils.bs").calcMuteUntilMs(c),m=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(l);l=b("bs_caml").i64_neq(c.ongoingCallState,b("LSRtcCallState.bs").noOngoingCall);var n={align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("CometMiddot.react"),{})};e!==void 0&&(n.color=b("bs_caml_option").valFromOption(e));var o=i.jsx("div",{className:(h||(h=b("stylex")))(j.middot),children:i.jsx(b("MWText.react"),n)});n=i.jsx(b("LSThreadTitle.bs").make,{thread:c});d={align:"center",isSemanticHeading:!0,type:d,numberOfLines:1,children:[n,i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"small"}),fallback:null})],testid:"mw_inbox_header_details_title"};e!==void 0&&(d.color=b("bs_caml_option").valFromOption(e));if(k){n=c.memberCount;k=b("cr:4188")==null||n===void 0?null:i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:8}),i.jsx(b("MWText.react"),{align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("cr:4188").make,{count:b("bs_caml_int64").to_int32(n)})})]})}else if(a)k=i.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:c,renderWrapper:function(a){a={align:"center",type:"meta3",numberOfLines:1,children:a};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsx("div",{className:(h||(h=b("stylex")))(j.item),"data-testid":"mwcm_inbox_header_community_name",children:i.jsx(b("MWText.react"),a)})]})}});else{if(l){if(g!==null){n={align:"center",type:"meta3",numberOfLines:1,children:g};e!==void 0&&(n.color=b("bs_caml_option").valFromOption(e));a=i.jsx(b("MWText.react"),n)}else a=null;l={align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})};e!==void 0&&(l.color=b("bs_caml_option").valFromOption(e));n=i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsxs(b("MWSeparatorContainer.react"),{children:[a,i.jsx(b("MWText.react"),l),m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})]})}else n=i.jsx(b("LSPresenceStatusText.bs").make,{thread:c,renderWrapper:function(a){if(g!==null){var c={align:"center",type:"meta3",numberOfLines:1,children:g};e!==void 0&&(c.color=b("bs_caml_option").valFromOption(e));c=i.jsx(b("MWText.react"),c)}else c=null;a={align:"center",type:"meta3",numberOfLines:1,children:a};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsxs(b("MWSeparatorContainer.react"),{children:[c,i.jsx(b("MWText.react"),a),m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})]})},renderNullState:function(a){if(g!==null){a={align:"center",type:"meta3",numberOfLines:1,children:g};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));a=i.jsx(b("MWText.react"),a)}else a=null;return i.jsxs(b("MWSeparatorContainer.react"),{beforeContent:i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),children:[a,m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})}});k=i.jsx(i.Fragment,{children:n})}return i.jsxs("div",{className:h(j.container),children:[i.jsx("div",{className:h(j.item),children:i.jsxs(b("MWText.react"),d)}),k]})}c=b("cr:4188");d=a;f.$MWInboxHeaderPublicChatSubText$requireCond=b("cr:4188");f.mMWInboxHeaderPublicChatSubText=c;f.styles=j;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.secondaryName,d=b("MWLSContactTypeExactUtils.bs").isIgContact(a);return c!==void 0&&d?"https://www.instagram.com/"+c:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id))})}var i={expanding:{display:"alzwoclg"}};function c(a){var c=a.contact,d=a.children,e=a.isText,f=a.label;a=a.testid;e=e!==void 0?e:!0;var g=f!==void 0?b("bs_caml_option").some(f):void 0,j=c.secondaryName,k=b("MWLSContactTypeExactUtils.bs").isIgContact(c);if(j!==void 0&&k){k="https://www.instagram.com/"+j;if(e){j={href:k,target:"_blank",children:d};f!==void 0&&(j.label=f);a!==void 0&&(j.testid=a);return h.jsx(b("CometLink.react"),j)}j={expanding:!0,linkProps:{target:"_blank",url:k},overlayRadius:6,xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(j.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(j.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),j)}k=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.id))});j=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(e){c={href:k,children:d};j!==void 0&&(c.target=b("bs_caml_option").valFromOption(j));f!==void 0&&(c.label=f);a!==void 0&&(c.testid=a);return h.jsx(b("CometLink.react"),c)}e={url:k};j!==void 0&&(e.target=b("bs_caml_option").valFromOption(j));f={expanding:!0,linkProps:e,overlayRadius:6,xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(f.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),f)}d=c;f.getHref=a;f.styles=i;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWCMUseFolder.bs","MWInboxHeaderDetails.bs","MWThreadPicture.bs","MWUseAriaLabelForThread.bs","MWV2GetOtherUser.bs","ReQL.bs","ReQLSuspense","bs_caml_option","bs_curry","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={title:{maxWidth:"gvxzyvdx"}};function j(a){var c=a.thread,d=a.children,e=h.useRef(null),f=b("useReStore")();a=b("ReQLSuspense").useArray(function(){var a;return(a=b("ReQL.bs")).take(a.leftJoin(a.getKeyRange(a.fromTableAscending(f.table("participants")),{hd:c.threadKey,tl:0}),a.fromTableAscending(f.table("contacts"))),8)},[c.threadKey]);a=b("MWV2GetOtherUser.bs").useOtherUser(c,a);var g=b("MWCMUseFolder.bs").useHook(c),j=b("MWUseAriaLabelForThread.bs").useHook(c);if(a!==void 0){a=a[1];return h.jsx(b("LSContactLink.bs").make,{contact:a,children:d,isText:!1,label:a.name})}if(!b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType))return d;a={onClose:function(a){}};g!==void 0&&(a.folder=b("bs_caml_option").valFromOption(g));return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{name:"MWLSGroupMembershipDialog","class":"fluid"}).__setRef("MWInboxHeaderDetailsContainer.bs"),dialogProps:a,children:function(a){return h.jsx(b("CometPressable.react"),{"aria-label":j,ref:e,onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[i.title]},children:d})}})}c={styles:i,make:j};var k={detailsContainer:{paddingStart:"f1iqohp5"}};function a(a){var c=a.thread,d=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color;a=a.isContainerPressable;d=d!==void 0?d:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";a=a!==void 0?a:!0;d=h.jsx(b("MDSRowItem.react"),{children:h.jsx(b("MWThreadPicture.bs").make,{photoSize:d,badgeSize:e,thread:c,withAltText:!1})});e={thread:c,threadNameSize:f};g!==void 0&&(e.color=b("bs_caml_option").valFromOption(g));f=h.jsx(b("MDSRowItem.react"),{expanding:!0,xstyle:[k.detailsContainer],children:h.jsx(b("MWInboxHeaderDetails.bs").make,e)});return h.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:h.jsx(b("CometPlaceholder.react"),{children:a?h.jsxs(j,{thread:c,children:[d,f]}):h.jsxs(h.Fragment,{children:[h.jsx(j,{thread:c,children:d}),f]}),fallback:null})})}d=a;f.ThreadPressable=c;f.styles=k;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.children,e=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),dialogProps:{thread:c,onClose:function(a){}},children:function(a){return b("bs_curry")._2(d,a,e)}})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FDSInboxInfoQuickActionIcons.bs",["ix","fbicon"],function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("869051"),20);d={icon:c};e=a._(g("532353"),20);b={icon:e};c=a._(g("664775"),20);e={icon:c};c=a._(g("491283"),20);c={icon:c};var h=a._(g("497885"),20);h={icon:h};a=a._(g("642537"),20);g={icon:a};f.Profile=d;f.Mute=b;f.Unmute=e;f.Search=c;f.Invite=h;f.$$Image=g},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWInboxInfoQuickActionIcons.bs",["cr:11889"],function(a,b,c,d,e,f){"use strict";c=(a=b("cr:11889")).Profile;d=a.Mute;e=a.Unmute;b=a.Search;var g=a.Invite,h=a.$$Image;f.$MDSInboxInfoQuickActionIcons$OR$FDSInboxInfoQuickActionIcons$requireCond=a;f.Profile=c;f.Mute=d;f.Unmute=e;f.Search=b;f.Invite=g;f.$$Image=h},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWText.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{position:"om3e55n1",backgroundColor:"lg77cbj3"},sheet:{borderBottom:"mfycix9x"},sheetInner:{width:"mfclru0v",paddingBottom:"n68fow1o"},image:{marginEnd:"l7ghb35v"},infoLabel:{backgroundColor:"a5wdgl2o",borderTopStartRadius:"dl2p71xr",borderTopEndRadius:"h0c7ht3v",borderBottomEndRadius:"j8nb7h05",borderBottomStartRadius:"gffp4m6x",overflowX:"lq84ybu9",overflowY:"hf30pyar",paddingTop:"sf3txhl0",paddingEnd:"fzd7ma4j",paddingBottom:"tr46kb4q",paddingStart:"lcfup58g",textOverflow:"oshhggmv",whiteSpace:"qm54mken"},grow:{flexGrow:"cgu29s5g"},linkBanner:{width:"mfclru0v"}};function k(a){var c=a.button;a=a.action;var d=c.ctaTitle;if(typeof a==="number"){b("recoverableViolation")("In thread banner cta not implemented, CTA type: "+c.ctaType+" CTA Title: "+c.ctaTitle,"messenger_web_product");return null}switch(a.TAG|0){case 0:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",linkProps:{target:"_blank",url:a._0}})});case 1:var e=a._0;c={label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(e,void 0)}};a._1!==void 0&&(c.ref=b("bs_caml_option").valFromOption(a._1));return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),c)});case 2:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:b("bs_curry")._1(a._0,function(a,c,e,f,g,h,j){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a})})})}}c={make:k};function a(a){var c=a.banner;a=a.ctaParser;var d=c.banner.iconUrl;d=d!==void 0?i.jsx(b("MDSRowItem.react"),{expanding:!1,children:i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:i.jsx(b("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=i.jsx(b("MDSRowItem.react"),{expanding:!0,children:i.jsx(b("MDSTextPairing.react"),{body:b("bs_belt_Option").getWithDefault(c.banner.titleSectionOne,"")+b("bs_belt_Option").getWithDefault(c.banner.titleSectionTwo,""),meta:b("bs_belt_Option").mapWithDefault(c.banner.heading,null,function(a){return a}),level:4,bodyLineLimit:1,metaLineLimit:1,metaLocation:"above"})}),f=c.banner.infoLabel;f=f!==void 0?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MWText.react"),{type:"meta1",children:i.jsx("span",{className:(h||(h=b("stylex")))(j.infoLabel),children:f})})}):null;var g=c.leftButton,l=c.rightButton,m,n=0,o;g!==void 0?l!==void 0?m=i.jsxs(b("MDSRow.react"),{paddingTop:8,spacing:4,children:[i.jsx(k,{button:g,action:b("bs_curry")._2(a,c,g)}),i.jsx(k,{button:l,action:b("bs_curry")._2(a,c,l)})]}):(o=g,n=1):l!==void 0?(o=l,n=1):m=null;n===1&&(m=i.jsx(b("MDSRow.react"),{paddingTop:8,children:i.jsx(k,{button:o,action:b("bs_curry")._2(a,c,o)})}));var p=i.jsxs("div",{className:(h||(h=b("stylex")))(j.sheetInner),children:[i.jsxs(b("MDSRow.react"),{children:[d,e,f]}),m]});g=b("bs_belt_Option").map(c.bannerAction,b("bs_curry")._1(a,c));var q;if(g!==void 0)if(typeof g==="number")b("recoverableViolation")("In thread banner cta not implemented: "+b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bannerAction,function(a){return a.ctaType}),""),"messenger_web_product"),q=p;else switch(g.TAG|0){case 0:q=i.jsx(b("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[j.linkBanner]},children:p});break;case 1:var r=g._0;l={expanding:!0,onPress:function(a){return b("bs_curry")._1(r,void 0)},children:p};g._1!==void 0&&(l.ref=b("bs_caml_option").valFromOption(g._1));q=i.jsx(b("CometPressable.react"),l);break;case 2:q=b("bs_curry")._1(g._0,function(a,c,d,e,f,g,h){return i.jsx(b("CometPressable.react"),{expanding:!0,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},children:p})});break}else q=p;return i.jsx("div",{className:h(j.container),children:i.jsx("div",{className:h(j.sheet),children:q})})}d=a;f.styles=j;f.BannerButton=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSFetchBanners")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","LSTransaction.bs","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){var d=b("LSTransaction.bs").run(c,function(c){return b("LSExecuteCTA")(a,b("LS.bs").make(c))},"readWrite");b("promiseDone")(d,void 0,void 0)},[c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSMarketplaceServerMutationCta.bs",["LS.bs","LSServerMutationCta","LSTransaction.bs","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return function(d){var e=b("LSTransaction.bs").run(c,function(c){return b("LSServerMutationCta")(a,d,b("LS.bs").make(c))},"readWrite");b("promiseDone")(e,void 0,void 0)}},[c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSMarketplaceCtaParser.bs",["CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(c);d=new Set(c.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function j(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(c.table("participants")),{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),function(a){return a.contactId})},[JSON.stringify(d),e,c]);a=b("ReQLSubscription.bs").useFirst(a);if(a!==void 0)return b("bs_int64").to_string(a)}function a(a){var c,d=b("MWLSExecuteInThreadBannerCta.bs").useHook(void 0),e=b("MWLSMarketplaceServerMutationCta.bs").useHook(void 0),f=j(void 0),g=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var k=a[0],l=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("bs_int64").to_string(l);var m=(c=b("useCometEntryPointDialog"))(b("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:a}),n=m[0];m=c(b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:a});var o=c(b("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:a}),p=o[0];o=c(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:a});var q=o[0];return h.useMemo(function(){var a=function a(c,j){var m=j.ctaType;if(m==="marketplace_see_details"||m==="marketplace_banner_open_native"){var o=j.webviewUrl;if(o!==void 0)return{TAG:0,_0:o};o=j.deeplinkUrl;if(o!==void 0)return{TAG:0,_0:o};else{b("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return 0}}if(m==="marketplace_view_profile"){o=j.webviewUrl;if(o!==void 0)return{TAG:0,_0:o};o=j.deeplinkUrl;if(o!==void 0)return{TAG:0,_0:o};else{b("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return 0}}if(m==="marketplace_more_options"&&c.overflowMenuActions.length>0)return{TAG:2,_0:function(d){return h.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),popoverProps:{menu:c.overflowMenuActions,ctaParser:function(b){return a(c,b)}},align:"end",children:d})}};if(m==="marketplace_report_buyer"||m==="marketplace_report_seller")if(f!==void 0)return{TAG:1,_0:function(a){return k({entryPoint:"REPORT_BUTTON",id:f,location:m==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:g};else{b("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return 0}if(m==="marketplace_mark_as_sold_with_txn_survey"||m==="marketplace_mark_as_sold_with_txn_survey_scaled")return{TAG:1,_0:function(a){return b("bs_curry")._1(d,j.ctaId)},_1:void 0};if(i.has(m))return{TAG:1,_0:function(a){return b("bs_curry")._1(d,j.ctaId)},_1:void 0};if(m!=="marketplace_server_mutation")if(m==="marketplace_label_chat")return{TAG:1,_0:function(a){return n({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else if(m==="marketplace_mark_as_paid")return{TAG:1,_0:function(a){return p({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else if(m==="marketplace_create_discount")return{TAG:1,_0:function(a){b("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else return 0;o=j.actionContentBlob;var r=o!==void 0?b("bs_belt_Option").getExn(b("bs_js_json").decodeString(b("bs_belt_Option").getExn(b("bs_js_dict").get(b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(JSON.parse(o))),"marketplace_cta_type")))):"";return{TAG:1,_0:function(a){return b("bs_curry")._2(e,l,r)},_1:void 0}};return a},[d,e,f,k,g,n,m[0],l])}f.marketplaceCta=d;f.useOtherParticipantId=j;f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MWLSMarketplaceCtaParser.bs").useHook(void 0),d=b("MWLSAdContextCtaParser.bs").useHook(void 0);return function(a,e){var f=e.ctaType;if(b("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return b("bs_curry")._2(c,a,e);else if(b("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b("bs_curry")._2(d,a,e);else return 0}}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWProactiveWarningNoticeInThreadBanner.react",["ix","CometIcon.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWText.react","fbicon","react","stylex","useIXTProactiveWarningFlowTriggerDialog"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={chevron:{paddingTop:"ngbj85sm"},container:{backgroundColor:"lg77cbj3",position:"om3e55n1"},grow:{flexGrow:"cgu29s5g",paddingTop:"f9xcifuu"},image:{paddingTop:"sf3txhl0"},linkBanner:{width:"mfclru0v"},sheet:{borderBottom:"mfycix9x"},sheetInner:{paddingBottom:"n68fow1o",width:"mfclru0v"}};function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),e=b[0],f=function(){};return i.jsx("div",{className:c("stylex")(j.container),children:i.jsx("div",{className:c("stylex")(j.sheet),children:i.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){e({flowCallbacks:{onClose:f}})},xstyle:j.linkBanner,children:i.jsx("div",{className:c("stylex")(j.sheetInner),children:i.jsxs(c("MDSRow.react"),{children:[i.jsx(c("MDSRowItem.react"),{xstyle:j.image,children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("492713"),16),size:16})})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(c("MWText.react"),{type:"body3",children:a.label})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.chevron,children:i.jsx(c("MWText.react"),{type:"body3",children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{disabled:!0,icon:d("fbicon")._(h("492547"),10),size:10})})})})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWLSThread.bs","MWProactiveWarningNoticeInThreadBanner.react","MWThreadKey.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1066","qex","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=b("cr:1066")==null?void 0:b("bs_caml_option").some(b("cr:1066"));var i=b("cr:1066")==null?function(a,b){}:b("cr:1066").useHook;function a(a){b("MWLSEnsureInThreadBannerExists.bs").useHook(void 0);b("MWLSEnsureAdContextExists.bs").useHook(void 0);var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(c,d)},[c,d]);a=b("ReQLSubscription.bs").useFirst(a);var e=b("MWLSInThreadBannerCtaParser.bs").useHook(void 0),f=b("MWLSThread.bs").useThread(d),g=b("bs_curry")._2(i,!0,f);if(a===void 0)return null;var j=a.banner.bannerCtaType;if(j!==void 0){if(j==="ads_context")if(b("qex")._("1509")===!0)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return null;j=1}else j=1;if(j===1){j=a.banner.cta1Type;var k=a.banner.cta2Type;if(j!==void 0&&k!==void 0){if(j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||k==="proactive_warning_affirmative"||k==="proactive_warning_negative")if(!(b("cr:1066")==null)&&g!==void 0&&f!==void 0&&b("bs_caml").i64_gt(b("bs_belt_Option").getWithDefault(f.proactiveWarningDismissTime,b("bs_caml_int64").zero),b("bs_int64").zero))return h.jsx(b("MWProactiveWarningNoticeInThreadBanner.react"),{label:"See things you can do to stay safe",context:g.context});else return null;j=2}else j=2;if(j===2)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e})}}d=a;f.$MWProactiveWarningPayload$OR$null$requireCond=b("cr:1066");f.canfetchProactiveWarningForTopBanner=c;f.useFetchProactiveWarningPaylod=i;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSLogSend.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f,g,h){var i=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,i);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));a.addMetadata("is_dual_send",f?"true":"false");a.addMetadata("is_message_request",g?"true":"false");a.addMetadata("thread_type",b("bs_int64").to_string(h));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}function a(a,b,c,d,e,f){return function(d){return function(h){return g(a,b,c,e,d,h,f)}}}f.logSentHeroInteraction=g;f.logSentWithHeroInteraction=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWVersion.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.v1=a;f.v2=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessagingLoggingUtils.bs",["MessagingAttachmentType.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","bs_caml"],function(a,b,c,d,e,f){"use strict";function a(a){if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").none))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").none;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").sticker))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").sticker;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").image))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").image;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").animatedImage))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").gif;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").video))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").video;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").audio))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").audio;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").file))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").application;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").xma))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").share;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").ephemeralImage))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").image;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").ephemeralVideo))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").videoMessage;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").selfieSticker))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").selfieSticker;else if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").soundBite))return b("MessagingLoggingUtilsAttachmentTypeInt.bs").soundBite;else return b("MessagingLoggingUtilsAttachmentTypeInt.bs").none}f.convertToAttachmentType=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerFormattingConfig",[],function(a,b,c,d,e,f){e.exports=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}})},null);
__d("MWChatTextFormatting",["$InternalEnum","MessengerFormattingConfig","TetraText.react","UnicodeUtils","cr:1695543","react","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"n3t5jt4f lcfup58g o9wcebwi fzd7ma4j d2hqwtrz ta68dy8c kpwa50dg m0cukt09 h8391g91 kgnml90y",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"n3t5jt4f lcfup58g o9wcebwi fzd7ma4j d2hqwtrz ta68dy8c kpwa50dg m0cukt09 h8391g91 kgnml90y",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=k[0].length;g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.MessengerTextFormattingEntity=i;g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","bs_curry","cr:385","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={replyToText:{color:"rtxb060y"}};function a(a){var c=a.transformEmoticons,d=a.isHotLike,e=a.text;a=a.ranges;c=c!==void 0?c:!0;d=d!==void 0?d:!1;var f={};f.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];e=b("cr:385")==null?e:b("bs_curry")._1(b("cr:385").unvault,e);var h=g._("__JHASH__HyRDoZftJu4__JHASH__").toString();d=d?h:e;h={maxLength:120,maxLines:2,truncationStyle:"ellipsis-only",withParagraphs:!1,text:d,renderers:f,transforms:c?b("MWChatTextTransform.bs").epdTextTransformsNoVault:[]};a!==void 0&&(h.ranges=b("bs_caml_option").valFromOption(a));e=j.jsx(b("CometTextWithEntities.react"),h);return j.jsx("div",{dir:"auto",className:(i||(i=b("stylex")))(k.replyToText),children:e})}c=a;f.styles=k;f.$MAWVault$requireCond=b("cr:385");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MessageRowActionsContext.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c={current:function(a){}};d={current:function(a){}};e={current:function(a){}};b={current:function(a){}};c={forwardMessage:c,openReactionsMenu:d,removeMessage:e,replyToMessage:b};var i=h.createContext(c);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{value:a,children:b})}d={make:a};f.emptyValue=c;f.context=i;f.Provider=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useCometRouterIsChatEntity",["getCometEntityKey","recoverableViolation","useCometRouterState"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null){c("recoverableViolation")("Router state is not defined in `useCometRouterIsChatEntity`","work_comet_core");return!1}var b=c("getCometEntityKey")(a.main.route);if(b==null){c("recoverableViolation")("Entity keys are not defined for "+a.main.route.url,"work_comet_core");return!1}a=b.entity_type==="chat";b=b.section==="WORK_CHAT";return a||b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatReactionsAction.bs",["fbt","CometKeys","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","ODS","bs_belt_Option","bs_curry","gkx","react","stylex","useCometRouterIsChatEntity"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={remove:"REMOVE_REACTION",add:"ADD_REACTION"};var k=b("MWChatColors.bs").MessageActions.styles,l={popoverLoading:{minHeight:"g58a3rgm",minWidth:"sk8cf6mp"}};function m(a){}var n=j.jsxs("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22",children:[j.jsx("circle",{cx:"11",cy:"11",r:"7",strokeWidth:"1.5px",className:(i||(i=b("stylex")))(k.svgStroke)}),j.jsx("path",{d:"M8,13Q11,16,14,13",className:i(k.svgStroke),strokeWidth:"1.5px"}),j.jsx("circle",{cx:"9",cy:"10",r:"1.2",className:i(k.svgFill)}),j.jsx("circle",{cx:"13",cy:"10",r:"1.2",className:i(k.svgFill)})]});d={key:b("CometKeys").UP};e={key:b("CometKeys").DOWN};function a(a){var c=a.onVisibilityChange,d=a.sendReaction,e=a.align,f=a.selectedReaction,h=a.closeActionsMenu,o=a.messageID,p=a.isSecure;a=a.disableCustomReactions;p=p!==void 0?p:!1;a=a!==void 0?a:!1;var q=g._("__JHASH__czR8vxcW0mN__JHASH__"),r=b("gkx")("1224637")&&b("useCometRouterIsChatEntity")(),s=j.useState(function(){return!1}),t=s[1],u=s[0];s=j.useContext(b("MWV2MessageRowActionsContext.bs").context);var v=s.openReactionsMenu,w=j.useCallback(function(a){if(b("gkx")("3417")){v.current=m;return}},[v]);j.useEffect(function(){return w},[w]);s=j.useCallback(function(a){var c=f!==void 0?f===a:!1;b("bs_curry")._2(d,a,c);c||b("MWLSLogMessageClick.bs").logMessageClicked(o,b("LsTargetType.bs").reaction,void 0,void 0);return b("bs_curry")._1(h,void 0)},[f,d,o,h]);var x=j.useCallback(function(a){a||b("bs_curry")._1(t,function(a){return!1});return b("bs_curry")._1(c,a)},[t,c]);return j.jsx(b("CometLazyPopoverTrigger.react"),{fallback:j.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:[l.popoverLoading]}),onVisibilityChange:x,popoverResource:r&&b("gkx")("4433")?b("JSResource")("ChatGeminiAnimatedReactionsMenu").__setRef("MWChatReactionsAction.bs"):b("JSResource")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.bs"),popoverProps:{onSelect:s,selectedReaction:f,onClose:m,closeActionsMenu:h,showEmojiPicker:u,setShowEmojiPicker:b("bs_curry").__1(t),messageID:o,isSecure:p,disableCustomReactions:a},popoverType:u?"dialog":"menu",align:function(){switch(b("bs_belt_Option").getWithDefault(e,"middle")){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(u?"below":"above"){case"above":return"above";case"below":return"below";case"start":return"start";case"end_":return"end"}}(),children:function(a,c,d,e,f,g,h){d=function(a){b("bs_curry")._1(c,void 0),b("MWLSLogMessageClick.bs").logMessageClicked(o,b("LsTargetType.bs").reactionIcon,void 0,void 0),b("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};v.current=d;return j.jsx(b("MWTooltip.react"),{tooltip:q,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":q,role:"button",expanding:!0,ref:a,testid:"messenger_reactions_menu_button",onHoverIn:b("bs_curry").__1(e),onHoverOut:function(a){return b("bs_curry")._1(f,void 0)},onPressIn:b("bs_curry").__1(g),onPress:d,overlayDisabled:!0,children:j.jsx("div",{className:(i||(i=b("stylex")))(k.action),children:j.jsx("div",{className:i(k.icon),children:n})})})})}})}a=a;f.Action=c;f.styles=k;f.styles2=l;f.noop=m;f.reactionIcon=n;f.keyUp=d;f.keyDown=e;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJumpToMostRecentMessageButton.bs",["fbt","CometPressable.react","CurrentUser","MWIcon.react","MWPColorUtils.bs","MWPThreadTheme.bs","ODS","bs_curry","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={circleButton:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",width:"bis24fgy",height:"nq2b4knc",backgroundColor:"lpmxukf2",boxShadow:"a3a6voys",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"}};function a(a){var c=a.onPress;a=b("MWPThreadTheme.bs").useHook(void 0);var d=a.threadTheme;return i.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(a){b("bs_curry")._1(c,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:function(a){return[j.circleButton]},children:i.jsx(b("MWIcon.react"),{icon:function(a){a=b("MWPColorUtils.bs").int64ToHex(d.fallbackColor);return i.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:i.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.bs",["MWInboxPassiveContext.bs","MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","gkx","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWInboxPassiveContext.bs").useContext(void 0),f=b("MWLSThreadDisplayContext.bs").useHook(void 0),g=f!==void 0?f==="ChatTab"?d:f==="Inbox"&&b("gkx")("6531")?!e.isPassive:!0:!0,i;if(c!==void 0){d=b("bs_caml").i64_gt(c.timestampMs,a.lastActivityTimestampMs)?c.timestampMs:a.lastActivityTimestampMs;i=b("bs_caml").i64_gt(d,a.lastReadWatermarkTimestampMs)}else i=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&g)return i;else return!1},[g,i])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e,void 0))return b("bs_curry")._1(d,void 0)},[e,d])}function k(a,c){h.useEffect(function(){var d=function(d){if(b("bs_curry")._1(a,void 0))return b("bs_curry")._1(c,void 0)},e=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));e.addEventListener("focus",d);document.hasFocus()&&b("bs_curry")._1(a,void 0)&&b("bs_curry")._1(c,void 0);return function(a){e.removeEventListener("focus",d)}},[c,a])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a,c,d,e){c=j(a,c,d);b("bs_curry")._1(l,a);k(e,c);return c}f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.re",["MWMarkThreadAsReadWhenNewMessagesArrive.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._4(b("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook,a.thread,a.lastMessage,a.markThreadAsRead,a.checkIsAtBottom);return a};f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWTheme.bs",["bs_caml_exceptions","bs_caml_int64","cr:1581959","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){if(a.TAG===0)return!1;else return!0}var i=b("bs_caml_exceptions").create("MWTheme.NotEnoughColorsForAGradient");function c(a,b){a=a!==void 0?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function d(a){if(a.TAG===0)return a._0.color;else return a._0.colors[0]}function e(a){if(a.TAG===0)return a._0.color;a=a._0.colors;return a[a.length-1|0]}function j(a){if(a.TAG===0)return a._0.color;else return a._0.fallback}function k(a,b,c){var d=a!==void 0?a:0;a=b!==void 0?b:100;b=c.length;if(b!==1){if(b!==0){var e=[];b=c.length;var f=a-d,g=f/(b-1|0);d!==0&&e.push(c[0]+" 0%");c.forEach(function(a,b){b=(d+b*g).toFixed(2);e.push(""+a+" "+b+"%")});a!==100&&e.push(c[b-1|0]+" 100%");f=e.join(", ");return"linear-gradient("+f+")"}throw{RE_EXN_ID:i,Error:new Error()}}throw{RE_EXN_ID:i,Error:new Error()}}function l(a){return"#"+a.slice(2)}function m(a){a=b("bs_caml_int64").to_int32(a);var c=(a&16711680)>>>16,d=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(c)+(e(d)+e(a)))}var n=h.createContext({theme:b("cr:1581959").defaultTheme,setTheme:function(a){},clearTheme:function(a){}});function o(a){return h.useContext(n).theme}function p(a){a=h.useContext(n);var b=a.clearTheme;h.useEffect(function(){return b},[b]);return[a.setTheme,b]}function q(a){}function r(a){}function s(a){var b=a.theme,c=a.setTheme,d=a.clearTheme;a=a.children;c=c!==void 0?c:q;d=d!==void 0?d:r;b={theme:b,setTheme:c,clearTheme:d};return h.createElement(n.Provider,{value:b,children:a})}var t=b("cr:1581959"),u=b("cr:1581959").defaultTheme;s=s;f.isGradient=a;f.NotEnoughColorsForAGradient=i;f.lighten=c;f.top=d;f.bottom=e;f.middle=j;f.gradient=k;f.aRGBtoHex=l;f.intToHex=m;f.$WorkChatDefaultTheme$OR$MessengerDefaultTheme$requireCond=b("cr:1581959");f.DefaultTheme=t;f.defaultTheme=u;f.context=n;f.useTheme=o;f.usePreview=p;f.defaultSetTheme=q;f.defaultClearTheme=r;f.provider=s},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatGutterItem.bs",["BaseGlimmer.react","MWLSThreadDisplayContext.bs","MWMessageDeliveryStatus.bs","MWMessageDeliveryStatusIcons.bs","MWTheme.bs","MWTooltip.react","bs_caml_obj","bs_caml_option","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"alzwoclg",alignItems:"gldv74r8"},mask:{backgroundColor:"lg77cbj3"},incoming:{flexDirection:"ov4vj3he"},icon:{display:"alzwoclg",flexShrink:"jez8cy9q",marginStart:"iec8yc8l",marginEnd:"b7mnygb8",verticalAlign:"dktd5soj",userSelect:"f14ij5to",width:"obt709sw",height:"cl67t5wl"},image:{marginStart:"iec8yc8l",marginEnd:"b7mnygb8",verticalAlign:"dktd5soj",userSelect:"f14ij5to",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"},profilePlaceholder:{borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",verticalAlign:"i8zpp7h3",width:"obt709sw",height:"cl67t5wl"},noneStatus:{flexShrink:"jez8cy9q",width:"kmdng2my"}};function a(a){var c=a.status,d=a.errorMessage,e=a.incoming,f=a.hasRepliedToMessage,g=a.xstyle;a=a.id;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?b("bs_caml_option").valFromOption(g):!1;a=a!==void 0?a:"";var k=b("MWTheme.bs").useTheme(void 0);k=b("MWTheme.bs").isGradient(k);var l=b("MWMessageDeliveryStatus.bs").getStatusTitle(c),m=b("MWLSThreadDisplayContext.bs").useHook(void 0);d=c===4&&d!==void 0?d:l;var n;if(typeof c==="number")switch(c){case 0:n=i.jsx("div",{className:(h||(h=b("stylex")))(j.noneStatus)});break;case 5:case 6:n=null;break;default:var o;if(typeof c==="number")switch(c){case 1:o=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sending.make,{size:1,xstyle:j.icon});break;case 2:o=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Sent.make,{size:1,xstyle:j.icon});break;case 3:o=i.jsx(b("MWMessageDeliveryStatusIcons.bs").Delivered.make,{size:1,xstyle:j.icon});break;case 4:o=i.jsx(b("MWMessageDeliveryStatusIcons.bs").$$Error.make,{size:1,xstyle:j.icon,title:d});break;case 0:case 5:case 6:o=null;break}else o=null;n=i.jsx("div",{children:o})}else switch(c.TAG|0){case 0:c=c._0;n=c.imageSrc===""?i.jsx(b("BaseGlimmer.react"),{className:(h||(h=b("stylex")))(j.profilePlaceholder),index:1}):i.jsx("img",{width:"14px",height:"14px",alt:l,"data-testid":"messenger_single_seen_head",className:(h||(h=b("stylex")))(j.image),src:c.imageSrc});break;case 2:n=i.jsx(b("MWMessageDeliveryStatusIcons.bs").DeliveredAndRead.make,{size:1,xstyle:j.icon});break;case 1:case 3:n=null;break}l=d!==""?i.jsx(b("MWTooltip.react"),{tooltip:d,align:function(){switch(b("bs_caml_obj").caml_equal(m,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:n}):n;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,k&&!f?j.mask:!1,e?j.incoming:!1,g),"data-testid":"messenger_delivery_status",id:a,children:l})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSForwardSvgIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageHasAttachment.bs",["LSMessageContentType.bs","bs_caml_int64","bs_int64"],function(a,b,c,d,e,f){"use strict";function a(a){if(!b("bs_int64").equal(a.displayedContentTypes,b("LSMessageContentType.bs").text)&&!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").forwardIndicator))&&!b("bs_int64").equal(a.displayedContentTypes,b("LSMessageContentType.bs").glyph)&&!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").glyph,b("LSMessageContentType.bs").forwardIndicator)))return!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").storyReply));else return!1}f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPForwardedContent.bs",["fbt","MDSForwardSvgIcon.bs","MWPMessageAuthor.bs","MWPMessageHasAttachment.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","react","stylex","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"alzwoclg",alignItems:"i85zmo3j",paddingTop:"ngbj85sm",paddingBottom:"rat9ptwp"},text:{paddingStart:"f1iqohp5",color:"jlyy7hdl",fontSize:"glosn74e"}};function a(a){return g._("__JHASH__0IFsVeodN0b__JHASH__",[g._param("name",a)])}function c(a){return g._("__JHASH__00-nIgP5G8j__JHASH__",[g._param("name",a)])}var l=g._("__JHASH__L5dEyo_jBmR__JHASH__");function d(a){return g._("__JHASH__GuBlAzcO-mm__JHASH__",[g._param("name",a)])}var m=g._("__JHASH__cFJV3xOx0DG__JHASH__");function e(a){return g._("__JHASH__1BQhMfYYoAB__JHASH__",[g._param("name",a)])}var n=g._("__JHASH__g8iYHeUhc75__JHASH__");function o(a){if(b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").xma))return a.defaultCtaType==="xma_web_url";else return!1}function p(a){if(b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage))return!0;else return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").image)}function q(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").video)}function r(a,c,d){var e=b("useReStore")(),f=a.messageId,h=a.threadKey,i=b("MWPMessageHasAttachment.bs").make(a),k=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(i)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:h,tl:{hd:f,tl:0}});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,f,JSON.stringify(h),i]));return j.useMemo(function(){if(c)if(k!==void 0)if(o(k))return g._("__JHASH__PIjjsAJniwv__JHASH__");else if(p(k))return g._("__JHASH__nEYzvO_Jiz8__JHASH__");else if(b("bs_caml").i64_eq(k.attachmentType,b("MessagingAttachmentType.bs").video))return g._("__JHASH__0EAD5uOKPoC__JHASH__");else return g._("__JHASH__GhgOVaiGoA___JHASH__");else return g._("__JHASH__GhgOVaiGoA___JHASH__");else if(k!==void 0)if(d!==void 0)if(o(k))return g._("__JHASH__00-nIgP5G8j__JHASH__",[g._param("name",d)]);else if(p(k))return g._("__JHASH__GuBlAzcO-mm__JHASH__",[g._param("name",d)]);else if(b("bs_caml").i64_eq(k.attachmentType,b("MessagingAttachmentType.bs").video))return g._("__JHASH__1BQhMfYYoAB__JHASH__",[g._param("name",d)]);else return g._("__JHASH__5hjcq0INKbc__JHASH__");else if(o(k))return g._("__JHASH__L5dEyo_jBmR__JHASH__");else if(p(k))return g._("__JHASH__cFJV3xOx0DG__JHASH__");else if(b("bs_caml").i64_eq(k.attachmentType,b("MessagingAttachmentType.bs").video))return g._("__JHASH__g8iYHeUhc75__JHASH__");else return g._("__JHASH__5hjcq0INKbc__JHASH__");else if(d!==void 0)return g._("__JHASH__0IFsVeodN0b__JHASH__",[g._param("name",d)]);else return g._("__JHASH__5hjcq0INKbc__JHASH__")},[c,k,d])}function s(a,c){var d=b("MWPMessageAuthor.bs").useAuthorName(a);return r(a,c,d[0])}function t(a){var c=a.message;a=a.outgoing;c=s(c,a);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.container),children:[j.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}),j.jsx("div",{className:i(k.text),children:c})]})}t=t;f.styles=k;f.textForwardedBySomeone=a;f.linkForwardedBySomeone=c;f.linkForwardedByUnknown=l;f.imageForwardedBySomeone=d;f.imageForwardedByUnknown=m;f.videoForwardedBySomeone=e;f.videoForwardedByUnknown=n;f.isLink=o;f.isImage=p;f.isVideo=q;f.useTitleWithName=r;f.useTitle=s;f.make=t},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWForwardedContent.bs",["MDSForwardSvgIcon.bs","MWPForwardedContent.bs","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"alzwoclg",alignItems:"i85zmo3j",paddingTop:"ngbj85sm",paddingBottom:"rat9ptwp"},text:{paddingStart:"f1iqohp5",color:"jlyy7hdl",fontSize:"glosn74e"}};function a(a){var c=a.message;a=a.outgoing;c=b("MWPForwardedContent.bs").useTitle(c,a);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}),i.jsx("div",{className:h(j.text),children:c})]})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPAudioPlayer.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","MWConsole","Promise","bs_caml_option","bs_curry","cancelAnimationFrame","formatDurationSeconds","react","requestAnimationFrameAcrossTransitions","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=56,l={common:{flexGrow:"cgu29s5g",alignSelf:"k88nbmki",display:"alzwoclg",justifyContent:"sl27f92c",alignItems:"i85zmo3j"},transparent:{position:"om3e55n1",height:"pytsy3co",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m",overflowX:"lq84ybu9",overflowY:"hf30pyar",":after":{content:"mq7gtlap",display:"gn0xcg96",position:"qynxblmd",top:"k2rpjui8",bottom:"es3nw2qt",start:"mns0jnh3",end:"jk5hgu9g",borderTopStyle:"gu40zx4y",borderEndStyle:"iqz1cw4x",borderBottomStyle:"pmfmvg1n",borderStartStyle:"cfvgcaw0",borderTopWidth:"j7grro7a",borderEndWidth:"adrf26vw",borderBottomWidth:"fuosmkiv",borderStartWidth:"a5hadg02",borderTopColor:"rmsf24gk",borderEndColor:"eugjpdkk",borderBottomColor:"hq52n8cr",borderStartColor:"i6t38cgg",borderTopStartRadius:"hy32gn92",borderTopEndRadius:"mf36qq0z",borderBottomEndRadius:"hyy724bk",borderBottomStartRadius:"sa6asie3",pointerEvents:"lrxvky67"}},playbackButtonContainer:{marginEnd:"lxowtz8q",marginStart:"bhi259hv"}},m=g._("__JHASH__KhMMxBdqg3x__JHASH__"),n=g._("__JHASH__qQ0O_CC-9PP__JHASH__"),o=g._("__JHASH__IubwmxlTNhe__JHASH__");function a(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a={make:a};function c(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("rect",{x:"9",y:"9",width:"18",height:"18",rx:"2",fill:a})})}c={make:c};function d(a){a=a.color;return j.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:j.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}d={make:d};function e(a){var b=a.currentTime;a=a.duration;return j.jsx("div",{style:{position:"absolute"},role:"slider",tabIndex:0,"aria-label":g._("__JHASH__KLzn0RQbDRZ__JHASH__"),"aria-valuenow":b,"aria-valuemin":0,"aria-valuemax":a})}e={make:e};function p(a){var c=a.audioEl;a=a.children;var d=j.useCallback(function(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5},[]),e=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime-b("bs_curry")._1(d,e)},[d]),f=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var e=a.duration;a.currentTime=a.currentTime+b("bs_curry")._1(d,e)},[d]),h=j.useCallback(function(a){a=c.current;if(a!==void 0){b("bs_caml_option").valFromOption(a).currentTime=0;return}},[]),i=j.useCallback(function(a){a=c.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var d=a.duration;a.currentTime=d},[]),k=j.useMemo(function(){var a;return[{command:{key:(a=b("CometKeys")).UP},description:g._("__JHASH__0poPtptaPoq__JHASH__"),handler:f},{command:{key:a.DOWN},description:g._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:e},{command:{key:a.LEFT},description:g._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:e},{command:{key:a.RIGHT},description:g._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:f},{command:{key:a.HOME},description:g._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:h},{command:{key:a.END},description:g._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:i}]},[e,f,h,i]);return j.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:k,children:a})}p={make:p};var q={timer:{marginEnd:"lxowtz8q",marginStart:"bhi259hv",height:"i5r6nevk",width:"l543pdv8",backgroundColor:"ha4g5oo5",borderTopStartRadius:"l4v958fm",borderTopEndRadius:"om3iw1lm",borderBottomEndRadius:"afci4a83",borderBottomStartRadius:"goi5gx0z",display:"alzwoclg",justifyContent:"jcxyg2ei",alignItems:"i85zmo3j",color:"j7vl6m33",fontSize:"nfkogyam",fontWeight:"innypi6y",userSelect:"f14ij5to",position:"om3e55n1"}},r=j.memo(function(a){var c=a.time;a=a.style;a=a!==void 0?b("bs_caml_option").valFromOption(a):{};c=b("formatDurationSeconds")(c);return j.jsx("div",{"data-testid":"mw_recorder_timestamp",className:(i||(i=b("stylex")))(q.timer),style:a,children:c})});r={styles:q,make:r};var s={pressable:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",width:"mx6bq00g",height:"mwtcrujb",backgroundColor:"ha4g5oo5",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"}};function t(a){var c=a.onPress,d=a.onHoverMove,e=a.label;a=a.icon;e={"aria-label":e,disabled:c===void 0,overlayRadius:"50%",xstyle:function(a){return[s.pressable]},children:a};d!==void 0&&(e.onHoverMove=b("bs_caml_option").valFromOption(d));c!==void 0&&(e.onPress=b("bs_caml_option").valFromOption(c));return j.jsx(b("CometPressable.react"),e)}t={styles:s,make:t};var u={highlight:{height:"pytsy3co",width:"mfclru0v",start:"myo4itp8",top:"ekq1a7f9",position:"s8sjc6am"}},v=j.forwardRef(function(a,c){a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;var d=j.useRef(void 0);j.useImperativeHandle(c,function(){return{updateHighlight:function(a){var b=d.current;if(!(b==null)){b.style.transform="translateX("+(a-100).toFixed(1)+"%)";return}}}},[d]);return j.jsx("div",{ref:d,className:(i||(i=b("stylex")))(u.highlight,a)})});v={styles:u,make:v};function w(a,b,c){return Math.min(Math.max(b,a),c)}var x={container:{flexGrow:"cgu29s5g",display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"sl27f92c",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"om3e55n1"}};function y(a){var c=a.scrubberRef,d=a.hasScrubber,e=a.audioEl,f=a.testid,g=a.style;a=a.children;g=g!==void 0?b("bs_caml_option").valFromOption(g):{};var h=j.useRef(void 0),k=function(a,b){b=b.getBoundingClientRect();a=a.clientX-b.left;a=a/b.width;return w(a,0,1)},l=function(a){var c=e.current,d=h.current;if(c===void 0)return;if(d==null)return;c=b("bs_caml_option").valFromOption(c);c.currentTime=k(a,d)*c.duration*100/100},m=function(a){var b=h.current,d=c.current;if(!(b==null)&&!(d==null))return d.updateHighlight(k(a,b)*100)},n=function(a){a=c.current;if(!(a==null))return a.updateHighlight(0)};return j.jsx("div",{ref:h,"data-testid":f,className:(i||(i=b("stylex")))(x.container),style:g,onMouseMove:d?m:void 0,onMouseLeave:d?n:void 0,onClick:d?l:void 0,children:a})}y={clamp:w,styles:x,make:y};function z(a){return j.useCallback(function(b){var c=a.current;if(!(c==null)){b.stopPropagation();return c.updateHighlight(0)}},[a])}function A(a,c,d,e,f,g){var h=f!==void 0?f:!1,i=j.useRef(void 0);j.useEffect(function(){var d=function(a){var b=i.current;if(!(b==null))return b.updateHighlight(a)};if(g){h?d(100):d(0);return}if(e){var f={contents:void 0},j={contents:void 0},k=function e(g){var h=c.current;if(h!==void 0){h=b("bs_caml_option").valFromOption(h);h=h.currentTime/h.duration}else{var i=f.contents;i=i!==void 0?g-i:(f.contents=g,0);h=i/(a*1e3)}g=Math.min(h*100,100);d(g);if(g<100){j.contents=b("bs_caml_option").some(b("requestAnimationFrameAcrossTransitions")(e));return}};j.contents=b("bs_caml_option").some(b("requestAnimationFrameAcrossTransitions")(k));return function(a){a=j.contents;if(a!==void 0){b("cancelAnimationFrame")(b("bs_caml_option").valFromOption(a));return}}}k=c.current;if(k!==void 0){k=b("bs_caml_option").valFromOption(k);k=k.currentTime/k.duration;d(k*100)}},[a,e,g,i,c,h,d]);return i}function B(a,b){if(typeof b==="number")if(typeof a==="number")return{TAG:0,_0:0};else return a;if(b.TAG===0)if(typeof a==="number")return a;else if(a.TAG===0)return{TAG:1,_0:a._0};else return{TAG:0,_0:b._0?0:a._0};b=b._0;if(typeof a==="number")return a;else if(a.TAG===0)return{TAG:0,_0:b};else return{TAG:1,_0:b}}function C(a,c,d,e){var f=j.useReducer(B,0),g=f[1],h=f[0],i=j.useRef(void 0);j.useEffect(function(){if(a===void 0)return;var c=new Audio(a),d=function(a){a=i.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).currentTime;return g({TAG:1,_0:a})},e=function(a){i.current=b("bs_caml_option").some(c);return g(0)},f=function(a){return g({TAG:0,_0:!0})};c.addEventListener("canplay",e);c.addEventListener("timeupdate",d);c.addEventListener("ended",f);return function(a){c.removeEventListener("canplay",e),c.removeEventListener("timeupdate",d),c.removeEventListener("ended",f),c.pause()}},[a]);f=function(a){a=i.current;if(a===void 0)return g({TAG:0,_0:!1});a=b("bs_caml_option").valFromOption(a);if(typeof h==="number")return g({TAG:0,_0:!1});if(h.TAG===0){a.play().then(function(a){g({TAG:0,_0:!1});return b("Promise").resolve(void 0)})["catch"](function(a){b("bs_curry")._1(c,void 0);return b("Promise").resolve(void 0)});return}a.pause();return g({TAG:0,_0:!1})};var k;k=typeof h==="number"||h.TAG===0?!1:!0;var l;l=typeof h==="number"||h.TAG!==0?!1:h._0===0;e=A(e,i,typeof h==="number"?void 0:h._0,k,d,l);return[h,g,i,f,e]}C={useHook:C};var D=36;f.borderWidth=D;f.borderRadius=k;f.styles=l;f.playLabel=m;f.stopLabel=n;f.pauseLabel=o;f.PlayIcon=a;f.StopIcon=c;f.PauseIcon=d;f.ScreenreaderLabel=e;f.KeyCommands=p;f.Timer=r;f.PlaybackButton=t;f.Highlight=v;f.Container=y;f.useResetHighlightProgress=z;f.useProgressLiveUpdate=A;f.ControlCenter=C},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType.bs","react"],function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.createContext(b("MessengerSurfaceType.bs").messenger);d=b("MessengerSurfaceType.bs").messenger;f.defaultValue=d;f.context=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MessengerSurfaceContext.bs").context);return a===b("MessengerSurfaceType.bs").workQuickchat}f.useIsQuickChatSurface=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWAudioPlayer.bs",["CometPressable.react","CometProgressRingIndeterminate.react","MWLSThreadDisplayContext.bs","MWPAudioPlayer.bs","MWPColorUtils.bs","MWPThreadTheme.bs","MessengerSurfaceQuickChat.bs","bs_caml_int64","bs_caml_option","bs_curry","react","requireDeferred","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{transform:"h1h7h5x5"},outgoing:{opacity:"eczgudgl",backgroundColor:"ha4g5oo5"},incoming:{opacity:"cfla3j8d",backgroundColor:"fuhlygrl"}};function k(a){return i.useMemo(function(){return[j.root,a?j.outgoing:j.incoming]},[a])}d={styles:j,useStyles:k};function l(a){return i.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("path",{d:"M 0, 18 a 18,18 0 1,0 36,0 a 18,18 0 1,0 -36, 0\n      M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z\n        ",fill:"var(--always-white)",fillRule:"evenodd"})})}e={make:l};function a(a){return i.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("path",{d:"M 0, 18 a 18,18 0 1,0 36,0 a 18,18 0 1,0 -36, 0\n           M 9, 9 h 18 v 18 h -18 Z",rx:"2",fill:"var(--always-white)",fillRule:"evenodd"})})}a={make:a};function m(a){return i.jsx("svg",{width:"24px",height:"24px",viewBox:"0 0 36 36",children:i.jsx("path",{d:"M 0, 18 a 18,18 0 1,0 36,0 a 18,18 0 1,0 -36, 0\n          M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:"var(--always-white)",fillRule:"evenodd"})})}var n={make:m},o={pressable:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",width:"mx6bq00g",height:"mwtcrujb",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",boxShadow:"kog8vtx6"},transparent:{backgroundColor:"nu7423ey"},black:{backgroundColor:"sfdena2r"}};function p(a){var c=a.onPress,d=a.onHoverMove,e=a.label,f=a.icon,g=a.outgoing;a={"aria-label":e,disabled:c===void 0,testid:"chat-audio-play-back",overlayRadius:"50%",xstyle:function(a){return[o.pressable,g?o.transparent:o.black]},children:f};d!==void 0&&(a.onHoverMove=b("bs_caml_option").valFromOption(d));c!==void 0&&(a.onPress=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometPressable.react"),a)}var q={styles:o,make:p},r=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioPlayer.bs");function c(a){var c=a.attachment,d=a.getPlayableUrl,e=a.outgoing;a=a.width;var f=b("MWPThreadTheme.bs").useBottom(void 0),g=b("MWLSThreadDisplayContext.bs").useHook(void 0),j=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(void 0),n=b("MWPThreadTheme.bs").useHook(void 0),o=i.useCallback(function(a){r.onReady(function(a){return b("bs_curry")._1(a.logBrowserDenyAccess,void 0)})},[]),q=c.playableDurationMs;q=q!==void 0?b("bs_caml_int64").to_float(q)/1e3:0;d=b("MWPAudioPlayer.bs").ControlCenter.useHook(b("bs_curry")._1(d,c),o,!1,q);c=d[2];o=d[0];var s=e&&n.gradientColors.length>1,t=o!==0,u=i.useRef(void 0),v=b("MWPAudioPlayer.bs").useResetHighlightProgress(u),w=k(e);n={backgroundColor:e?s?"transparent":b("MWPColorUtils.bs").int64ToHex(n.threadTheme.fallbackColor):"var(--wash)",cursor:t?"pointer":"default",height:"36px",width:a!==void 0?a:g!==void 0?g==="Inbox"?"218px":g==="ChatTab"&&j?"168px":"180px":"180px"};a=s?void 0:"18px";a!==void 0&&(n.borderRadius=a);if(o===0)g=i.jsx("div",{onMouseMove:t?v:void 0,className:(h||(h=b("stylex")))(b("MWPAudioPlayer.bs").styles.playbackButtonContainer,b("MWPAudioPlayer.bs").PlaybackButton.styles.pressable),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})});else{j=typeof o==="number"||o.TAG===0?b("MWPAudioPlayer.bs").playLabel:b("MWPAudioPlayer.bs").pauseLabel;a=typeof o==="number"?null:o.TAG===0?i.jsx(l,{}):i.jsx(m,{});j={label:j,icon:a,outgoing:e};a=o===0?void 0:d[3];a!==void 0&&(j.onPress=b("bs_caml_option").valFromOption(a));g=i.jsx("div",{onMouseMove:t?v:void 0,className:(h||(h=b("stylex")))(b("MWPAudioPlayer.bs").styles.playbackButtonContainer),children:i.jsx(p,j)})}a={cursor:"pointer"};v=e?f:void 0;v!==void 0&&(a.color=v);return i.jsx(b("MWPAudioPlayer.bs").KeyCommands.make,{audioEl:c,children:i.jsx(b("MWPAudioPlayer.bs").Container.make,{scrubberRef:u,hasScrubber:t,audioEl:c,testid:"mw_audio_player",style:n,children:i.jsxs("div",{className:(h||(h=b("stylex")))(b("MWPAudioPlayer.bs").styles.common,s?b("MWPAudioPlayer.bs").styles.transparent:!1),children:[i.jsx(b("MWPAudioPlayer.bs").Highlight.make,{xstyle:w,ref:d[4]}),typeof o==="number"?null:i.jsx(b("MWPAudioPlayer.bs").ScreenreaderLabel.make,{currentTime:o._0,duration:q}),i.jsx(b("MWPAudioPlayer.bs").Highlight.make,{xstyle:w,ref:u}),g,i.jsx(b("MWPAudioPlayer.bs").Timer.make,{time:typeof o==="number"?0:Math.max(q-o._0,0),style:a})]})})})}c=c;f.MWHighlight=d;f.PlayIconOutline=e;f.StopIconOutline=a;f.PauseIconOutline=n;f.PlaybackButton=q;f.$MWChatAudioLog$Deferred=r;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageListAttachmentDimensions.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,b){return h.useMemo(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return a!==void 0&&c!==void 0&&d!==void 0&&a==="Inbox"?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","LSMediaUrl.bs","LSThreadCapabilityBitOffset.bs","MWPThreadCapabilitiesContext.bs","MessagingAttachmentType.bs","bs_caml","bs_caml_option","bs_curry","cr:956","gkx","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:956")==null?void 0:b("bs_caml_option").some(b("cr:956"));function a(a){var c=a.attachment,d=a.onPress,e=a.children,f=a.xstyle,g=a.overlayDisabled,j=a.testid,k=a.ariaLabel,l=a.linkProps_;a=a.onHoverIn;g=g!==void 0?g:!1;var m=b("MWPThreadCapabilitiesContext.bs").useHook(void 0);m=b("gkx")("1581")&&b("bs_curry")._1(m,b("LSThreadCapabilityBitOffset.bs").blurMedia);var n=b("bs_caml").i64_eq(c.attachmentType,b("MessagingAttachmentType.bs").image),o=b("bs_caml").i64_eq(c.attachmentType,b("MessagingAttachmentType.bs").video);if(!(b("cr:956")==null)&&(n||o)&&m){n={url:b("LSMediaUrl.bs").Attachment.previewUrl(c),type_:o?0:1,onPress:d,children:e,xstyle:f,overlayDisabled:g};j!==void 0&&(n.testid=b("bs_caml_option").valFromOption(j));k!==void 0&&(n.ariaLabel=b("bs_caml_option").valFromOption(k));l!==void 0&&(n.linkProps_=b("bs_caml_option").valFromOption(l));return h.jsx(i.make,n)}m={onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayDisabled:g,xstyle:function(a){return f},children:e};k!==void 0&&(m["aria-label"]=b("bs_caml_option").valFromOption(k));l!==void 0&&(m.linkProps=b("bs_caml_option").valFromOption(l));j!==void 0&&(m.testid=b("bs_caml_option").valFromOption(j));a!==void 0&&(m.onHoverIn=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),m)}c=a;f.$MWMessageListProtectedMedia$requireCond=b("cr:956");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPStableImage.bs",["CometObjectFitContainer.react","bs_caml_option","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={constraint:{maxWidth:"gvxzyvdx"},image:{display:"b6ax4al1",height:"ikduhi8d",maxWidth:"gvxzyvdx",width:"ncxvlvn8"},imageFill:{height:"pytsy3co",width:"mfclru0v"}};function k(a){var c=a.maxHeight,d=a.aspectRatio,e=a.src;a=a.alt;var f=i.useMemo(function(){return{display:"block",maxHeight:c.toString()+"px",maxWidth:"100%"}},[c]);a=i.jsx("img",{alt:a,src:e,className:(h||(h=b("stylex")))(j.image,d===void 0?!1:j.imageFill),style:f});if(d!==void 0)return i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:d,children:a,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"});else return a}c={make:k};function l(a){var c=a.height,d=a.maxHeight,e=a.maxWidth,f=a.className,g=a.children,k=a.aspectRatio;a=g!==void 0?b("bs_caml_option").valFromOption(g):null;g=i.useMemo(function(){if(k!==void 0&&c!==void 0)return{maxWidth:"100%",width:(k*Math.min(d,c)).toString()+"px"}},[k,c,d]);var l=i.useMemo(function(){if(e!==void 0)return{maxWidth:e.toString()+"px"}},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.constraint),children:i.jsx("div",{style:l,children:i.jsx("div",{className:f,style:g,children:a})})})}d={make:l};function a(a){var c=a.width,d=a.height,e=a.src,f=a.alt,g=a.maxHeight,h=a.maxWidth,j=a.className;a=a.children;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var m=c!==void 0&&d!==void 0?c/d:void 0;c={width:c,height:d,maxHeight:g,maxWidth:h,children:[i.jsx(k,{maxHeight:g,aspectRatio:m,src:e,alt:f}),a],aspectRatio:m};j!==void 0&&(c.className=j);return i.jsxs(l,c)}e=a;f.styles=j;f.$$Image=c;f.Container=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerMediaProgressBar.bs",["MWPColorUtils.bs","MWPThreadTheme.bs","bs_js_math","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={progressBar:{position:"s8sjc6am",bottom:"z6erz7xo",start:"myo4itp8",width:"mfclru0v"}};function a(a){var c=a.mediaStaging;a=a.height;var d=b("MWPThreadTheme.bs").useHook(void 0);d=c.hasError?"var(--negative)":b("MWPColorUtils.bs").int64ToHex(d.threadTheme.fallbackColor);var e=b("bs_js_math").ceil(c.progress*100),f=(a/2).toString();f="M 0,"+f+" L 100,"+f;if(c.progress===1)return null;else return i.jsxs("svg",{viewBox:"0 0 100 "+a.toString(),preserveAspectRatio:"none",className:(h||(h=b("stylex")))(j.progressBar),style:{height:a.toString()},children:[i.jsx("path",{d:f,stroke:"rgba(0,0,0,.5)",strokeWidth:a.toString(),strokeLinecap:"round"}),i.jsx("path",{d:f,stroke:d,strokeWidth:(e===0?0:a).toString(),strokeLinecap:"round",style:{transition:"stroke-dashoffset .5s, stroke .5s",strokeDasharray:"100",strokeDashoffset:(100-e|0).toString()}})]})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2AttachmentProgressBar.bs",["MWV2ComposerMediaProgressBar.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.attachment,d=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=c.offlineAttachmentId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("media_staging")),{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,c.attachmentFbid]));if(a!==void 0&&a.isSent)return h.jsx(b("MWV2ComposerMediaProgressBar.bs").make,{mediaStaging:a,height:5});else return null}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MediaViewerContainer.bs",["MessengerBlurpleLogoSvg.bs","XMessengerDotComCometRootControllerRouteBuilder","bs_belt_Option","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={buttonContainer:{start:"bbqlx7z3",position:"s8sjc6am",top:"facqkgn9"},actionContainer:{end:"h28iztb5",position:"s8sjc6am",top:"facqkgn9"},container:{alignItems:"o9w3sbdw",backgroundColor:"sfdena2r",boxSizing:"bdao358l",display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",height:"pytsy3co",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"om3e55n1",userSelect:"f14ij5to",":focus":{outline:"th8rvtx1"}}};function a(a){var c=a.children,d=a.shouldShowMessengerLogo;a=a.actions;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[c,i.jsx("div",{className:h(j.buttonContainer),children:b("bs_belt_Option").getWithDefault(d,!1)?i.jsx("a",{"aria-label":"Messenger",href:b("XMessengerDotComCometRootControllerRouteBuilder").buildURL(),children:i.jsx(b("MessengerBlurpleLogoSvg.bs").make,{width:"40",height:"40"})}):null}),i.jsx("div",{className:h(j.actionContainer),children:a})]})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MediaViewerFallback.bs",["fbt","ix","MDSRow.react","MDSRowItem.react","MWV2MediaViewerContainer.bs","TetraCircleButton.react","fbicon","react"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.onClose;a=a.shouldShowMessengerLogo;var d={children:null,actions:j.jsx(b("MDSRow.react"),{paddingTop:0,spacing:8,children:j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("TetraCircleButton.react"),{color:"white",icon:b("fbicon")._(h("478232"),16),label:g._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:function(a){return c()},size:36,type:"dark-overlay"})})})};a!==void 0&&(d.shouldShowMessengerLogo=a);return j.jsx(b("MWV2MediaViewerContainer.bs").make,d)}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MediaViewerShowDialog.bs",["JSResourceForInteraction","MWV2MediaViewerFallback.bs","bs_curry","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return h.jsx(b("MWV2MediaViewerFallback.bs").make,{onClose:a})}function a(a){var c=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWV2MediaViewerShowDialog.bs"),i),d=c[1];h.useEffect(function(){a||b("bs_curry")._1(d,void 0)},[d,a]);return[c[0],d]}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2UseFocusRowAfterClosingPushView.bs",["MWV2MessageRowIsRowFocusedContext.bs","bs_curry","react","useCometRouterState","usePrevious"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);var c=a.isDialogOpened,d=a.setIsDialogOpened,e=a.setFocused;a=b("useCometRouterState")();var f;if(a==null)f=0;else{a=a.pushViewStack;f=a==null?0:a.length}var g=b("usePrevious")(f);h.useLayoutEffect(function(){if(!(g==null)){c===!0&&g>0&&f===0&&(b("bs_curry")._1(d,function(a){return!1}),b("bs_curry")._1(e,function(a){return!0}));return}},[c,g,f]);return d}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2UseMediaViewerURL.bs",["FBID.bs","MessagingAttachmentType.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","bs_caml","bs_int64","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useMemo(function(){var c=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage);if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:void 0,fbid:b("FBID.bs").ofStringExn(a.attachmentFbid),message_id:a.messageId});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),attachment_id:b("FBID.bs").ofStringExn(a.attachmentFbid),message_id:a.messageId})},[JSON.stringify(a.threadKey),JSON.stringify(a.attachmentType),JSON.stringify(a.messageId),a.attachmentFbid])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatImage.bs",["fbt","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWInboxInfoSharedContentQPLLogger.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentDimensions.bs","MWMessageListMediaPressableContainer.bs","MWPStableImage.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","gkx","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"alzwoclg",position:"om3e55n1",overflowX:"lq84ybu9",overflowY:"hf30pyar"},content:{display:"alzwoclg",flexDirection:"cqf1kptm",marginTop:"m8h3af8h",marginEnd:"l7ghb35v",marginBottom:"kjdc1dyq",marginStart:"kmwttqpk",position:"om3e55n1"},standalone:{borderTopStartRadius:"rt34pxt2",borderBottomStartRadius:"dtqh1a21",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd"},withAppAttribution:{borderTopStartRadius:"rt34pxt2",borderBottomStartRadius:"mivixfar",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"nfcwbgbd"},appIcon:{width:"akh3l2rg",height:"eohcrkr5",marginEnd:"lxowtz8q",objectFit:"lxj2zdis",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"},appAttr:{paddingTop:"d2hqwtrz",paddingEnd:"i5oewl5a",paddingBottom:"o9wcebwi",paddingStart:"nnzkd6d7",display:"alzwoclg",alignItems:"i85zmo3j",borderBottomStartRadius:"dtqh1a21",borderBottomEndRadius:"pdqhzjwd",lineHeight:"lmvsqxvg"},appText:{fontSize:"nfkogyam",color:"pbevjfx6",wordBreak:"t7p7dqev"},incoming_connect_top:{borderTopStartRadius:"dl2p71xr"},outgoing_connect_top:{borderTopEndRadius:"h0c7ht3v"},incoming_connect_bottom:{borderBottomStartRadius:"gffp4m6x"},outgoing_connect_bottom:{borderBottomEndRadius:"j8nb7h05"}};function l(a){a=a.attachment;var c=a.attributionAppName;if(c===void 0)return null;a=a.attributionAppIcon;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.appAttr),children:[a!==void 0?j.jsx("img",{role:"presentation",src:a,className:(i||(i=b("stylex")))(k.appIcon)}):null,j.jsx("span",{className:i(k.appText),children:c})]})}c={make:l};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.connectBottom,m=a.outgoing;a=a.navigateToRouteForMediaViewer;h=h!==void 0?h:!1;var n=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var o=d.attributionAppName!==void 0;a=b("MWMessageListAttachmentDimensions.bs").useHook(a,d);var p=a[1];a=a[0];var q=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?m?k.outgoing_connect_top:k.incoming_connect_top:!1;h=h?m?k.outgoing_connect_bottom:k.incoming_connect_bottom:!1;m=b("gkx")("1924962");var r=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0),s=b("MWV2MediaViewerShowDialog.bs").useHook(n),t=s[1],u=s[0];s=b("bs_curry")._1(e,d);if(s===void 0)return null;e=n&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?{passthroughProps:{origSrc:s},url:q}:void 0;q=d.titleText;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentImage,void 0,void 0);b("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread(0);b("bs_curry")._1(r,function(a){return!0});if(!n)return u({attachment:d},function(a){})},children:[j.jsx(b("MWPStableImage.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:s,alt:q!==void 0&&m?q:g._("__JHASH__mrw3CpFXi7r__JHASH__"),maxHeight:200,maxWidth:480,className:(i||(i=b("stylex")))(k.content,o?k.withAppAttribution:k.standalone,f,h),children:j.jsx(l,{attachment:d})}),b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?j.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,j.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f,h]})],xstyle:[k.container,k.standalone,f,h],testid:"chat-image",onHoverIn:function(a){if(!n)return b("bs_curry")._1(t,void 0)},disabled:b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return j.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a,d.attachmentFbid)}d=a;f.styles=k;f.AppAttribution=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("deferredLoadComponentForReason",["deferredLoadComponentBase"],function(a,b,c,d,e,f,g){var h=function(a){return a.make};function a(a){return{make:c("deferredLoadComponentBase")(a,h)}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWResponsiveVideo.bs",["BaseGlimmer.react","CometObjectFitContainer.react","CometPlaceholder.react","LSThreadCapabilityBitOffset.bs","MWLSThreadDisplayContext.bs","MWPThreadCapabilitiesContext.bs","bs_caml_option","bs_curry","deferredLoadComponentForReason","gkx","react","requireDeferredForDisplay","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{maxWidth:"gvxzyvdx",position:"om3e55n1",minWidth:"grs2imt0",minHeight:"g86t5z5x",overflowX:"lq84ybu9",overflowY:"hf30pyar"},fill:{position:"s8sjc6am",top:"ekq1a7f9",left:"buh8m867",right:"ql1abi13",bottom:"z6erz7xo",zIndex:"b0ur3jhr"}},k={root:{display:"alzwoclg",overflowX:"lq84ybu9",overflowY:"hf30pyar",height:"pytsy3co",width:"mfclru0v",position:"s8sjc6am",borderTopStartRadius:"rt34pxt2",borderBottomStartRadius:"dtqh1a21",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd"},glimmer:{height:"pytsy3co",width:"mfclru0v",position:"s8sjc6am"}};function l(a){a=a.xstyle;return i.jsx("div",{className:(h||(h=b("stylex")))(k.root,a),children:i.jsx(b("BaseGlimmer.react"),{className:h(k.glimmer),index:0})})}c={styles:k,make:l};var m=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWResponsiveVideo.bs");function n(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function o(a){return i.createElement(b("deferredLoadComponentForReason")(m).make,a)}d={makeProps:n,make:o};function p(a){if(a==="Inbox")return[240,140];else return[180,140]}function a(a){var c=a.width,d=a.height,e=a.src,f=a.maxHeight,g=a.maxWidth,k=a.connectTopStyles;a=a.fbid;var m=b("MWLSThreadDisplayContext.bs").useHook(void 0),q=i.useMemo(function(){var a=c!==void 0?d!==void 0?[c,d]:[500,300]:[500,300];return a[0]/a[1]},[c,d]),r=b("MWPThreadCapabilitiesContext.bs").useHook(void 0),s=b("gkx")("1581")&&b("bs_curry")._1(r,b("LSThreadCapabilityBitOffset.bs").blurMedia);r=i.useMemo(function(){var a=c!==void 0?c:500,b=p(m);return{maxHeight:f.toString()+"px",minHeight:s?b[1].toString(10)+"px":"",minWidth:s?b[0].toString(10)+"px":"",width:Math.min(a,g).toString()+"px"}},[f,c,g,s,m]);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),style:r,children:[i.jsx("div",{className:h(j.fill),children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(o,n(s?"off":void 0,a,void 0,void 0,e,d!==void 0?d|0:300,c!==void 0?c|0:500,!0,"mwchat",void 0)),fallback:i.jsx(l,{xstyle:k})})}),i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:q,children:null,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"})]})}e=a;f.styles=j;f.VideoLoader=c;f.$MWChatVideoPlayer$DeferredForDisplay=m;f.MWChatVideoPlayerLazy=d;f.getMinDimensionsForProtectedVideo=p;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatVideo.bs",["fbt","FBID.bs","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWLSThreadDisplayContext.bs","MWMessageListMediaPressableContainer.bs","MWResponsiveVideo.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"b6ax4al1",position:"om3e55n1",maxWidth:"gvxzyvdx",backgroundColor:"lg77cbj3",borderTopStartRadius:"rt34pxt2",borderBottomStartRadius:"dtqh1a21",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd",backfaceVisibility:"hhqe53ch",overflowX:"lq84ybu9",overflowY:"hf30pyar"},incoming_connect_top:{borderTopStartRadius:"dl2p71xr"},outgoing_connect_top:{borderTopEndRadius:"h0c7ht3v"}};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.outgoing;a=a.navigateToRouteForMediaViewer;var k=a!==void 0?a:!0;a=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?h?j.outgoing_connect_top:j.incoming_connect_top:!1;var l=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0);h=b("MWLSThreadDisplayContext.bs").useHook(void 0);var m=b("MWV2MediaViewerShowDialog.bs").useHook(k),n=m[1],o=m[0];m=b("bs_curry")._1(e,d);if(m===void 0)return null;e=k&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?{passthroughProps:{origSrc:m},url:a}:void 0;a=d.previewWidth;var p=d.previewHeight;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentVideo,void 0,void 0);b("bs_curry")._1(l,function(a){return!0});if(!k)return o({attachment:d},function(a){})},children:[i.jsx(b("MWResponsiveVideo.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:m,maxHeight:200,maxWidth:b("bs_caml_obj").caml_equal(h,"Inbox")?500:167,connectTopStyles:f,fbid:b("FBID.bs").ofStringExn(d.attachmentFbid)}),b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?i.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,i.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f]})],xstyle:[j.root,f],overlayDisabled:!0,testid:"chat-video",ariaLabel:g._("__JHASH__Sk-r4mWi0bD__JHASH__"),onHoverIn:function(a){if(!k)return b("bs_curry")._1(n,void 0)},disabled:b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return i.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a)}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatImageSize.bs",["bs_caml_option","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=c!==void 0?c:!1,f=h.useRef(void 0);d=h.useState(function(){});var g=d[1];h.useEffect(function(){if(a===void 0)return;if(f.current===void 0&&!e){var c=new Image();c.src=a;c.onload=function(){return b("bs_curry")._1(g,function(a){return{width:c.naturalWidth,height:c.naturalHeight}})};f.current=b("bs_caml_option").some(c)}return function(a){b("bs_curry")._1(g,function(a){});a=f.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);a.onload=null}},[a,e,g]);return d[0]}f.useImageSize=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2Sticker.bs",["MWChatImageSize.bs","MWLSThreadDisplayContext.bs","MWPColorUtils.bs","MWPThreadTheme.bs","Sticker.react","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return i.useMemo(function(){var b=c!==void 0?c==="Inbox"?.75:.5:.5;if(a<60)return 1;else return b},[a,c])}c={useHook:j};function a(a){var c=a.attachment,d=a.getPreviewUrl,e=a.xstyle;a=a.scale;e=e!==void 0?b("bs_caml_option").valFromOption(e):!1;d=b("bs_curry")._1(d,c);var f=b("bs_belt_Option").map(c.previewHeight,b("bs_caml_int64").to_int32),g=b("bs_belt_Option").map(c.previewWidth,b("bs_caml_int64").to_int32),k=j(b("bs_belt_Option").getWithDefault(f,120)),l=b("MWPThreadTheme.bs").useHook(void 0),m=g!==void 0&&f!==void 0;m=b("MWChatImageSize.bs").useImageSize(d,m,void 0);var n,o=0;g!==void 0&&f!==void 0?n=[g,f]:o=1;o===1&&(n=m!==void 0?[m.width,m.height]:[24,24]);return i.jsx(b("Sticker.react"),{accessibilityLabel:b("bs_belt_Option").getWithDefault(c.accessibilitySummaryText,""),animationTrigger:"load_and_hover",enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,sourceURI:d,sourceWidth:n[0],sourceHeight:n[1],spriteURI:void 0,stickerID:c.attachmentFbid,tabIndex:-1,customColor:b("MWPColorUtils.bs").int64ToHex(l.threadTheme.fallbackColor),paddedSpriteURI:void 0,scale:b("bs_belt_Option").getWithDefault(a,k),className:(h||(h=b("stylex")))(e)})}d=a;f.StickerScale=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageListAttachment.bs",["fbt","LSMediaUrl.bs","MWAudioPlayer.bs","MWLSThreadDisplayContext.bs","MWV2ChatImage.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MWV2TombstonedMessage.bs","bs_caml_option","react","recoverableViolation","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function a(a){var c=a.xstyle,d=a.connectTop;a=a.connectBottom;c=c!==void 0?b("bs_caml_option").valFromOption(c):!1;return j.jsx("div",{className:(i||(i=b("stylex")))(c),children:j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._("__JHASH__grNaxJ_sL8-__JHASH__"),connectTop:d,connectBottom:a})})}a={make:a};function c(a){var c=a.attachment,d=a.message,e=a.connectTop;a=a.outgoing;var f=j.useCallback(function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)});return j.jsx(b("MWV2ChatVideo.bs").make,{message:d,attachment:c,getPreviewUrl:f,connectTop:e,outgoing:a})}c={make:c};function d(a){var c=a.attachment;a=a.outgoing;var d=j.useCallback(function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)},[c]);return j.jsx(b("MWAudioPlayer.bs").make,{attachment:c,getPlayableUrl:d,outgoing:a})}d={make:d};function e(a){var c=a.message,d=a.attachment,e=a.connectTop,f=a.connectBottom;a=a.outgoing;var g=b("MWLSThreadDisplayContext.bs").useHook(void 0),h=j.useCallback(function(a){var c=a.previewUrlLarge;if(c!==void 0&&g==="Inbox")return c;else return b("LSMediaUrl.bs").Attachment.previewUrl(a)},[g]),i=function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)};return j.jsx(b("MWV2ChatImage.bs").make,{message:c,attachment:d,getPreviewUrl:h,getPlayableUrl:i,connectTop:e,connectBottom:f,outgoing:a})}e={make:e};function k(a){a=a.attachment;var c=j.useCallback(function(a){var c=b("LSMediaUrl.bs").Attachment.playableUrl(a);if(c!==void 0)return c;c=b("LSMediaUrl.bs").Attachment.previewUrl(a);if(c!==void 0)return c;else{b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web");return}});return j.jsx(b("MWV2Sticker.bs").make,{attachment:a,getPreviewUrl:c})}k={make:k};f.$$Error=a;f.Video=c;f.$$Audio=d;f.$$Image=e;f.Sticker=k},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageHasXMA.bs",["LSMessageContentType.bs","bs_caml_int64"],function(a,b,c,d,e,f){"use strict";function a(a){return[b("bs_caml_int64").and_(b("LSMessageContentType.bs").singleXma,a.displayedContentTypes),b("bs_caml_int64").and_(b("LSMessageContentType.bs").hscrollXma,a.displayedContentTypes)].some(function(a){return b("bs_caml_int64").to_int32(a)!==0})}f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageIsReply.bs",["LSMessageReplySourceTypeV2.bs","bs_caml"],function(a,b,c,d,e,f){"use strict";function a(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageListColumn.bs",["react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignSelf:"k88nbmki",display:"alzwoclg",flexDirection:"cqf1kptm",alignItems:"adechonz",justifyContent:"siu44isn",maxWidth:"gvxzyvdx"},shrinkwrap:{flexGrow:"c7y9u1f0"},grow:{flexGrow:"cgu29s5g"},paint:{backgroundColor:"lg77cbj3"},profile:{paddingStart:"ryfx26p5",paddingEnd:"b0eko5f3"},withGutters:{paddingEnd:"kx33up9u",paddingStart:"aa68rbk1"},makeSpaceForActions:{maxWidth:"gv6qu0l5"},centered:{alignItems:"i85zmo3j"},selfCentered:{alignSelf:"gb2oqlaf"}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions,m=a.centered;a=a.selfCentered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;m=m!==void 0?m:!1;a=a!==void 0?a:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,m?j.centered:!1,a?j.selfCentered:!1),children:c})}var l={styles:j,make:k};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{children:b,grow:a,shrinkwrap:c,paint:!0,withGutters:!0})}a={make:a};function c(a){var b=a.children;a=a.selfCentered;a=a!==void 0?a:!1;return i.jsx(k,{children:b,shrinkwrap:!0,paint:!0,profile:!0,selfCentered:a})}c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{children:b,shrinkwrap:!0,paint:c,centered:a})}d={make:d};function e(a){a=a.children;return i.jsx(k,{children:a,grow:!0,paint:!0})}e={make:e};function m(a){var b=a.children,c=a.paint;a=a.makeSpaceForActions;return i.jsx(k,{children:b,paint:c,makeSpaceForActions:a})}m={make:m};var n={spacer:{flexGrow:"cgu29s5g",flexBasis:"jg3vgc78"}};function o(a){return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(n.spacer)})}o={styles:n,make:o};var p={vr:{backgroundColor:"lg77cbj3",width:"mfclru0v"}};function q(a){a=a.height;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(p.vr),style:{height:""+a+"px"}})}q={styles:p,make:q};f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=e;f.Bubble=m;f.HorizontalSpacer=o;f.VerticalRhythm=q},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageWithAttachmentHasPoll.bs",["LSMessageContentType.bs","bs_caml_int64"],function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_caml_int64").to_int32(b("bs_caml_int64").and_(b("LSMessageContentType.bs").admin,a.displayedContentTypes))!==0}f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageListAttachment.bs",["LSInt64.bs","LSThreadCapabilityBitOffset.bs","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageWithAttachmentHasPoll.bs","MWPThreadCapabilitiesContext.bs","MWVerticalRhythm.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","gkx","react","stylex","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={vr:{backgroundColor:"lg77cbj3",height:"mdj0cuyo",width:"mfclru0v"},container:{maxWidth:"gvxzyvdx",position:"om3e55n1",zIndex:"b0ur3jhr"},container_for_xma:{width:"mfclru0v"},container_for_poll:{alignItems:"i85zmo3j",display:"alzwoclg",flexDirection:"cqf1kptm",width:"mfclru0v"},file:{paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m"}};function k(a){var c=a.children,d=a.message,e=a.connectTop,f=a.paint;a=a.renderEmphasisRing;f=f!==void 0?f:!0;var g=b("MWPMessageHasXMA.bs").make(d),k=b("MWPMessageIsReply.bs").make(d),l=b("MWPMessageWithAttachmentHasPoll.bs").make(d);d=d.text;d=d!==void 0?d!=="":!1;l=i.jsx("div",{className:(h||(h=b("stylex")))(j.container,g?j.container_for_xma:!1,l?j.container_for_poll:!1),children:c});return i.jsxs(i.Fragment,{children:[e&&(!g||!d)?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:a!==void 0?b("bs_curry")._2(a,g,l):l,paint:!k&&f})]})}c={make:k};function l(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").image)}function m(a,c){return b("LSInt64.bs").compare(a.attachmentIndex,c.attachmentIndex)}function n(a){return a}function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.renderWrapper,g=a.renderFileAttachment,h=a.renderImageAttachment,j=a.renderUnsupportedAttachment,o=a.renderUnsupportedMultipleAttachments,p=a.renderVideoAttachment,q=a.renderAudioAttachment,r=a.renderStickerAttachment,s=a.renderImageGrid,t=a.renderXMAAttachment,u=a.renderEphemeralMediaAttachment,v=a.renderEmphasisRing;a=f!==void 0?f:n;var w=b("useReStore")(),x=c.messageId,y=c.threadKey,z=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(w.table("attachments")),{hd:y,tl:{hd:x,tl:0}})},[w,x,JSON.stringify(y)])).sort(m);f=b("MWPThreadCapabilitiesContext.bs").useHook(void 0);f=b("gkx")("1581")&&b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").blurMedia);if(z.length!==1)if(z.length>1&&z.every(l))if(f)f=b("bs_caml_option").some(z.map(function(a,e){var f={children:b("bs_curry")._3(h,a,e!==0,e!==(z.length-1|0)),message:c,connectTop:d};v!==void 0&&(f.renderEmphasisRing=b("bs_caml_option").valFromOption(v));return i.jsxs(i.Fragment,{children:[e!==0?i.jsx(b("MWVerticalRhythm.bs").make,{height:2}):null,i.jsx(k,f)]},a.attachmentFbid)}));else{s={children:b("bs_curry")._1(s,z),message:c,connectTop:d};v!==void 0&&(s.renderEmphasisRing=b("bs_caml_option").valFromOption(v));f=b("bs_caml_option").some(i.jsx(k,s))}else f=o!==void 0?b("bs_caml_option").some(b("bs_curry")._1(o,z)):void 0;else{s=z[0];o=s.attachmentType;o=b("bs_caml").i64_eq(o,b("MessagingAttachmentType.bs").audio)?!1:!0;var A=s.attachmentType;e={children:b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").animatedImage)?b("bs_curry")._3(h,s,d,e):b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").video)?b("bs_curry")._1(p,s):b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").audio)?b("bs_curry")._1(q,s):b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").sticker)?b("bs_curry")._1(r,s):b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").xma)?b("bs_curry")._1(t,s):b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").file)?b("bs_curry")._1(g,s):b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").ephemeralImage)||b("bs_caml").i64_eq(A,b("MessagingAttachmentType.bs").ephemeralVideo)?b("bs_curry")._1(u,s):b("bs_curry")._1(j,s),message:c,connectTop:d,paint:o};v!==void 0&&(e.renderEmphasisRing=b("bs_caml_option").valFromOption(v));f=b("bs_caml_option").some(i.jsx(k,e))}if(f!==void 0)return b("bs_curry")._1(a,b("bs_caml_option").valFromOption(f));else return null}d=a;f.styles=j;f.Container=c;f.isImage=l;f.orderByUserSelection=m;f.defaultRenderWrapper=n;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c=36;d=c+6|0;e=d+14|0;var j={bubble:{maxWidth:"subw1o1z",paddingTop:"gy87pps4",paddingEnd:"aesu6q9g",paddingBottom:"r5g9zsuq",paddingStart:"e4ay1f3w",position:"om3e55n1",overflowX:"lq84ybu9",overflowY:"hf30pyar",overflowWrap:"l4uc2m3f",wordBreak:"t7p7dqev",":after":{content:"mq7gtlap",display:"gn0xcg96",position:"qynxblmd",top:"k2rpjui8",bottom:"es3nw2qt",start:"mns0jnh3",end:"jk5hgu9g",borderTopStyle:"gu40zx4y",borderEndStyle:"iqz1cw4x",borderBottomStyle:"pmfmvg1n",borderStartStyle:"cfvgcaw0",borderTopWidth:"j7grro7a",borderEndWidth:"adrf26vw",borderBottomWidth:"fuosmkiv",borderStartWidth:"a5hadg02",borderTopColor:"rmsf24gk",borderEndColor:"eugjpdkk",borderBottomColor:"hq52n8cr",borderStartColor:"i6t38cgg",borderTopStartRadius:"hy32gn92",borderTopEndRadius:"mf36qq0z",borderBottomEndRadius:"hyy724bk",borderBottomStartRadius:"sa6asie3",pointerEvents:"lrxvky67"}},incoming_connect_top:{":after":{borderTopStartRadius:"egdsn3e4"}},incoming_connect_bot:{":after":{borderBottomStartRadius:"gwvm2kzy"}},outgoing_connect_top:{":after":{borderTopEndRadius:"iixbmk9t"}},outgoing_connect_bot:{":after":{borderBottomEndRadius:"jwwxk40a"}},precedes_xma:{boxSizing:"bdao358l",maxWidth:"irjsnxci",width:"mfclru0v",":after":{borderBottomEndRadius:"remofo8x",borderBottomStartRadius:"t6xqoo11"}}};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.bubble,d?a?j.outgoing_connect_top:j.incoming_connect_top:!1,!f&&e?a?j.outgoing_connect_bot:j.incoming_connect_bot:!1,f?j.precedes_xma:!1),children:c})}var k=18;a=a;f.baseSize=k;f.borderWidth=c;f.smallRadius=d;f.largeRadius=e;f.styles=j;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatBubble.bs",["MAWGating.bs","MWLSThreadDisplayContext.bs","MWPColorUtils.bs","MWPMessageIsReply.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emphasis_ring:{display:"alzwoclg",borderTop:"bn7n5hxl",borderEnd:"gpp7qv4x",borderBottom:"gfquxrdb",borderStart:"n5cj9gv6",maxWidth:"nf19wtaf",position:"om3e55n1",backgroundColor:"nu7423ey",":before":{content:"d3omg2j1",display:"a5exzl7f",position:"c7o6lo2u",top:"qom181zv",bottom:"clx6i7sf",start:"j0fikhyi",end:"ppw69amt",borderTopStyle:"lz1rymxk",borderEndStyle:"jazgk125",borderBottomStyle:"n51vspgv",borderStartStyle:"fnr94gaq",borderTopWidth:"r24f38r8",borderEndWidth:"iu01dktx",borderBottomWidth:"fu0v9j2j",borderStartWidth:"snn456ny",borderTopColor:"hjy06jl8",borderEndColor:"tcopexyf",borderBottomColor:"oixcsl0b",borderStartColor:"m8201h17",opacity:"b5m6dyuk",borderTopStartRadius:"ngzqiosj",borderTopEndRadius:"ft4gn0bu",borderBottomEndRadius:"gtqinekq",borderBottomStartRadius:"q0j8uv4q",pointerEvents:"ghfcuazb",zIndex:"n33zname"},":after":{content:"mq7gtlap",display:"gn0xcg96",position:"qynxblmd",top:"ds6m588a",bottom:"n0jo0bc1",start:"feohakrt",end:"eoaabc0h",borderTopStyle:"gu40zx4y",borderEndStyle:"iqz1cw4x",borderBottomStyle:"pmfmvg1n",borderStartStyle:"cfvgcaw0",borderTopWidth:"f77ea1pk",borderEndWidth:"fmcmqo09",borderBottomWidth:"th6uke5w",borderStartWidth:"sk4udz1k",borderTopColor:"t9eimb8o",borderEndColor:"ezoi4ows",borderBottomColor:"pppq79vm",borderStartColor:"t2hzf6ud",borderTopStartRadius:"sobqbpql",borderTopEndRadius:"y2zc30nu",borderBottomEndRadius:"phcwhtuo",borderBottomStartRadius:"nu5dt0ai",pointerEvents:"lrxvky67",zIndex:"hs2gl7hp"}},emphasis_ring_before_xma:{borderBottom:"ggolc4ur",":before":{borderBottom:"bixwa046",borderBottomStartRadius:"g81qudqu",borderBottomEndRadius:"jen702ul"},":after":{borderBottom:"s25h5yie",borderBottomStartRadius:"t6xqoo11",borderBottomEndRadius:"remofo8x"}},emphasis_ring_xma:{width:"p45icgho",borderTop:"f5m7p0br",":before":{borderTop:"o3tni708",borderTopStartRadius:"htwhhry9",borderTopEndRadius:"pi7h9pes"},":after":{borderTop:"ivstgj5h",borderTopStartRadius:"hxhtw06k",borderTopEndRadius:"eqgy3f2d"}},emphasis_ring_connect_top_outgoing:{":before":{borderTopEndRadius:"j6f8vj2w"},":after":{borderTopEndRadius:"bzall8dc"}},emphasis_ring_connect_top_incoming:{":before":{borderTopStartRadius:"lp9qpjpu"},":after":{borderTopStartRadius:"t46ex0hm"}},emphasis_ring_connect_bottom_outgoing:{":before":{borderBottomEndRadius:"azpy5om4"},":after":{borderBottomEndRadius:"ijl6emq0"}},emphasis_ring_connect_bottom_incoming:{":before":{borderBottomStartRadius:"joid2ey8"},":after":{borderBottomStartRadius:"kfs2oyny"}}};function k(a,c){if(c)return{backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing;a=a.threadTheme;a=k(a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:a,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}c={useInlineStyles:k,make:l};function m(a,c,d){var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("bs_caml_obj").caml_notequal(e,"Inbox"),g=b("useMatchMedia")("(min-height: "+String(1280)+"px)");return i.useMemo(function(){if(d&&c.length>1)return{backgroundAttachment:"fixed",backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor),backgroundImage:b("MWPColorUtils.bs").gradient(c,f?{headerHeight:b("MAWGating.bs").isArmadillo(void 0)?32:48,totalHeight:g?570:455,footerHeight:56}:void 0,void 0)};else if(d)return{backgroundColor:b("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a,c,d,e,g])}function n(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.threadTheme;a=a.gradientColors;h=m(h,a,g);return i.jsx(b("MWPSolidMessageBubble.bs").make,{children:c,style:h,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g})}d={useInlineStyles:m,make:n};function o(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA;a=a.outgoing;return i.jsx(b("MWPTransparentMessageBubble.bs").make,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:a})}e={make:o};function p(a){var c=a.children,d=a.shouldConnectTop,e=a.shouldConnectBottom,f=a.isBeforeXMA,g=a.hasXMA;a=a.isOutgoing;f=[j.emphasis_ring,f?j.emphasis_ring_before_xma:e?a?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,g?d?j.emphasis_ring_xma:!1:d?a?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[f]),"data-testid":"emphasis-ring",children:c})}var q={make:p};function a(a){var c=a.children,d=a.connectTop,e=a.connectBottom,f=a.precedesXMA,g=a.outgoing,h=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var j=b("MWPThreadTheme.bs").useHook(void 0),k=j.gradientColors;j=j.threadTheme;h=b("MWPMessageIsReply.bs").make(h);h=h?i.jsx(n,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j,gradientColors:k}):g&&k.length>1?i.jsx(o,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g}):i.jsx(l,{children:c,connectTop:d,connectBottom:e,precedesXMA:f,outgoing:g,threadTheme:j});if(a)return i.jsx(p,{children:h,shouldConnectTop:d,shouldConnectBottom:e,isBeforeXMA:f,hasXMA:!1,isOutgoing:g});else return h}a=a;f.styles=j;f.Solid=c;f.Reply=d;f.Transparent=e;f.EmphasisRing=q;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatAttachmentParserUtils.bs",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("formatFileSize",["fbt"],function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a){if(a==null)return null;if(a===0)return i[j](0);var b=Math.floor(Math.log(Math.abs(a))/Math.log(1024));a=a/Math.pow(1024,b);a=Math.round(a*100)/100;return i[b](a)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatFileV2.bs",["fbt","ConstUriUtils","FBID.bs","LSMediaUrl.bs","MDSTextPairing.react","MWChatFilePreview.bs","MWChatMessageId.bs","MWFilePressable.bs","MWInboxInfoSharedContentQPLLogger.bs","MWV2ChatAttachmentParserUtils.bs","MessengerFilePreviewGenerationEntryPoint","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64","formatFileSize","gkx","react","recoverableViolation","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"alzwoclg",alignItems:"i85zmo3j",userSelect:"f14ij5to"},content:{flexGrow:"cgu29s5g",color:"pbevjfx6",fontWeight:"innypi6y",wordBreak:"t7p7dqev",paddingTop:"s1m0hq7j",paddingEnd:"aesu6q9g",paddingBottom:"rj2hsocd",paddingStart:"e4ay1f3w"},filePreview:{flexDirection:"cqf1kptm",alignItems:"hael596l",maxWidth:"qlz2fnfa"},fileSize:{paddingTop:"pvreidsc"}};function a(a){var c=a.attachment;a=j.useMemo(function(){var a=c.filename;if(a!==void 0)return a;else return g._("__JHASH__uiTAWyhPCWI__JHASH__")},[c]);var d=j.useMemo(function(){var a=b("bs_belt_Option").map(c.filesize,b("bs_caml_int64").to_int32);if(a!==void 0)return b("formatFileSize")(a);else return null},[c]),e=j.useMemo(function(){var a=b("LSMediaUrl.bs").Attachment.playableUrl(c);if(a!==void 0){var d=b("MWV2ChatAttachmentParserUtils.bs").getBlobUrl(a);if(d!==void 0)return b("ConstUriUtils").getUri(d);else return b("ConstUriUtils").getUri(a)}b("recoverableViolation")("Attachment has no playable_url "+c.attachmentFbid,"messenger_comet")},[c]),f=b("gkx")("1745")&&b("bs_belt_Option").isSome(b("LSMediaUrl.bs").Attachment.previewUrl(c));f={messageID:b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(c.threadKey),c.messageId,b("bs_int64").to_string(c.timestampMs)),onPress:function(a){return b("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread(1)},entryPoint:b("MessengerFilePreviewGenerationEntryPoint").CHAT_FILE_V4,children:j.jsxs("div",{className:(i||(i=b("stylex")))(k.root,f?k.filePreview:!1),children:[j.jsx(b("MWChatFilePreview.bs").make,{attachment:c,withPreview:f}),j.jsxs("div",{className:i(k.content),children:[j.jsx(b("MDSTextPairing.react"),{headline:a,level:4,headlineLineLimit:3}),j.jsx("div",{className:i(k.fileSize),children:j.jsx(b("MDSTextPairing.react"),{body:d,level:4,bodyLineLimit:1,bodyColor:"secondary"})})]})]})};a=b("FBID.bs").ofString(c.attachmentFbid);a!==void 0&&(f.attachmentID=b("bs_caml_option").valFromOption(a));d=b("bs_belt_Option").map(e,function(a){return a.toString()});d!==void 0&&(f.url=d);return j.jsx(b("MWFilePressable.bs").make,f)}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatFileCommon.bs",["MWV2ChatFileV2.bs"],function(a,b,c,d,e,f){"use strict";a={make:b("MWV2ChatFileV2.bs").make};c=b("MWV2ChatFileV2.bs").make;f.fileComponent=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatImagesGrid.bs",["fbt","CometImageCover.react","CometPhotoGrid.react","CometPressable.react","LSMediaUrl.bs","MWLSThreadDisplayContext.bs","MWV2UseMediaViewerURL.bs","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{maxWidth:"gvxzyvdx"},small:{width:"g98y51fk"},large:{width:"re8ktbu5"},pressable:{display:"b6ax4al1",height:"pytsy3co",overflowX:"lq84ybu9",overflowY:"hf30pyar",borderTopStartRadius:"dl2p71xr",borderTopEndRadius:"h0c7ht3v",borderBottomEndRadius:"j8nb7h05",borderBottomStartRadius:"gffp4m6x",width:"mfclru0v"}};function l(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.useMemo(function(){var d=a.previewUrlLarge;if(d!==void 0&&c==="Inbox")return d;else return b("LSMediaUrl.bs").Attachment.previewUrl(a)},[a,c])}function m(a){a=a.attachment;var c=l(a);a=b("MWV2UseMediaViewerURL.bs").useHook(a);if(c!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{passthroughProps:{origSrc:c},url:a},overlayRadius:4,xstyle:function(a){return[k.pressable]},children:j.jsx(b("CometImageCover.react"),{src:c})});else return null}c={make:m};function a(a){a=a.attachments;var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.jsx("div",{"data-testid":"mw_chat_images_grid_container",className:(i||(i=b("stylex")))(k.root,c==="Inbox"?k.large:k.small),children:j.jsx(b("CometPhotoGrid.react"),{children:a.map(function(a){return j.jsx(m,{attachment:a},a.attachmentFbid)})})})}d=a;f.styles=k;f.usePreviewUrl=l;f.$$Image=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSCautionTriangleSvgIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2UnsupportedAttachment.bs",["fbt","MDSCautionTriangleSvgIcon.bs","MWText.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"alzwoclg",alignItems:"i85zmo3j",userSelect:"f14ij5to",paddingTop:"d2hqwtrz",paddingBottom:"o9wcebwi"},content:{flexGrow:"cgu29s5g",color:"pbevjfx6",fontWeight:"innypi6y",wordBreak:"t7p7dqev"},descriptionText:{paddingTop:"pvreidsc"}},l={icon:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g",marginEnd:"mln2r6ah",backgroundColor:"g4a3q09b",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"}};function m(a){return j.jsx("div",{className:(i||(i=b("stylex")))(l.icon),children:j.jsx(b("MDSCautionTriangleSvgIcon.bs").make,{color:"primary",size:"24"})})}c={styles:l,make:m};function a(a){a=a.attachment;a=a.descriptionText;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(m,{}),j.jsxs("div",{className:i(k.content),children:[j.jsx(b("MWText.react"),{type:"headline4",children:g._("__JHASH__Uhh5LwoNOuv__JHASH__")}),a!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(k.descriptionText),children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}d=a;f.styles=k;f.Icon=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPBaseXMAAttachmentItem.bs",["BaseImage.react","LSMediaUrl.bs","LSThreadCapabilityBitOffset.bs","MNLSXMALayoutType.bs","MWPThreadCapabilitiesContext.bs","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_curry","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),k=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),l=i.createContext({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var c=a.children,d=a.attachment,e=a.attachmentItem;a=a.renderPressable;var f=b("MWPThreadCapabilitiesContext.bs").useHook(void 0),g=b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall);f=b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").rtcVideoCall);d=d.defaultCtaType;e=e.attachmentCta1Id!==void 0;g=d!==void 0?k.has(d)&&!g||j.has(d)&&!f:!1;d={hasAtLeastOneCta:e,isDisabledRtcXma:g,renderPressable:a};return i.createElement(l.Provider,{value:d,children:!e&&!g?b("bs_curry")._1(a,c):c})}function c(a){a=a.children;var c=i.useContext(l);if(c.hasAtLeastOneCta&&!c.isDisabledRtcXma)return b("bs_curry")._1(c.renderPressable,a);else return a}c={make:c};a={context:l,make:a,Nested:c};var m={container:{width:"mfclru0v",display:"alzwoclg",position:"om3e55n1"},image:{maxWidth:"gvxzyvdx",height:"ikduhi8d",objectFit:"p9wrh9lq",flexGrow:"cgu29s5g"}};function d(a){var c=a.url;a=a.attachmentItem;var d=a.previewHeight;a=a.previewWidth;c={src:c,xstyle:m.image};d=d!==void 0?b("bs_caml_int64").to_int32(d):void 0;d!==void 0&&(c.height=d);d=a!==void 0?b("bs_caml_int64").to_int32(a):void 0;d!==void 0&&(c.width=d);return i.jsx("div",{className:(h||(h=b("stylex")))(m.container),children:i.jsx(b("BaseImage.react"),c)})}c={styles:m,make:d};function e(a,c,d,e){a=a!==void 0?a:function(a,c){return b("LSMediaUrl.bs").Attachment.previewUrl(a)};c=c!==void 0?c:!1;var f=b("LSMediaUrl.bs").AttachmentItem.playableUrl(e),g=b("LSMediaUrl.bs").AttachmentItem.previewUrlLarge(e),h=b("LSMediaUrl.bs").AttachmentItem.previewUrl(e);a=b("bs_curry")._2(a,d,e);d=c&&b("bs_belt_Option").isSome(g)?g:b("bs_belt_Option").isSome(h)?h:a;c=e.playableUrlMimeType;g=c!==void 0?c.includes("video")?"video":c.includes("image")?"image":"unsupported":"unsupported";if(g==="video"&&f!==void 0)return{TAG:0,_0:f};if(d!==void 0)return{TAG:1,_0:d};else if(g==="image"&&f!==void 0)return{TAG:1,_0:f};else return 0}function n(a,c){var d=b("bs_caml_obj").caml_notequal(a.xmaLayoutType,b("MNLSXMALayoutType.bs").hscroll),e=c.titleText;e=e!==void 0||!d?e:a.titleText;c=c.subtitleText;d=c!==void 0||!d?c:a.subtitleText;return[e,d]}d={useTitleAndSubtitle:n};f.Pressable=a;f.$$Image=c;f.usePreview=e;f.Body=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743852");c=b("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746398");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744182");c=b("FalcoLoggerInternal").create("pii_action_flow",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{messageID:b,receiptID:a}).toPromise().then(function(a){if(a){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSOpenStaticLocationDialog.bs",["JSResource","MWThreadKey.bs","Promise","ReQL.bs","ReQLSuspense","bs_caml_array","bs_caml_option","bs_int64","promiseDone","react","useCometLazyDialog","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("useCometLazyDialog")(b("JSResource")("MWChatStaticLocationDialog.react").__setRef("MWLSOpenStaticLocationDialog.bs"));var e=a[0];return h.useCallback(function(a){var f;f=(f=b("ReQL.bs")).first(f.map(f.getKeyRange(f.fromTableAscending(c.table("attachments")),{hd:d,tl:{hd:a,tl:0}}),function(a){a=a.defaultCtaId;a=a!==void 0?a:b("bs_int64").zero;a=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachment_ctas")),{hd:a,tl:0}));if(a!==void 0)return a.nativeUrl})).then(function(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);a=a!==void 0?a:""}else a="";var c=b("bs_caml_array").get(a.split(","),0);a=b("bs_caml_array").get(a.split(","),1);e({latitude:c,longitude:a},function(a){});return b("Promise").resolve(void 0)});b("promiseDone")(f,void 0,void 0)},[c,d])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("P2MAttachBankSlipDialog.entrypoint"),{orderID:a})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowAttachBankSlip.bs",["bs_curry","react","useMWUIAttachBankSlipDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useState(function(){return null});var c=a[1],d=a[0];a=h.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIAttachBankSlipDialog")(d);var g=a[0];h.useEffect(function(){!(d==null)&&f&&g({orderID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return h.useMemo(function(){return function(a){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUICheckoutDialog",["FBP2MCheckoutDialog.entrypoint","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("useCometEntryPointDialog")(c("FBP2MCheckoutDialog.entrypoint"),{orderID:a,pageID:b})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowCheckout.bs",["bs_curry","react","useMWUICheckoutDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useState(function(){return null});var c=a[1],d=a[0];a=h.useState(function(){return""});var e=a[1],f=a[0];a=h.useState(function(){return!1});var g=a[1],i=a[0];a=b("useMWUICheckoutDialog")(d);var j=a[0];h.useEffect(function(){!(d==null)&&i&&j({orderID:d,pageID:f},function(a){return b("bs_curry")._1(g,function(a){return!1})})},[d,i]);return h.useMemo(function(){return function(a,d){b("bs_curry")._1(g,function(a){return!0});b("bs_curry")._1(c,function(b){return a});return b("bs_curry")._1(e,function(a){return d})}},[g,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUIMemberRequestDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){a=c("useCometEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{adminActivityID:f,groupID:b,isManagementActivityLogTargetProfilePlus:!1});b=c("useCometEntryPointDialog")(c("GroupsCometAdmodChatsReviewDialog.entrypoint"),{groupID:b,profileID:e,scale:d("WebPixelRatio").get()});return f!=null&&f!=="0"?a:b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowMemberRequest.bs",["bs_curry","react","useMWUIMemberRequestDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useState(function(){return null});var c=a[1],d=a[0];a=h.useState(function(){return""});var e=a[1],f=a[0];a=h.useState(function(){return""});var g=a[1],i=a[0];a=h.useState(function(){return""});var j=a[1],k=a[0];a=h.useState(function(){return!1});var l=a[1],m=a[0];a=b("useMWUIMemberRequestDialog")(d,f,i,k);var n=a[0];h.useEffect(function(){!(d==null)&&m&&n({targetId:d,groupId:f,profileId:i,activityLogItemId:k},function(a){return b("bs_curry")._1(l,function(a){return!1})})},[d,m]);return h.useMemo(function(){return function(a,d,f,h){var m;(m=b("bs_curry"))._1(l,function(a){return!0});m._1(c,function(b){return a});m._1(e,function(a){return d});m._1(g,function(a){return f});return m._1(j,function(a){return h})}},[l,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUIOffsiteBankTransferDialog",["P2MOffsiteBankTransferDialog.entrypoint","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("P2MOffsiteBankTransferDialog.entrypoint"),{orderID:a})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowOffsiteBankTransfer.bs",["bs_curry","react","useMWUIOffsiteBankTransferDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useState(function(){return null});var c=a[1],d=a[0];a=h.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIOffsiteBankTransferDialog")(d);var g=a[0];h.useEffect(function(){!(d==null)&&f&&g({orderID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return h.useMemo(function(){return function(a){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("P2MOrderDetailDialog.entrypoint"),{orderID:a})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowOrderDetails.bs",["bs_curry","react","useMWUIOrderDetailsDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useState(function(){return null});var c=a[1],d=a[0];a=h.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIOrderDetailsDialog")(d);var g=a[0];h.useEffect(function(){!(d==null)&&f&&g({orderID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return h.useMemo(function(){return function(a){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useCometEntryPointDialog")(c("FBPayHubTransactionDetailDialog.entrypoint"),{transactionID:a})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowPaymentDetails.bs",["fbt","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react","useMWUIPaymentDetailsDialog"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=i.useState(function(){return null});var c=a[1],d=a[0];a=i.useState(function(){return!1});var e=a[1],f=a[0];a=b("useMWUIPaymentDetailsDialog")(d);var h=a[0],j=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").payments);i.useEffect(function(){!(d==null)&&f&&h({title:g._("__JHASH__gOv13cta-Bn__JHASH__"),transactionID:d},function(a){return b("bs_curry")._1(e,function(a){return!1})})},[d,f]);return i.useMemo(function(){return function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(c,function(b){return a})}},[e,c,j])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","useCometEntryPointDialog"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=c("useCometEntryPointDialog")(c("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),{adminActivityID:g,groupID:b,isManagementActivityLogTargetProfilePlus:!1});e=c("useCometEntryPointDialog")(c("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),{authorID:e,groupID:b,postID:f,scale:d("WebPixelRatio").get()});return g!=null&&g!=="0"?a:e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSShowPendingPost.bs",["bs_curry","react","useMWUIPendingPostDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useState(function(){return null});var c=a[1],d=a[0];a=h.useState(function(){return""});var e=a[1],f=a[0];a=h.useState(function(){return""});var g=a[1],i=a[0];a=h.useState(function(){return""});var j=a[1],k=a[0];a=h.useState(function(){return""});var l=a[1],m=a[0];a=h.useState(function(){return!1});var n=a[1],o=a[0];a=b("useMWUIPendingPostDialog")(d,f,i,k,m);var p=a[0];h.useEffect(function(){!(d==null)&&o&&p({targetId:d,groupId:f,authorId:i,postId:k,activityLogItemId:m},function(a){return b("bs_curry")._1(n,function(a){return!1})})},[d,o]);return h.useMemo(function(){return function(a,d,f,h,o){var p;(p=b("bs_curry"))._1(n,function(a){return!0});p._1(c,function(b){return a});p._1(e,function(a){return d});p._1(g,function(a){return f});p._1(j,function(a){return h});return p._1(l,function(a){return o})}},[n,c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWP2PPaymentMethodAdd.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("MWP2PPaymentMethodAdd.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentMethodAdd=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWP2PPaymentRequestCancel.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("MWP2PPaymentRequestCancel.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestCancel=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWP2PPaymentRequestConfirm.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("MWP2PPaymentRequestConfirm.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestConfirm=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWP2PPaymentRequestDecline.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("MWP2PPaymentRequestDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestDecline=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWP2PPaymentTransactionDecline.bs",["JSResource","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("MWP2PPaymentTransactionDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentTransactionDecline=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResource","XP2PVerificationDialogBaseControllerRouteBuilder","bs_belt_Option","bs_caml_option","gkx","react","useCometLazyDialog"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var c=a[0];a=b("useCometLazyDialog")(b("JSResource")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h.useCallback(function(a){a=a.id;if(b("gkx")("94"))return d({transferId:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))},function(a){});else return c({params:{rel:"dialog-post",uri:b("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({is_sender_flow:!1,id:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))})}},function(a){})},[c])}f.useP2PPaymentTransactionInformationVerify=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MakeRoomRingbackCommon.bs",["cr:9972"],function(a,b,c,d,e,f){"use strict";a=b("cr:9972").useHook;f.$WorkPlaceMakeRoomRingback$OR$MakeRoomRingback$requireCond=b("cr:9972");f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],function(a,b,c,d,e,f){"use strict";function a(a){if(a==="cancel_button")return"cancel_button";else if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="breakout_start_button")return"breakout_start_button";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="caller_warning_continue_call_button")return"caller_warning_continue_call_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="upsell_workchat_precall_text")return"upsell_workchat_precall_text";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="upsell_workchat_activate_deep_linking")return"upsell_workchat_activate_deep_linking";else if(a==="caller_warning_cancel_call_button")return"caller_warning_cancel_call_button";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="create_live_waiting_for_joiners_dialog_cancel_button")return"create_live_waiting_for_joiners_dialog_cancel_button";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="breakout_end_button")return"breakout_end_button";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="e2ee_key_verfication_button")return"e2ee_key_verfication_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="upgrade_browser")return"upgrade_browser";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"upsell_workchat_download_app"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"breakout_end_button":return"breakout_end_button";case"breakout_start_button":return"breakout_start_button";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"caller_warning_cancel_call_button":return"caller_warning_cancel_call_button";case"caller_warning_continue_call_button":return"caller_warning_continue_call_button";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_live_waiting_for_joiners_dialog_cancel_button":return"create_live_waiting_for_joiners_dialog_cancel_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"e2ee_key_verfication_button":return"e2ee_key_verfication_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_browser":return"upgrade_browser";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"upsell_workchat_activate_deep_linking":return"upsell_workchat_activate_deep_linking";case"upsell_workchat_download_app":return"upsell_workchat_download_app";case"upsell_workchat_precall_text":return"upsell_workchat_precall_text";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],function(a,b,c,d,e,f){"use strict";function a(a){if(a==="caller_warning_dialog")return"caller_warning_dialog";else if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"caller_warning_dialog":return"caller_warning_dialog";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatXmaThirdPartyActionHandler.bs",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","JSResource","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWLSMarketplaceXmaCallFunctionCtaHandler.bs","MWLSOpenStaticLocationDialog.bs","MWLSShowAttachBankSlip.bs","MWLSShowCheckout.bs","MWLSShowMemberRequest.bs","MWLSShowOffsiteBankTransfer.bs","MWLSShowOrderDetails.bs","MWLSShowPaymentDetails.bs","MWLSShowPendingPost.bs","MWP2PPaymentMethodAdd.bs","MWP2PPaymentRequestCancel.bs","MWP2PPaymentRequestConfirm.bs","MWP2PPaymentRequestDecline.bs","MWP2PPaymentTransactionDecline.bs","MWP2PPaymentTransactionInformationVerify.bs","MakeRoomRingbackCommon.bs","MarketplaceCometReviewOffersDialog.entrypoint","MentorshipMessengerLoggingUtils","Popup","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","bs_caml_option","bs_curry","cr:11076","react","requireDeferred","useCometDynamicEntryPointDialog","useCometLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.receiptId;if(d!==void 0){b("MWChatReceiptDataQuery").fetch(d,a.messageId,function(a){var b=g._("__JHASH__PDJB6VYGeXn__JHASH__");return c({title:b,receipt:a},function(a){})});return}},[c])}function k(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.feedbackFormId;b("MWChatCustomerFeedbackStateQuery").fetch(e,d,function(a){b("MWChatCustomerFeedbackFormDataQuery").fetch(e,d,function(b){return c({firstScreen:b.firstScreen,privacy:b.privacy,formId:b.formId,pageId:b.pageId,state:a},function(a){})})})},[c])}function l(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;b("MWChatCustomerFeedbackStateQuery").fetch(f,d,function(a){return c({firstScreen:h,privacy:g,formId:f,pageId:e,state:a},function(a){})})},[c])}function m(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;b("MWChatPIIFormStateQuery").fetch(i,d,function(a){b("MWChatPIIFormNuxQuery").fetch(d,i,e,function(k){if(g>1){b("MWChatPIIFormScreenQuery").fetch(i,e,1,d,function(d){return c({firstScreen:j,secondScreen:b("bs_caml_option").some(d),formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})});return}else return c({firstScreen:j,secondScreen:void 0,formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})})})},[c])}function n(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.nuxData,f=a.piiForm,g=f.pageId,h=f.color,i=f.numScreens,j=f.currentIndex,k=f.formId,l=f.firstScreen,m=a.ctaType;b("MWChatPIIFormStateQuery").fetch(k,d,function(a){if(i>1){b("MWChatPIIFormScreenQuery").fetch(k,g,1,d,function(d){return c({firstScreen:l,secondScreen:b("bs_caml_option").some(d),formId:k,currentIndex:j,numScreens:i,color:h,state:a,nuxData:e,pageId:g,ctaType:m},function(a){})});return}else return c({firstScreen:l,secondScreen:void 0,formId:k,currentIndex:j,numScreens:i,color:h,state:a,nuxData:e,pageId:g,ctaType:m},function(a){})})},[c])}function o(a){a=b("useCometLazyDialog")(b("JSResource")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,requestID:a.requestId},function(a){})},[c])}function p(a){a=b("useCometLazyDialog")(b("JSResource")("MWFbpayOfferDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({offerId:a.offerId,title:a.title},function(a){})},[c])}function q(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({titleString:a.titleString,messageId:a.messageId},function(a){})},[c])}function r(a){var c=b("MWLSOpenStaticLocationDialog.bs").useHook(void 0);return i.useCallback(function(a){return b("bs_curry")._1(c,a.msgId)},[c])}function s(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({boardingPassDetail:a},function(a){})},[c])}function t(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({itineraryPayload:a},function(a){})},[c])}function u(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID,title:a.sourceTitle},function(a){})},[c])}var v=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWChatXmaThirdPartyActionHandler.bs");function w(a){return i.useCallback(function(c){v.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"start_call_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})});return b("bs_curry")._3(a,c.hasVideo,c.threadId,c.trigger)},[a])}function x(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,guestID:a.guestId},function(a){})},[c])}d=b("cr:11076")==null?void 0:b("bs_caml_option").some(b("cr:11076"));function y(a){return i.useCallback(function(a){if(!(b("cr:11076")==null))return b("bs_curry")._2(b("cr:11076").$$process,a.ctaId,a.messageId)},[])}function z(a){b("Popup").open(a,1024,500)}function A(a){a=b("useCometLazyDialog")(b("JSResource")("MentorshipLeaveSurveyDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.programID;b("MentorshipMessengerLoggingUtils").logMessengerEvent({event:"click_unit",unit:"prompt_unit",destUnit:"leave_survey",destContainer:"messenger_thread",extraData:{prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT",content_id:a.promptID},displayName:"End Program",programID:d});return c({programID:d},function(a){})},[c])}function B(a){a=b("useCometLazyDialog")(b("JSResource")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({linkUrl:a.linkUrl},function(a){})},[c])}function a(a){return b("MWLSMarketplaceXmaCallFunctionCtaHandler.bs").useMarketplaceXmaCallFunctionCtaHandler(void 0)}function C(a){var c=b("useCometDynamicEntryPointDialog")(b("MarketplaceCometReviewOffersDialog.entrypoint"));return i.useCallback(function(a){return c({listingId:a},void 0,function(a){})},[c])}function D(a){var c=b("useCometDynamicEntryPointDialog")(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return i.useCallback(function(a){return c({threadId:a},{threadId:a},function(a){})},[c])}function c(a,c){var d=j(void 0),e=l(void 0),f=k(void 0),g=y(void 0),h=m(void 0),i=n(void 0),v=p(void 0),E=q(void 0),F=r(void 0),G=o(void 0),H=s(void 0),I=x(void 0),J=t(void 0),K=u(void 0),L=b("MWP2PPaymentRequestCancel.bs").useP2PPaymentRequestCancel(void 0),M=b("MWP2PPaymentRequestConfirm.bs").useP2PPaymentRequestConfirm(void 0),N=b("MWP2PPaymentRequestDecline.bs").useP2PPaymentRequestDecline(void 0),O=b("MWP2PPaymentTransactionDecline.bs").useP2PPaymentTransactionDecline(void 0),P=b("MWP2PPaymentMethodAdd.bs").useP2PPaymentMethodAdd(void 0),Q=b("MWP2PPaymentTransactionInformationVerify.bs").useP2PPaymentTransactionInformationVerify(void 0),R=w(c),S=b("bs_curry")._1(b("MakeRoomRingbackCommon.bs").useHook,void 0),T=B(void 0),U=A(void 0),V=b("MWLSShowMemberRequest.bs").useHook(void 0),W=b("MWLSShowPendingPost.bs").useHook(void 0),X=b("MWLSShowPaymentDetails.bs").useHook(void 0),Y=b("MWLSShowOrderDetails.bs").useHook(void 0),Z=b("MWLSShowCheckout.bs").useHook(void 0),$=b("MWLSShowAttachBankSlip.bs").useHook(void 0),aa=b("MWLSShowOffsiteBankTransfer.bs").useHook(void 0),ba=b("MWLSMarketplaceXmaCallFunctionCtaHandler.bs").useMarketplaceXmaCallFunctionCtaHandler(void 0),ca=C(void 0),da=D(void 0);return function(c){var j=c.NAME;if(j==="P2PPaymentTransactionInformationVerify")return b("bs_curry")._1(Q,c.VAL);if(j==="P2PPaymentTransactionDecline")return b("bs_curry")._2(O,void 0,c.VAL);if(j==="MakeWorkJoinableCallInvite"||j==="MakeRoomRingback")return b("bs_curry")._1(S,c.VAL);if(j==="P2MCheckout"){var k=c.VAL;return Z(k.orderID,k.pageID)}if(j==="ShowCustomerFeedback")return b("bs_curry")._1(e,c.VAL);if(j==="ShowFbpayOfferDetails")return b("bs_curry")._1(v,c.VAL);if(j==="P2PPaymentRequestCancel")return b("bs_curry")._2(L,void 0,c.VAL);if(j==="SendImagePostback"){k=c.VAL;var l=k.loggingDetails;l!==void 0&&b("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(a){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,index:l.index,cta:"button"},event_location:"unknown",page_id:l.page_id}});return b("bs_curry")._3(a,k.message,k.platformToken,k.image)}if(j==="ShowMessengerExtensions")return b("bs_curry")._1(K,c.VAL);if(j==="ShowPIIForm")return b("bs_curry")._1(h,c.VAL);if(j==="OpenAccountLink")return b("bs_curry")._1(g,c.VAL);if(j==="P2MOffsiteBankTransferCTA")return aa(c.VAL.orderID);if(j==="P2PPaymentTransactionReceiveMoney")return b("bs_curry")._2(P,void 0,c.VAL);if(j==="ShowBoardingPass")return b("bs_curry")._1(H,c.VAL);if(j==="P2MOrderDetails")return Y(c.VAL.orderID);if(j==="ShowStaticLocationDetails")return b("bs_curry")._1(F,c.VAL);if(j==="P2PPaymentTransactionDetails")return X(c.VAL.id);if(j==="P2PPaymentRequestDecline")return b("bs_curry")._2(N,void 0,c.VAL);if(j==="ShowMentorshipDialog")return b("bs_curry")._1(U,c.VAL);if(j==="ShowBookingDetails")return b("bs_curry")._1(G,c.VAL);if(j==="ShowOrderConfirmation")return b("bs_curry")._1(d,c.VAL);if(j==="ShowCustomerFeedbackForm")return b("bs_curry")._1(f,c.VAL);if(j==="ShowItinerary")return b("bs_curry")._1(J,c.VAL);if(j==="OpenAccountLinkUrl")return z(c.VAL);if(j==="MakeJoinRoomFromPortal")return b("bs_curry")._1(T,c.VAL);if(j==="P2MAttachBankSlip")return $(c.VAL.orderID);if(j==="AdmodChatsShowPendingPost"){k=c.VAL;return W(k.targetId,k.groupId,k.authorId,k.postId,k.activityLogItemId)}if(j==="P2PPaymentRequestConfirm")return b("bs_curry")._2(M,void 0,c.VAL);if(j==="MakeRtcCall")return b("bs_curry")._1(R,c.VAL);if(j==="ProcessMarketplaceCallFunction"){k=c.VAL;return b("bs_curry")._4(ba,k.messageId,k.attachmentFbid,k.targetId,k.actionType)}if(j==="ShowPIIFormForFormBuilder")return b("bs_curry")._1(i,c.VAL);if(j==="ShowLiveLocationDetails")return b("bs_curry")._1(E,c.VAL);if(j==="AdmodChatsShowMemberRequest"){k=c.VAL;return V(k.targetId,k.groupId,k.profileId,k.activityLogItemId)}if(j==="ShowGuestChatHistory")return b("bs_curry")._1(I,c.VAL);k=c.VAL;j=k.threadId;c=k.listingId;switch(k.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(j!==void 0)return b("bs_curry")._1(da,b("bs_caml_option").valFromOption(j));else return;case"SHIPPED_OFFER_CANCEL":if(c!==void 0)return b("bs_curry")._1(ca,b("bs_caml_option").valFromOption(c));else return;default:return}}}f.useShowOrderConfirmation=j;f.useShowCustomerFeedback=k;f.useShowCustomerSatisfaction=l;f.useShowPIIForm=m;f.useShowPIIFormForFormBuilder=n;f.useShowBookingDetails=o;f.useShowFbpayOfferDetails=p;f.useShowLiveLocationDetails=q;f.useShowStaticLocationDetails=r;f.useShowBoardingPass=s;f.useShowItinerary=t;f.useShowMessengerExtensions=u;f.$ZenonUserActionLoggerCommon$Deferred=v;f.useMakeRTCCall=w;f.useGuestMessageThreadDetails=x;f.$null$OR$MNCommerceCTAProcessor$requireCond=b("cr:11076");f.mnCommerceCTAProcessor=d;f.useOpenAccountLink=y;f.openAccountLinkUrl=z;f.useShowMentorshipDialog=A;f.useMakeJoinRoomFromPortal=B;f.processMarketplaceCallFunction=a;f.useShowReviewOffersDialog=C;f.useShowCreateDiscountedPriceDialog=D;f.useHandler=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMACtaRegistry.bs",["ConstUriUtils","FBID.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource.bs","LsActionType.bs","MWChatPollXMAActionHandler.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSImagePostbackCtaHandler.bs","MWLSPostbackCtaHandler.bs","MWLSStartPhoneCall.bs","MWLSWebUrlCtaHandler.bs","URI","XCometStoriesControllerRouteBuilder","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx"],function(a,b,c,d,e,f){"use strict";var g;function a(a){a=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);var c=b("LSMessagingSource.bs").useHook(void 0);c=b("MWLSImagePostbackCtaHandler.bs").usePostbackCtaHandler(c,a);a=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0);var d=b("MWChatXmaThirdPartyActionHandler.bs").useHandler(c,a[0]),e=b("MWLSPostbackCtaHandler.bs").usePostbackCtaHandler(void 0),f=b("MWChatPollXMAActionHandler.bs").useHandler(void 0),h=b("MWLSWebUrlCtaHandler.bs").useShowWebViewDialog(void 0);return function(a){var c,i,j=a.actionUrl,k=a.platformToken,l=a.type_,m=a.title,n=a.messageId,o=a.threadKey,p=a.attachmentFbid,q=0,r=0,s=0,t=0,u=0,v=0;if(l==="xma_rtc_audio"||l==="xma_rtc_missed_audio"||l==="xma_rtc_ended_audio")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!1,trigger:l}})},_1:void 0};if(l==="xma_rtc_video"||l==="xma_rtc_new_video_default"||l==="xma_rtc_new_video_from_fb_share"||l==="xma_rtc_new_video_from_fb_video_share"||l==="xma_rtc_missed_video"||l==="xma_rtc_ended_video")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!0,trigger:l}})},_1:void 0};if(l==="xma_postback")return{TAG:0,_0:function(a){return b("bs_curry")._2(e,k,m)},_1:[b("bs_int64").to_string(o),31]};if(j!==void 0){if(l==="xma_open_dialog"){var w=new(g||(g=b("URI")))(j).getQueryData(),x=w.page_id,y=w.guest_id;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowGuestChatHistory",VAL:{pageId:x,guestId:y}})},_1:void 0}}w=8}else w=8;if(w===8){var z=a.targetId;if(l==="xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url but didn't get any",_1:"messenger_business_core_product"};if(z!==void 0){if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2PPaymentTransactionDetails",VAL:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(z))),currentStatus:null}})},_1:void 0};v=7}else v=7}if(v===7)if(j!==void 0){if(l==="xma_join_from_portal")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:j}})},_1:void 0};u=6}else u=6;if(u===6){w=0;if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:3,_0:"P2P Transaction encounterd without txn id",_1:"messenger_privacy_web"};if(a.nativeUrl!==void 0)v=8;else{if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowLiveLocationDetails",VAL:{titleString:m,messageId:n}})},_1:void 0};v=8}if(v===8){var A=a.actionContentBlob;u=0;v=0;var B=0,C=0,D=a.targetId;if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowStaticLocationDetails",VAL:{msgId:n}})},_1:void 0};if(l==="xma_poll_details_button"||l==="xma_poll_details_card")return{TAG:0,_0:function(a){return b("bs_curry")._2(f,b("bs_belt_Option").getExn(D),b("bs_belt_Option").getExn(A))},_1:void 0};if(A!==void 0){var E=a.targetId;if(E!==void 0)if(l==="xma_admod_chat_member_request"){var F;try{F=b("bs_caml_option").some(JSON.parse(A))}catch(a){F=void 0}if(F===void 0)return 0;F=b("bs_js_json").classify(b("bs_caml_option").valFromOption(F));if(typeof F==="number")return 0;if(F.TAG!==2)return 0;var G=F._0;return{TAG:0,_0:function(a){a=b("bs_js_dict").get(G,"groupID");var c=b("bs_js_dict").get(G,"profileID"),e=b("bs_js_dict").get(G,"activityLogItemID");return b("bs_curry")._1(d,{NAME:"AdmodChatsShowMemberRequest",VAL:{targetId:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(E))),groupId:a!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(a)):"",profileId:c!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(c)):"",activityLogItemId:e!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(e)):""}})},_1:void 0}}else if(l==="xma_admod_chat_pending_post"){try{F=b("bs_caml_option").some(JSON.parse(A))}catch(a){F=void 0}if(F===void 0)return 0;F=b("bs_js_json").classify(b("bs_caml_option").valFromOption(F));if(typeof F==="number")return 0;if(F.TAG!==2)return 0;var H=F._0;return{TAG:0,_0:function(a){var c=(a=b("bs_js_dict")).get(H,"groupID"),e=a.get(H,"authorID"),f=a.get(H,"postID");a=a.get(H,"activityLogItemID");return b("bs_curry")._1(d,{NAME:"AdmodChatsShowPendingPost",VAL:{targetId:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(E))),groupId:c!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(c)):"",authorId:e!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(e)):"",postId:f!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(f)):"",activityLogItemId:a!==void 0?JSON.stringify(b("bs_caml_option").valFromOption(a)):""}})},_1:void 0}}else C=12;else B=11}else C=12;if(C===12){var I=a.targetId;if(I!==void 0){if(l==="xma_p2m_payment_details")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2MOrderDetails",VAL:{orderID:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(I)))}})},_1:void 0};if(l==="xma_p2m_attach_receipt")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2MAttachBankSlip",VAL:{orderID:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(I)))}})},_1:void 0};if(l==="xma_p2m_offsite_bank_transfer")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2MOffsiteBankTransferCTA",VAL:{orderID:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(I)))}})},_1:void 0};if(l==="xma_p2m_checkout")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2MCheckout",VAL:{pageID:b("bs_int64").to_string(o),orderID:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(I)))}})},_1:void 0};B=11}else B=11}if(B===11)if(A!==void 0){if(l==="xma_direct_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowPIIForm",VAL:JSON.parse(A)})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").piiWebview)]};v=10}else v=10;if(v===10){if(l==="xma_direct_send")return{TAG:3,_0:"Expected pii_form data but didn't get any",_1:"mb_apix"};if(A!==void 0){if(l==="xma_biz_inbox_form_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowPIIFormForFormBuilder",VAL:{ctaType:l,piiForm:JSON.parse(A),nuxData:{seen:!0,description:"",url_text:"",url:"",title:""}}})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").piiWebview)]};u=9}else u=9}if(u===9){if(l==="xma_biz_inbox_form_send")return{TAG:3,_0:"Expected pii_form data but didn't get any",_1:"mb_apix"};if(A!==void 0){if(l==="xma_feedback_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:A}})},_1:[b("bs_int64").to_string(o),69]};w=7}else w=7}}if(w===7){if(l==="xma_feedback_send")return{TAG:3,_0:"Expected Feedback info but didn't get any",_1:"mb_apix"};if(j!==void 0){if(l==="xma_account_link")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenAccountLinkUrl",VAL:j})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").accountLink)]};t=5}else t=5}}if(t===5){var J=a.actionContentBlob;if(l==="xma_account_link")return{TAG:3,_0:"Expected an account link url but didn't get any",_1:"mb_apix"};if(l==="xma_open_joinable_call_invite_url")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:b("bs_belt_Option").getExn(j)}})},_1:void 0};if(l==="xma_montage_share"){F=a.targetId;if(F!==void 0)return{TAG:1,_0:b("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+b("bs_int64").to_string(F)),view_single:!0}).setDomain("www.facebook.com").setProtocol("https").toString(),_1:void 0};else return 0}if(J!==void 0){if(l==="marketplace_xma_call_function"){var K=a.targetId;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ProcessMarketplaceCallFunction",VAL:{messageId:n,attachmentFbid:p,targetId:b("bs_belt_Option").getExn(K),actionType:J}})},_1:void 0}}C=6}else C=6;if(C===6){if(l==="marketplace_xma_call_function")return 0;if(j!==void 0){var L=a.actionContentBlob;if(L!==void 0){if(l==="marketplace_xma_open_dialog"){B=b("ConstUriUtils").getUri(j);if(B===void 0)return{TAG:3,_0:"Found invalid url when creating CTA",_1:"messenger_business_core_product"};var M=b("bs_caml_option").valFromOption(B).getQueryParam("listingID");return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenMarketplaceDialog",VAL:{ctaType:L,listingId:b("FBID.bs").ofString(M),threadId:b("FBID.bs").ofString(b("bs_int64").to_string(o))}})},_1:void 0}}s=4}else s=4}else s=4}}if(s===4){v=a.nativeUrl;u=0;w=a.actionContentBlob;if(l==="marketplace_xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url and actionContentBlob but didn't get any",_1:"messenger_business_core_product"};if(w!==void 0&&l==="xma_ctm_in_thread_multiphoto_reply_image"){try{t=b("bs_caml_option").some(JSON.parse(w))}catch(a){t=void 0}if(t===void 0)return 0;F=b("bs_js_json").classify(b("bs_caml_option").valFromOption(t));if(typeof F==="number")return 0;if(F.TAG!==2)return 0;var N=F._0;C=b("bs_js_dict").get(N,"action_prefill");B=b("bs_js_dict").get(N,"reply_image_uri");if(C===void 0)return 0;if(B===void 0)return 0;var O=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(C)),P=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(B));if(O===void 0)return 0;if(P===void 0)return 0;var Q='{"in_thread_multiphoto_xma_reply": true}';return{TAG:0,_0:function(a){a=b("bs_js_dict").get(N,"ad_id");if(a!==void 0){a=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(a));a=a!==void 0?b("FBID.bs").ofString(a.toString()):void 0}else a=void 0;var e=b("bs_js_dict").get(N,"customer_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;var f=b("bs_js_dict").get(N,"index"),c=b("bs_js_dict").get(N,"page_id");if(c!==void 0){c=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(c));c=c!==void 0?b("FBID.bs").ofString(c.toString()):void 0}else c=void 0;return b("bs_curry")._1(d,{NAME:"SendImagePostback",VAL:{message:O,image:P,platformToken:k!==void 0&&k!==""?k:Q,loggingDetails:{ad_id:a,consumer_id:e,index:f!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(f)):void 0,page_id:c}}})},_1:void 0}}else s=6;if(s===6){if(l==="xma_ctm_in_thread_multiphoto_reply_image")return 0;if(v!==void 0){if(l==="xma_open_native"&&v.startsWith("fb-messenger://user-thread/")){w=v.substr("fb-messenger://user-thread/".length);return{TAG:2,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(w),loggingDetails:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").openNative)]}}}u=5}else u=5}if(u===5){var R=a.actionContentBlob;if(R!==void 0){if(l==="xma_open_native")return{TAG:0,_0:function(a){return b("bs_curry")._1(h,R)},_1:void 0};r=3}else r=3}}if(r===3)if(j!==void 0){if(l==="xma_open_native")return{TAG:1,_0:j,_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").openNative)]};q=2}else q=2;if(q===2){var S=a.actionContentBlob;if(l==="xma_open_native"){t=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(S,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"No Url found while parsing Open Native XMA "+t,_1:"messenger_privacy_web"}}if(S!==void 0)return{TAG:0,_0:function(a){return b("bs_curry")._1(h,S)},_1:void 0};if(j!==void 0){F=a.enableExtensions;if(F!==void 0){if(F)return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowMessengerExtensions",VAL:{actionLink:j,pageID:b("bs_int64").to_string(o),userID:b("FBID.bs").ofString(b("bs_int64").to_string(o)),sourceTitle:b("bs_js_null_undefined").fromOption(m)}})},_1:[b("bs_int64").to_string(o),33]};c=o;i=j}else c=o,i=j}else{C=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.actionContentBlob,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"Unknown CTA encountered while parsing XMA. "+C,_1:"messenger_privacy_web"}}}return{TAG:1,_0:i,_1:[b("bs_int64").to_string(c),32]}}}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMAAttachmentActionTrigger.bs",["fbt","CometLink.react","CometPressable.react","LSThreadAttributionStore.bs","LsDidTapCallToActionFalcoEvent","MWChatOpenTabByThreadKey.bs","MWInboxRouteBuilder.bs","MWXMACtaRegistry.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","UseBlockedUserInterstitial.bs","bs_belt_Option","bs_curry","bs_int64","react","recoverableViolation","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c,d){if(d===void 0)return;var e=d[1],f=d[0];b("LsDidTapCallToActionFalcoEvent").log(function(d){return{action:{id:b("bs_int64").to_string(a.ctaId),name:"",source:c,type:e},message:{id:a.messageId},page:{id:f},target:{id:f},thread:{id:f}}})}function k(a){var c=b("UseBlockedUserInterstitial.bs").useHook(a),d=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=b("useCometRouterDispatcher")(),f=b("MWChatOpenTabByThreadKey.bs").useHook(a,"chatInThread");return i.useCallback(function(g){return function(h){if(d)return b("bs_curry")._2(c,function(a){a=h.metaKey||h.ctrlKey||h.shiftKey;if(!a)return b("bs_curry")._1(f,void 0)},"chatInThread");else if(!(e==null))return b("bs_curry")._2(c,function(c){b("LSThreadAttributionStore.bs").setSource(b("bs_int64").to_string(a),"chatInThread"),e.go(g)},"chatInThread");else return}},[c,d,f,e])}function l(a){var c=a.children;a=a.threadKey;return b("bs_curry")._1(c,k(a))}c={make:l};var m={link:{":hover":{textDecoration:"l3ldwz01"}}};function n(a){var c=a.attachmentItem,d=a.children,e=b("useReStore")(),f=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.defaultCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachment_ctas")),{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,JSON.stringify(c.defaultCtaId)]));a=b("MWXMACtaRegistry.bs").useHook(void 0);if(f===void 0)return d;a=b("bs_curry")._1(a,f);if(typeof a==="number")return d;switch(a.TAG|0){case 0:var h=a._1,k=a._0;return i.jsx(b("CometPressable.react"),{"aria-label":b("bs_belt_Option").getWithDefault(c.titleText,""),onPress:function(a){j(f,1,h);return b("bs_curry")._1(k,void 0)},children:d});case 1:var n=a._0;if(!(n.startsWith("http")||n.startsWith("/")))return d;var o=a._1;return i.jsx(b("CometLink.react"),{href:n,target:"_blank",label:b("bs_belt_Option").getWithDefault(c.titleText,g._("__JHASH__jBGVUqdMJ6C__JHASH__").toString()),children:d,onClick:function(a){return j(f,1,o)},xstyle:[m.link]});case 2:n=a._0;var p=n.loggingDetails;n=n.threadKey;var q=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(n)});return i.jsx(l,{threadKey:n,children:function(a){return i.jsx(b("CometLink.react"),{href:q,children:d,onClick:function(c){b("bs_curry")._2(a,q,c);return j(f,1,p)},xstyle:[m.link],preventLocalNavigation:!0})}});case 3:b("recoverableViolation")(a._0,a._1);return d}}d={styles:m,make:n};function a(a){var b=a.attachmentItem,c=a.isPressable;a=a.children;if(c)return i.jsx(n,{attachmentItem:b,children:a});else return a}e={make:a};f.logCtaClicked=j;f.useMaybeOpenChatTab=k;f.WithOpenChatTab=c;f.DefaultActionTrigger=d;f.DefaultActionTriggerContainer=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMAPrivateAttachment.bs",["fbt","ix","CometIcon.react","IconSource","MWText.react","MWXMAAttachmentActionTrigger.bs","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={publicBackground:{background:"sxey91ha","backdrop-filter":"obq035o6",height:"bih9ye1i",width:"mfclru0v",display:"alzwoclg","justify-content":"jcxyg2ei","align-items":"i85zmo3j","text-align":"hsphh064","flex-direction":"cqf1kptm"},privateBackground:{background:"ca50cjp1",height:"g4kts4ru","backdrop-filter":"o5lpyw6p",width:"sm1paabj",display:"alzwoclg","justify-content":"jcxyg2ei","align-items":"i85zmo3j","text-align":"hsphh064","flex-direction":"cqf1kptm"},FBIcon:{marginTop:"ihx95mk1",marginEnd:"tpvapw4o",marginBottom:"qjfq86k5",marginStart:"j0k7ypqs"},postText:{fontSize:"nfkogyam",fontWeight:"innypi6y",color:"r298wz5l"}};function m(a){a=a.attachment;var c=new(b("IconSource"))("FB",h("1423125"),32);a=a.defaultCtaType;if(a==="xma_montage_share")return k.jsx("div",{className:(j||(j=b("stylex")))(l.privateBackground),children:k.jsx("div",{className:j(l.FBIcon),children:k.jsx(b("CometIcon.react"),{icon:c})})});a=g._("__JHASH__k6ImVzA0WcG__JHASH__");return k.jsxs("div",{className:(j||(j=b("stylex")))(l.publicBackground),children:[k.jsx("div",{className:j(l.FBIcon),children:k.jsx(b("CometIcon.react"),{icon:c})}),k.jsx("span",{className:j(l.postText),children:a})]})}c={styles:l,make:m};var n={root:{display:"alzwoclg",justifyContent:"jcxyg2ei",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",minHeight:"lgak1ieh",marginTop:"ihx95mk1",marginEnd:"tpvapw4o",marginBottom:"qjfq86k5",marginStart:"j0k7ypqs",width:"mfclru0v",minWidth:"recbdly5",maxWidth:"gvxzyvdx"},description:{flexGrow:"cgu29s5g",display:"alzwoclg",flexDirection:"jl2a5g8c",marginEnd:"b7mnygb8"}};function o(a){var c=a.attachmentItem;a=a.isPressable;return k.jsx(b("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:c,isPressable:a,children:k.jsx("div",{className:(j||(j=b("stylex")))(n.description),children:k.jsx("div",{className:j(n.root),children:k.jsx(b("MWText.react"),{type:"meta4",children:"Facebook"})})})})}d={styles:n,make:o};function a(a){var b=a.attachment,c=a.attachmentItem;a=a.isPressable;var d=b.defaultCtaType;return d==="xma_montage_share"?k.jsx(k.Fragment,{children:k.jsx(m,{attachment:b})}):k.jsxs(k.Fragment,{children:[k.jsx(m,{attachment:b}),k.jsx(o,{attachmentItem:c,isPressable:a})]})}e={make:a};f.PrivatePreview=c;f.PrivateBody=d;f.PrivateXMAContent=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPXMAIconParser.bs",["ConstUriUtils","bs_caml_option","recoverableViolation"],function(a,b,c,d,e,f){"use strict";function g(a){if(a==="clear"||a==="staticWhite"||a==="white"||a==="white70"||a==="black"||a==="black50"||a==="black34"||a==="black20"||a==="black12"||a==="black6"||a==="black4"||a==="bluegrey75"||a==="bluegrey50"||a==="placeholder-icon")return"gray";else if(a==="red")return"cherry";else if(a==="green")return"lime";else if(a==="blue"||a==="purple"||a==="gray"||a==="background"||a==="scarlet"||a==="steel"||a==="coregreen"||a==="coral"||a==="sky")return"gray";else if(a==="honey")return"lemon";else if(a==="emerald")return"gray";else{b("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a===void 0)return;if(a.startsWith("https")||a.startsWith("blob"))return{TAG:1,_0:a};if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=b("ConstUriUtils").getUri(a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);var c=a.getQueryParam("icon");a=g(a.getQueryParam("circleColor"));return{TAG:0,_0:[c,a]}}f.parse=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXmaIconParser.bs",["ix","MWPXMAIconParser.bs","bs_caml_option","fbicon","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==="airplane")return b("bs_caml_option").some(b("fbicon")._(g("571771"),20));else if(a==="calendar")return b("bs_caml_option").some(b("fbicon")._(g("481118"),20));else if(a==="calendar-add")return b("bs_caml_option").some(b("fbicon")._(g("640913"),20));else if(a==="camcorder")return b("bs_caml_option").some(b("fbicon")._(g("493174"),20));else if(a==="camcorder-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096148"),20));else if(a==="camcorder-missed")return b("bs_caml_option").some(b("fbicon")._(g("662989"),20));else if(a==="camcorder-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096150"),20));else if(a==="camcorder-plus")return b("bs_caml_option").some(b("fbicon")._(g("662993"),20));else if(a==="checkmark-circle")return b("bs_caml_option").some(b("fbicon")._(g("498146"),20));else if(a==="currency-peso")return b("bs_caml_option").some(b("fbicon")._(g("1174630"),20));else if(a==="currency-pound")return b("bs_caml_option").some(b("fbicon")._(g("1174587"),20));else if(a==="currency-taka")return b("bs_caml_option").some(b("fbicon")._(g("182108"),20));else if(a==="currency-thai-baht")return b("bs_caml_option").some(b("fbicon")._(g("876716"),20));else if(a==="currency-usd")return b("bs_caml_option").some(b("fbicon")._(g("847056"),20));else if(a==="document-complete")return b("bs_caml_option").some(b("fbicon")._(g("728245"),20));else if(a==="phone")return b("bs_caml_option").some(b("fbicon")._(g("558161"),20));else if(a==="phone-incoming")return b("bs_caml_option").some(b("fbicon")._(g("1096151"),20));else if(a==="phone-missed")return b("bs_caml_option").some(b("fbicon")._(g("847457"),20));else if(a==="phone-outgoing")return b("bs_caml_option").some(b("fbicon")._(g("1096154"),20));else if(a==="tag")return b("bs_caml_option").some(b("fbicon")._(g("502473"),20));else if(a==="friend-generic")return b("bs_caml_option").some(b("fbicon")._(g("502671"),20));else if(a==="friend-generic-checkmark")return b("bs_caml_option").some(b("fbicon")._(g("538342"),20));else if(a==="group-block")return b("bs_caml_option").some(b("fbicon")._(g("714636"),20));else if(a==="question-circle")return b("bs_caml_option").some(b("fbicon")._(g("1604445"),20));else if(a==="cross-circle")return b("bs_caml_option").some(b("fbicon")._(g("1501526"),20));else if(a==="group")return b("bs_caml_option").some(b("fbicon")._(g("485091"),20));else{b("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=b("MWPXMAIconParser.bs").parse(a);if(a===void 0)return;if(a.TAG!==0)return{TAG:1,_0:a._0};a=a._0;var c=h(a[0]);if(c!==void 0)return{TAG:0,_0:{icon:b("bs_caml_option").valFromOption(c),color:a[1]}}}f.getIcon=h;f.parse=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMAAttachmentItem.bs",["BaseGlimmer.react","CometImageCover.react","CometObjectFitContainer.react","CometPlaceholder.react","CometSkittleIcon.react","FBID.bs","LSMediaUrl.bs","LSThreadCapabilityBitOffset.bs","MDSTextPairing.react","MWChatPollFacepile.bs","MWInboxRouteBuilder.bs","MWLSThreadDisplayContext.bs","MWPBaseXMAAttachmentItem.bs","MWPColorUtils.bs","MWPThreadCapabilitiesContext.bs","MWPThreadTheme.bs","MWPXMAIgProfile.react","MWText.react","MWTooltip.react","MWXMAAttachmentActionTrigger.bs","MWXMACtaRegistry.bs","MWXMAPrivateAttachment.bs","MWXmaIconParser.bs","RTWebLoggingSurfaceConvert.bs","ReQL.bs","ReQLSubscription.bs","TetraButton.react","bs_belt_Option","bs_caml_array","bs_caml_int64","bs_caml_option","bs_caml_splice_call","bs_curry","bs_int64","cr:3695","deferredLoadComponentForReason","gkx","qex","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){return a+0|0}function c(a){if(a<=5&&0<=a)return a-0|0}var j={appIcon:{width:"akh3l2rg",height:"eohcrkr5",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"},appAttr:{paddingTop:"d2hqwtrz",paddingEnd:"i5oewl5a",paddingBottom:"o9wcebwi",paddingStart:"nnzkd6d7",display:"alzwoclg",alignItems:"i85zmo3j",borderBottomStartRadius:"dtqh1a21",borderBottomEndRadius:"pdqhzjwd",lineHeight:"lmvsqxvg"},appText:{fontSize:"nfkogyam",marginStart:"bhi259hv",color:"pbevjfx6",wordBreak:"t7p7dqev"}};function k(a){a=a.attachment;var c=a.attributionAppIcon;a=a.attributionAppName;if(c!==void 0&&a!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(j.appAttr),children:[i.jsx("img",{src:c,className:h(j.appIcon)}),i.jsx("span",{className:h(j.appText),children:a})]});else return null}var l={radius:18,styles:j,make:k},m={root:{display:"alzwoclg",overflowX:"lq84ybu9",overflowY:"hf30pyar",height:"pytsy3co",width:"mfclru0v",position:"s8sjc6am"},glimmer:{height:"pytsy3co",width:"mfclru0v",position:"s8sjc6am"}};function n(a){return i.jsx("div",{className:(h||(h=b("stylex")))(m.root),children:i.jsx(b("BaseGlimmer.react"),{className:h(m.glimmer),index:0})})}var o={styles:m,make:n};function p(a){var c=a.attachmentItem;a=a.children;var d=b("bs_belt_Option").mapWithDefault(c.previewWidth,0,b("bs_caml_int64").to_int32);c=b("bs_belt_Option").mapWithDefault(c.previewHeight,0,b("bs_caml_int64").to_int32);d=d!==0?c!==0?d/c:0:0;c=c>250&&d<.8;return i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:c?.8:d,children:i.jsx(b("CometPlaceholder.react"),{children:a,fallback:i.jsx(n,{})})})}var q={make:p},r=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWXMAAttachmentItem.bs");function s(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function t(a){return i.createElement(b("deferredLoadComponentForReason")(r).make,a)}var u={makeProps:s,make:t},v={photo:{width:"mfclru0v",display:"alzwoclg",position:"om3e55n1"}};function w(a){var c=a.attachmentItem,d=a.cardWidth,e=a.isStandalone;a=a.previewUrl;var f=b("bs_belt_Option").mapWithDefault(c.previewWidth,0,b("bs_caml_int64").to_int32),g=b("bs_belt_Option").mapWithDefault(c.previewHeight,0,b("bs_caml_int64").to_int32),j=c.defaultCtaType,k,l=0;j==="xma_montage_share"?k=!0:l=1;l===1&&(k=b("bs_belt_Option").isNone(c.imageUrl)?e:f===g);j=f!==0?g!==0?f/g:0:0;l={height:(j===0?106:d/j).toString()+"px",width:d.toString()+"px"};if(a.length===0||a==="")return null;else if(k)return i.jsx("div",{className:(h||(h=b("stylex")))(v.photo),children:i.jsx("img",{src:a,alt:"",style:{aspectRatio:j,height:"auto",maxWidth:"100%",objectFit:"cover",flexGrow:"1"}})});else return i.jsx("div",{style:l,className:(h||(h=b("stylex")))(v.photo),children:i.jsx(b("CometImageCover.react"),{alt:"",src:a,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})})}var x={styles:v,make:w},y={root:{width:"mfclru0v",maxWidth:"gvxzyvdx",whiteSpace:"n3t5jt4f"},hscroll:{paddingStart:"nnzkd6d7",paddingEnd:"i5oewl5a"},withIcon:{paddingTop:"saacjlin",paddingBottom:"rat9ptwp"},description:{paddingTop:"pvreidsc"}};function z(a){var c=a.attachment,d=a.attachmentItem,e=a.title,f=a.subtitleText,g=a.isHscroll,j=a.headlineLineLimit,k=a.bodyLineLimit;a=a.getFaviconUrlXMA;a=b("bs_belt_Option").flatMap(b("bs_curry")._2(a,c,d),b("MWXmaIconParser.bs").parse);var l;if(e!==""){c=b("qex")._("1501");d=0;c==null||c!==13?d=1:l=i.jsx(b("MWText.react"),{type:"bodyLink4",children:e});d===1&&(l=i.jsx(b("MDSTextPairing.react"),{headline:e,level:4,headlineLineLimit:j}))}else l=null;if(f!==""){c=b("qex")._("1501");var m;d=0;c==null||c!==13?d=1:m=i.jsx(b("MWText.react"),{type:"meta4",children:f});d===1&&(m=i.jsx(b("MDSTextPairing.react"),{body:f,level:4,bodyLineLimit:k,bodyColor:"secondary"}));e=i.jsx("div",{className:(h||(h=b("stylex")))(y.description),children:m})}else e=null;return i.jsxs("div",{className:(h||(h=b("stylex")))(y.root,a===void 0?g?y.hscroll:!1:y.withIcon),children:[l,e]})}var A={styles:y,make:z},B={root:{marginEnd:"tpvapw4o",display:"alzwoclg",alignItems:"i85zmo3j",height:"pytsy3co"}};function C(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(B.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message",src:a._0,style:{height:"36px",width:"36px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(B.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var D={styles:B,make:C},E=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWXMAAttachmentItem.bs"),F={button:{flexBasis:"swa3at2b",flexGrow:"cgu29s5g",flexShrink:"i15ihif8",paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g"}};function G(a){var c=a.type_,d=a.title,e=a.ctaId;a=b("MWXMACtaRegistry.bs").useHook(void 0);var f=b("useReStore")(),g=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("attachment_ctas")),{hd:e,tl:0})},[f,JSON.stringify(e)]));i.useEffect(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].find(function(a){return a===c});a!==void 0&&E.onReady(function(a){return b("bs_curry")._1(a.logImpression,{surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})})},[]);var j=b("gkx")("1845815");if(!j&&(c==="xma_poll_details_button"||c==="xma_poll_details_card"))return null;if(g===void 0)return null;j=b("bs_curry")._1(a,g);var k;if(typeof j==="number")k=null;else switch(j.TAG|0){case 0:var l=j._1,m=j._0;k=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){b("MWXMAAttachmentActionTrigger.bs").logCtaClicked(g,2,l);return b("bs_curry")._1(m,void 0)}})});break;case 1:var n=j._1;k=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return b("MWXMAAttachmentActionTrigger.bs").logCtaClicked(g,2,n)},linkProps:{target:"_blank",url:j._0}})});break;case 2:a=j._0;var o=a.loggingDetails;a=a.threadKey;var p=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(a)});k=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("MWXMAAttachmentActionTrigger.bs").WithOpenChatTab.make,{threadKey:a,children:function(a){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(c){b("bs_curry")._2(a,p,c);return b("MWXMAAttachmentActionTrigger.bs").logCtaClicked(g,2,o)},linkProps:{preventLocalNavigation:!0,url:p}})}})});break;case 3:b("recoverableViolation")(j._0,j._1);k=null;break}return i.jsx("div",{className:(h||(h=b("stylex")))(F.button),children:k})}var aa={styles:F,make:G},H={root:{flexGrow:"cgu29s5g",display:"alzwoclg",flexDirection:"jl2a5g8c",marginEnd:"b7mnygb8",justifyContent:"jcxyg2ei"}};function I(a){var c=a.listItemsDescriptionText;a=a.headlineLineLimit;return i.jsx("div",{className:(h||(h=b("stylex")))(H.root),children:i.jsx(b("MDSTextPairing.react"),{headline:c,level:4,headlineLineLimit:a})})}var ba={styles:H,make:I},J={item:{marginTop:"ihx95mk1",paddingTop:"s1m0hq7j",paddingBottom:"rj2hsocd",borderTop:"l3tasr9r",borderBottom:"dll9zvnh"},titleText:{marginTop:"th51lws0",marginStart:"iec8yc8l"}},K={item:{marginTop:"ihx95mk1"},header:{display:"alzwoclg",justifyContent:"sl27f92c"},progressBar:{backgroundColor:"ednat9xy",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",height:"iaw62e1p",marginTop:"th51lws0",marginBottom:"qjfq86k5"},progressBarInner:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",height:"iaw62e1p"},facepile:{marginStart:"jbg88c62"}};function L(a){a=a.attachment;var c=b("MWPThreadTheme.bs").useHook(void 0),d=c.threadTheme.fallbackColor,e=b("MWLSThreadDisplayContext.bs").useHook(void 0);c=b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.listItemId1,a.listItemTitleText1,b("LSMediaUrl.bs").Attachment.listItemContactUrlList1(a),a.listItemProgressBarFilledPercentage1,a.listItemContactUrlExpirationTimestampList1,a.listItemContactUrlFallbackList1],[a.listItemId2,a.listItemTitleText2,b("LSMediaUrl.bs").Attachment.listItemContactUrlList2(a),a.listItemProgressBarFilledPercentage2,a.listItemContactUrlExpirationTimestampList2,a.listItemContactUrlFallbackList2],[a.listItemId3,a.listItemTitleText3,b("LSMediaUrl.bs").Attachment.listItemContactUrlList3(a),a.listItemProgressBarFilledPercentage3,a.listItemContactUrlExpirationTimestampList3,a.listItemContactUrlFallbackList3]].map(function(a){var c=a[0];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:a[1],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:a[3]}]})]);return i.jsx("ul",{children:c.map(function(a,c){var f=a.progressBarFilledPercentage;if(f!==void 0){var g=a.titleText;return i.jsxs("li",{className:(h||(h=b("stylex")))(K.item),children:[i.jsxs("div",{className:h(K.header),children:[g!==void 0?i.jsx(b("MWText.react"),{type:"headline4",numberOfLines:e==="Inbox"?3:1,children:g}):null,i.jsx("div",{className:h(K.facepile),children:i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{profile_picture_url:a.url,name:void 0}}),size:"small",gap:"negative",direction:"reversed",optionId:a.id})})]}),i.jsx("div",{className:h(K.progressBar),children:i.jsx("div",{className:h(K.progressBarInner),style:{backgroundColor:b("MWPColorUtils.bs").int64ToHex(d),width:b("bs_int64").to_string(f)+"%"}})})]},String(c))}g=a.titleText;return i.jsx("li",{className:(h||(h=b("stylex")))(J.item),children:i.jsxs("div",{children:[i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{profile_picture_url:a.url,name:void 0}}),size:"large",limit:9,contactWithBorder:!1,overflowStyle:"overlayLastPhoto",optionId:a.id}),g!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(J.titleText),children:i.jsx(b("MWText.react"),{color:"secondary",type:"body4",numberOfLines:2,children:g})}):null]})},String(c))})})}var ca={stylesDefault:J,stylesWithProgress:K,make:L},M={root:{marginBottom:"qjfq86k5"}};function N(a){var c=a.listItemsSecondaryDescriptionText;a=a.bodyLineLimit;return i.jsx("div",{className:(h||(h=b("stylex")))(M.root),children:i.jsx(b("MDSTextPairing.react"),{body:c,level:4,bodyLineLimit:a,bodyColor:"secondary"})})}var da={styles:M,make:N},O={root:{display:"alzwoclg",justifyContent:"jcxyg2ei",paddingTop:"pvreidsc",paddingBottom:"r5g9zsuq"}};function P(a){var c=a.value;a=a.bodyLineLimit;return i.jsx("div",{className:(h||(h=b("stylex")))(O.root),children:i.jsx(b("MDSTextPairing.react"),{body:c,level:4,textAlign:"center",bodyLineLimit:a,bodyColor:"secondary"})})}var ea={styles:O,make:P},Q={root:{display:"alzwoclg",justifyContent:"jcxyg2ei",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",minHeight:"lgak1ieh",marginTop:"ihx95mk1",marginEnd:"tpvapw4o",marginBottom:"qjfq86k5",marginStart:"j0k7ypqs"},rootWithHeaderAndNoMedia:{marginTop:"m8h3af8h"},description:{flexGrow:"cgu29s5g",display:"alzwoclg",flexDirection:"jl2a5g8c",marginEnd:"b7mnygb8"},hasFavicon:{paddingStart:"nch0832m",paddingEnd:"oxkhqvkx"},buttonsWrapper:{marginTop:"ihx95mk1",justifySelf:"p73q5ym4"},buttonsOnly:{marginTop:"m8h3af8h"},facepile:{display:"alzwoclg",justifyContent:"jcxyg2ei",paddingTop:"pvreidsc",paddingBottom:"n68fow1o"}};function R(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll,f=a.isPressable,g=a.isStandalone,j=a.headlineLineLimit,k=a.bodyLineLimit;a=a.getFaviconUrlXMA;var l=b("bs_belt_Option").flatMap(b("bs_curry")._2(a,c,d),b("MWXmaIconParser.bs").parse),m=b("bs_belt_Option").getWithDefault(d.titleText,"")===""&&b("bs_belt_Option").getWithDefault(d.subtitleText,"")===""&&l===void 0,n=d.titleText;n=b("bs_belt_Option").getWithDefault(n!==void 0||!g?n:c.titleText,"");var o=d.subtitleText;o=b("bs_belt_Option").getWithDefault(o!==void 0||!g?o:c.subtitleText,"");var p,q=0;n===""&&o===""?p=[]:q=1;if(q===1){q=i.jsxs("div",{className:(h||(h=b("stylex")))(Q.description,l===void 0?!1:Q.hasFavicon),children:[i.jsx(C,{icon:l}),i.jsx(z,{attachment:c,attachmentItem:d,title:n,subtitleText:o,isHscroll:e,isStandalone:g,headlineLineLimit:j,bodyLineLimit:k,getFaviconUrlXMA:a})]});p=[i.jsx(b("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:d,isPressable:f,children:q})]}l=c.listItemsDescriptionText;n=b("gkx")("6448");o=c.listItemsDescriptionSubtitleText;e=b("LSMediaUrl.bs").Attachment.avatarViewUrlList(c);g=c.listItemId1;a=c.listItemsSecondaryDescriptionText;f=d.cta1Type;q=d.cta1Title;var r=d.attachmentCta1Id;if(f!==void 0)if(q!==void 0)if(r!==void 0){var s=c.messageId,t=c.threadKey,u=d.cta2Type,v=d.cta2Title,w=d.attachmentCta2Id;if(u!==void 0&&v!==void 0&&w!==void 0){var x=d.cta3Type,y=d.cta3Title,A=d.attachmentCta3Id;u=i.jsxs(i.Fragment,{children:[i.jsx(G,{type_:u,title:v,ctaId:w,threadKey:t,messageId:s}),x!==void 0&&y!==void 0&&A!==void 0?i.jsx(G,{type_:x,title:y,ctaId:A,threadKey:t,messageId:s}):null]})}else u=null;v=[i.jsx("div",{className:(h||(h=b("stylex")))(Q.buttonsWrapper,m?Q.buttonsOnly:!1),children:i.jsxs(i.Fragment,{children:[i.jsx(G,{type_:f,title:q,ctaId:r,threadKey:t,messageId:s}),u]})})]}else v=[];else v=[];else v=[];w=[p,l!==void 0?[i.jsx(I,{listItemsDescriptionText:l,headlineLineLimit:j})]:[],n?o!==void 0?[i.jsx(P,{value:o,bodyLineLimit:k})]:[]:[],b("cr:3695")==null?[]:e.length!==0?[i.jsx(b("cr:3695").make,{urls:e,count:c.avatarCount,ctaId:d.attachmentCta1Id})]:[],g!==void 0?[i.jsx(L,{attachment:c})]:[],a!==void 0?[i.jsx(N,{listItemsSecondaryDescriptionText:a,bodyLineLimit:k})]:[],v].reduce(function(a,b){return a.concat(b)},[]);x=b("LSMediaUrl.bs").Attachment.previewUrl(c)!==void 0||b("LSMediaUrl.bs").AttachmentItem.previewUrl(d)!==void 0||b("LSMediaUrl.bs").AttachmentItem.playableUrl(d)!==void 0;if(w.length===0)return null;else return i.jsx("div",{className:(h||(h=b("stylex")))(Q.root,!x&&c.headerTitle!==void 0?Q.rootWithHeaderAndNoMedia:!1),children:w.map(function(a,b){return i.jsx(i.Fragment,{children:a},String(b))})})}var fa={styles:Q,make:R},S={root:{marginEnd:"tpvapw4o",display:"alzwoclg",alignItems:"i85zmo3j",height:"pytsy3co"}};function T(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(S.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message's header",src:a._0,style:{height:"32px",width:"32px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(S.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var ga={styles:S,make:T},U={root:{alignItems:"i85zmo3j",display:"alzwoclg",marginTop:"ihx95mk1",marginEnd:"tpvapw4o",marginBottom:"qjfq86k5",marginStart:"j0k7ypqs"}};function V(a){var c=a.attachment;a=a.getHeaderUrlXMA;var d=c.headerTitle;if(d===void 0)return null;a=b("bs_belt_Option").flatMap(b("bs_curry")._1(a,c),b("MWXmaIconParser.bs").parse);return i.jsxs("div",{className:(h||(h=b("stylex")))(U.root),children:[i.jsx(T,{icon:a}),i.jsx(b("MWText.react"),{type:"bodyLink3",children:d})]})}var ha={styles:U,make:V};function W(a){var c=a.attachment,d=a.attachmentItem,e=a.cardWidth,f=a.isStandalone,g=a.getPreviewUrlXMA,h=a.getPlayableUrl;a=a.isPressable;var j=b("bs_belt_Option").getWithDefault(c.shouldAutoplayVideo,!1),l=b("MWLSThreadDisplayContext.bs").useHook(void 0);l=l==="Inbox";l=b("MWPBaseXMAAttachmentItem.bs").usePreview(g,l,c,d);g=b("bs_curry")._2(g,c,d);h=b("bs_curry")._2(h,c,d);if(typeof l==="number")return null;if(l.TAG===0){if(h===void 0)return null;l=b("bs_belt_Option").mapWithDefault(d.previewWidth,0,b("bs_caml_int64").to_int32);var m=b("bs_belt_Option").mapWithDefault(d.previewHeight,0,b("bs_caml_int64").to_int32);return i.jsxs(b("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:d,isPressable:a,children:[i.jsx(p,{attachment:c,attachmentItem:d,children:i.jsx(t,s(void 0,b("FBID.bs").ofStringExn(d.attachmentFbid),void 0,void 0,h,m,l,!1,j?"none":"mwchat",void 0))}),j?i.jsx(k,{attachment:c}):null]})}if(g!==void 0)m=g;else{if(h===void 0)return null;m=h}return i.jsx(b("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:d,isPressable:a,children:i.jsx(w,{attachmentItem:d,cardWidth:e,isStandalone:f,previewUrl:m})})}var ia={make:W},X={root:{display:"alzwoclg",flexDirection:"cqf1kptm",height:"pytsy3co"},withBorder:{borderTop:"r8vnayig",borderEnd:"qp72b3h3",borderBottom:"a05blw6y",borderStart:"jnmqv028"}},Y=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),Z=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function $(a){var b=a.attachment,c=a.attachmentItem,d=a.isHscroll,e=a.cardWidth,f=a.isStandalone,g=a.headlineLineLimit,h=a.bodyLineLimit,j=a.getHeaderUrlXMA,k=a.getFaviconUrlXMA,l=a.getPreviewUrlXMA,m=a.getPlayableUrl;a=a.isPressable;var n=b.defaultCtaType;return n==="xma_montage_share"?i.jsx(i.Fragment,{children:i.jsx(W,{attachment:b,attachmentItem:c,cardWidth:e,isStandalone:f,getPreviewUrlXMA:l,getPlayableUrl:m,isPressable:a})}):i.jsxs(i.Fragment,{children:[i.jsx(V,{attachment:b,getHeaderUrlXMA:j}),i.jsx(W,{attachment:b,attachmentItem:c,cardWidth:e,isStandalone:f,getPreviewUrlXMA:l,getPlayableUrl:m,isPressable:a}),i.jsx(R,{attachment:b,attachmentItem:c,isHscroll:d,isPressable:a,isStandalone:f,headlineLineLimit:g,bodyLineLimit:h,getPreviewUrlXMA:l,getFaviconUrlXMA:k})]})}var ja={make:$};function d(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll,f=a.isStandalone,g=a.cardWidth,j=a.headlineLineLimit,k=a.bodyLineLimit,l=a.getPreviewUrlXMA,m=a.getHeaderUrlXMA,n=a.getFaviconUrlXMA;a=a.getPlayableUrl;g=g!==void 0?g:300;var o=b("MWPThreadCapabilitiesContext.bs").useHook(void 0),p=b("bs_curry")._1(o,b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall);o=b("bs_curry")._1(o,b("LSThreadCapabilityBitOffset.bs").rtcVideoCall);var q=c.defaultCtaType;p=q!==void 0?Z.has(q)&&!p||Y.has(q)&&!o:!1;q=b("bs_belt_Option").getWithDefault(c.shouldAutoplayVideo,!1);o=q&&c.attributionAppIcon!==void 0&&c.attributionAppName!==void 0;q=(h||(h=b("stylex")))(X.root,o?X.withBorder:!1);o=b("bs_belt_Option").isSome(d.attachmentCta1Id);var r=c.gatingType;r=r!==void 0?r===4..toString():!1;return i.jsx(b("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:d,isPressable:!o&&!p,children:i.jsx("div",{className:q,"data-testid":"mwxma_attachment_item",children:r?i.jsx(b("MWXMAPrivateAttachment.bs").PrivateXMAContent.make,{attachment:c,attachmentItem:d,isPressable:o&&!p}):i.jsx($,{attachment:c,attachmentItem:d,isHscroll:e,cardWidth:g,isStandalone:f,headlineLineLimit:j,bodyLineLimit:k,getHeaderUrlXMA:m,getFaviconUrlXMA:n,getPreviewUrlXMA:l,getPlayableUrl:a,isPressable:o&&!p})})})}function e(a){var c=a.attachment,d=a.attachmentItems;a=a.getHeaderUrlXMA;return i.jsx(b("MWXMAAttachmentActionTrigger.bs").DefaultActionTriggerContainer.make,{attachmentItem:b("bs_caml_array").get(d,0),isPressable:!0,children:i.jsxs("div",{className:(h||(h=b("stylex")))(X.root),"data-testid":"mwxma_attachment_item",children:[i.jsx(V,{attachment:c,getHeaderUrlXMA:a}),i.jsx(b("MWPXMAIgProfile.react"),{attachmentItems:d})]})})}e={make:e};var ka=b("cr:3695");d=d;f.armadilloContentExtendedContentMessageOverlayiconglyphToJs=a;f.armadilloContentExtendedContentMessageOverlayiconglyphFromJs=c;f.$MWXMAEventFacepiles$requireCond=b("cr:3695");f.mMWXMAEventFacepiles=ka;f.Attribution=l;f.VideoLoader=o;f.VideoContainer=q;f.$MWChatVideoPlayer$DeferredForDisplay=r;f.MWChatVideoPlayerLazy=u;f.$$Image=x;f.MainText=A;f.Icon=D;f.$ZenonUserActionLoggerCommon$Deferred=E;f.CtaButton=aa;f.ListItemsDescriptionText=ba;f.ListItems=ca;f.ListItemsSecondaryDescriptionText=da;f.ListItemsDescriptionSubtitleText=ea;f.Body=fa;f.HeaderIcon=ga;f.Header=ha;f.DefaultPreview=ia;f.styles=X;f.videoXmaRtcTypes=Y;f.audioXmaRtcTypes=Z;f.DefaultXMAContent=ja;f.make=d;f.IgProfile=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("ReactStyle.bs",["ReactDOMStyle.bs"],function(a,b,c,d,e,f){"use strict";a=b("ReactDOMStyle.bs").unsafeAddProp;f.unsafeAddProp=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMAAttachment.bs",["fbt","CometHScroll.react","CurrentEnvironment","LSMediaUrl.bs","MNLSXMALayoutType.bs","MWLSThreadDisplayContext.bs","MWPBaseXMAAttachmentItem.bs","MWXMAAttachmentItem.bs","ReQL.bs","ReQLSubscription.bs","ReactStyle.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_int64","qex","react","recoverableViolation","stylex","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){return{attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,threadKey:a.threadKey,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,titleText:a.titleText,subtitleText:a.subtitleText,playableUrl:a.playableUrl,playableUrlFallback:a.playableUrlFallback,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlMimeType:a.playableUrlMimeType,dashManifest:a.dashManifest,previewUrl:a.previewUrl,previewUrlFallback:a.previewUrlFallback,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,previewHeight:a.previewHeight,imageUrl:a.imageUrl,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultButtonType:void 0,defaultActionUrl:void 0,defaultActionEnableExtensions:!1,defaultWebviewHeightRatio:void 0,attachmentCta1Id:a.attachmentCta1Id,cta1Title:a.cta1Title,cta1Type:a.cta1Type,attachmentCta2Id:a.attachmentCta2Id,cta2Title:a.cta2Title,cta2Type:a.cta2Type,attachmentCta3Id:a.attachmentCta3Id,cta3Title:a.cta3Title,cta3Type:a.cta3Type,faviconUrl:a.faviconUrl,faviconUrlFallback:a.faviconUrlFallback,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,previewUrlLarge:a.previewUrlLarge}}var l={root:{maxWidth:"irjsnxci",width:"mfclru0v"},rootForHScrollInChatTab:{maxWidth:"oxbwafd7"},card:{verticalAlign:"bq6c9xl4",overflowX:"lq84ybu9",overflowY:"hf30pyar",height:"pytsy3co",borderTopStartRadius:"rt34pxt2",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd",borderBottomStartRadius:"dtqh1a21"},card_opaque:{backgroundColor:"kgnml90y"},incoming:{borderTopStartRadius:"cmg2g80i",borderBottomStartRadius:"mivixfar"},connect_top:{borderTopStartRadius:"cmg2g80i",borderTopEndRadius:"lk0hwhjd"},incoming_connect_bot:{borderBottomStartRadius:"gffp4m6x"},outgoing_connect_bot:{borderBottomEndRadius:"j8nb7h05"},centered:{marginTop:"q6ul9yy4",marginEnd:"pry8b2m5",marginBottom:"i7rjuzed",marginStart:"p8zq7ayg"},hasText:{borderTopStartRadius:"cmg2g80i",borderTopEndRadius:"lk0hwhjd"}},m=284,n={flexibleContainer:{"@media (max-width: 1439px)":{maxWidth:"a5at39jd"},"@media (min-width: 1440px)":{maxWidth:"b5j7p2wt"}},scroller:{position:"om3e55n1",start:"liomvssz",width:"ck3rf5rr",marginBottom:"lio2d5kv"},scrollerThinTab:{width:"mfclru0v"},cardWrapper:{backgroundColor:"oab4agdp",height:"pytsy3co",width:"mfclru0v"},spacer:{marginTop:"lydb6one"}};function o(a){var c=a.items,d=a.hasText,e=a.cardWidth;a=a.fullWidthContainer;a=a!==void 0?a:!1;var f=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:f,className:(i||(i=b("stylex")))(a?!1:n.flexibleContainer,b("qex")._("1499")===!0?n.scrollerThinTab:!1),children:j.jsx(b("CometHScroll.react").Container,{cardWidth:e!==void 0?{type:"fixed",width:e}:{type:"responsive",minWidth:m},accessibilityLabel:g._("__JHASH__SuZoPpcYQum__JHASH__"),children:c.map(function(a,c){var e=c===0;return j.jsx(b("CometHScroll.react").Child,{children:j.jsx("div",{className:(i||(i=b("stylex")))(n.cardWrapper),children:j.jsx("div",{className:i(l.card,l.card_opaque,e&&d?l.hasText:!1,d?n.spacer:!1),children:a})}),expanding:!0},c.toString())}),gap:8})})}c={cardMinWidth:m,styles:n,make:o};function p(a){var c=a.outgoing,d=a.connectTop,e=a.connectBottom,f=a.children,g=a.centered;a=a.isBorderless;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var h=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:h,className:(i||(i=b("stylex")))(l.card,a?!1:l.card_opaque,d?l.connect_top:!1,e?c?l.outgoing_connect_bot:l.incoming_connect_bot:!1,g?l.centered:!1),children:f})}d={make:p};function q(a,c){var d=b("MWLSThreadDisplayContext.bs").useHook(void 0);d=d==="Inbox";d=b("MWPBaseXMAAttachmentItem.bs").usePreview(void 0,d,a,c);if(typeof d==="number")return;else return d._0}function r(a){return b("LSMediaUrl.bs").Attachment.headerImageUrl(a)}function s(a,c){a=b("LSMediaUrl.bs").Attachment.faviconUrl(a);c=b("LSMediaUrl.bs").AttachmentItem.faviconUrl(c);if(a!==void 0)return a;else if(c!==void 0)return c;else return""}function t(a,c){var d=b("MWLSThreadDisplayContext.bs").useHook(void 0);d=d==="Inbox";d=b("MWPBaseXMAAttachmentItem.bs").usePreview(void 0,d,a,c);if(typeof d==="number")return;else return d._0}function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,h=a.xstyle,m=a.cardWidth,n=a.fullWidthContainer,u=a.headlineLineLimit,v=a.bodyLineLimit,w=a.getPreviewUrlXMA,x=a.getHeaderUrlXMA,y=a.getFaviconUrlXMA;a=a.getPlayableUrl;f=f!==void 0?f:!1;n=n!==void 0?n:!1;var z=u!==void 0?u:3,A=v!==void 0?v:3,B=w!==void 0?w:q,C=x!==void 0?x:r,D=y!==void 0?y:s,E=a!==void 0?a:t,F=b("useReStore")();u=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(F.table("attachment_items")),{hd:c.attachmentFbid,tl:0})},[F,JSON.stringify(c.attachmentFbid)]));var G=j.useMemo(function(){var a=c.xmaLayoutType;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").hscroll);else return!1},[c]);v=j.useMemo(function(){var a=c.xmaLayoutType;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").xcenter);else return!1},[c]);w=b("MWLSThreadDisplayContext.bs").useHook(void 0);x=c.xmaLayoutType;var H;y=0;if(x!==void 0)if(b("bs_caml").i64_eq(x,b("MNLSXMALayoutType.bs").hscroll))H=j.jsx(o,{items:u.map(function(a,d){a={attachment:c,attachmentItem:a,isHscroll:G,isStandalone:!1,headlineLineLimit:z,bodyLineLimit:A,getPreviewUrlXMA:B,getHeaderUrlXMA:C,getFaviconUrlXMA:D,getPlayableUrl:E};m!==void 0&&(a.cardWidth=b("bs_caml_option").valFromOption(m));return j.jsx(b("MWXMAAttachmentItem.bs").make,a,d.toString())}),hasText:f,cardWidth:m,fullWidthContainer:n});else if(b("bs_caml").i64_eq(x,b("MNLSXMALayoutType.bs").single)&&u.length===6)H=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").IgProfile.make,{attachment:c,attachmentItems:u,getHeaderUrlXMA:C}),centered:!0});else if(u.length!==1)y=1;else{a=u[0];if(b("bs_caml").i64_eq(x,b("MNLSXMALayoutType.bs").xcenter)){f={attachment:c,attachmentItem:a,isHscroll:G,isStandalone:!0,headlineLineLimit:z,bodyLineLimit:A,getPreviewUrlXMA:B,getHeaderUrlXMA:C,getFaviconUrlXMA:D,getPlayableUrl:E};m!==void 0&&(f.cardWidth=b("bs_caml_option").valFromOption(m));H=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,f),centered:!0})}else y=1}else y=1;if(y===1){n=u.length;if(n!==1)if(n!==0){x="n Attachment Items: "+String(u.length);a="Layout: "+b("bs_belt_Option").mapWithDefault(c.xmaLayoutType,"na",b("bs_int64").to_string);f="Attachment Type: "+b("bs_int64").to_string(c.attachmentType);y=[x,a,f].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+y,"messenger_privacy_web");H=null}else{n={attachment:c,attachmentItem:k(c),isHscroll:G,isStandalone:!0,headlineLineLimit:z,bodyLineLimit:A,getPreviewUrlXMA:B,getHeaderUrlXMA:C,getFaviconUrlXMA:D,getPlayableUrl:E};m!==void 0&&(n.cardWidth=b("bs_caml_option").valFromOption(m));H=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,n),isBorderless:b("bs_belt_Option").getWithDefault(c.isBorderless,!1)})}else{x=u[0];a={attachment:c,attachmentItem:x,isHscroll:G,isStandalone:!0,headlineLineLimit:z,bodyLineLimit:A,getPreviewUrlXMA:B,getHeaderUrlXMA:C,getFaviconUrlXMA:D,getPlayableUrl:E};m!==void 0&&(a.cardWidth=b("bs_caml_option").valFromOption(m));H=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,a)})}}return j.jsx("div",{className:(i||(i=b("stylex")))(G?w==="ChatTab"?l.rootForHScrollInChatTab:!1:v?!1:l.root,b("bs_belt_Option").getWithDefault(h,!1)),children:H})}e=a;f.HorizontalLayout=c;f.VerticalLayout=d;f.defaultGetPreviewUrlXMA=q;f.defaultGetHeaderUrlXMA=r;f.defaultGetFaviconUrlXMA=s;f.defaultGetPlayableUrl=t;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageListAttachmentContainer.bs",["CometErrorBoundary.re","MWChatAttachmentMediaPreview.bs","MWChatEphemeralButton.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachment.bs","MWPMessageListAttachment.bs","MWPSolidMessageBubble.bs","MWV2ChatBubble.bs","MWV2ChatFileCommon.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.bs","MWXMAAttachment.bs","RavenMessagingState.bs","bs_caml","bs_caml_option","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={file:{paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m"}};function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,j=a.xstyle;a=a.hasEmphasisRing;var k=f!==void 0?f:!1;f=a!==void 0?a:!1;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var l=a==="ChatTab"?180:void 0;a={message:c,connectTop:d,connectBottom:e,outgoing:g,renderFileAttachment:function(a){return h.jsx(b("MWPSolidMessageBubble.bs").make,{children:h.jsx(b("MWV2ChatFileCommon.bs").make,{attachment:a}),style:{backgroundColor:"var(--comment-background)"},connectTop:d,connectBottom:e,outgoing:g,xstyle:i.file})},renderImageAttachment:function(e,a,d){return h.jsx(b("MWMessageListAttachment.bs").$$Image.make,{message:c,attachment:e,connectTop:a,connectBottom:d,outgoing:g})},renderUnsupportedAttachment:function(a){return h.jsx(b("MWPSolidMessageBubble.bs").make,{children:h.jsx(b("MWV2UnsupportedAttachment.bs").make,{attachment:a}),style:{backgroundColor:"var(--comment-background)"},connectTop:d,connectBottom:e,outgoing:g})},renderVideoAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").Video.make,{attachment:a,message:c,connectTop:d,outgoing:g})},renderAudioAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").$$Audio.make,{attachment:a,outgoing:g})},renderStickerAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").Sticker.make,{attachment:a})},renderImageGrid:function(a){return h.jsx(b("MWV2ChatImagesGrid.bs").make,{attachments:a})},renderXMAAttachment:function(a){a={attachment:a,connectTop:d,connectBottom:e,hasText:k,outgoing:g};j!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(j));l!==void 0&&(a.cardWidth=l);return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){a={connectTop:d,connectBottom:e};j!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(j));return h.jsx(b("MWMessageListAttachment.bs").$$Error.make,a)},children:h.jsx(b("MWXMAAttachment.bs").make,a)})},renderEphemeralMediaAttachment:function(a){var c=a.ephemeralMediaState;if(c!==void 0)if(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").permanent))return h.jsx(b("MWChatAttachmentMediaPreview.bs").make,{attachment:a});else return h.jsx(b("MWChatEphemeralButton.bs").make,{attachment:a,connectTop:d,connectBottom:e,outgoing:g});else return null}};f=f?function(a,c){return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:c,shouldConnectTop:d,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:a,isOutgoing:g})}:void 0;f!==void 0&&(a.renderEmphasisRing=b("bs_caml_option").valFromOption(f));return h.jsx(b("MWPMessageListAttachment.bs").make,a)}c=h.memo(a);f.styles=i;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatReactionsTooltip.bs",["fbt","FBLogger","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSTransaction.bs","LSVerifyContactRowExists","Promise","ReQL.bs","ReQLSubscription.bs","bs_int64","promiseDone","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.reactions,d=a.threadKey,e=a.messageId,f=b("useReStore")(),h=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).leftJoin(a.getKeyRange(a.fromTableAscending(f.table("reactions")),{hd:d,tl:{hd:e,tl:0}}),a.fromTableAscending(f.table("contacts")))},[JSON.stringify(d),f,e]));i.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(f,function(a){return b("Promise").all(h.map(function(c){c=c[1];if(c!==void 0)return b("LSVerifyContactRowExists")(c.id,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(a));else return b("Promise").resolve(void 0)}))},"readWrite"),void 0,void 0)},[f]);var j=new Map(h.map(function(a){var c=a[1];return[b("bs_int64").to_string(a[0].actorId),c!==void 0?c.name:(b("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip"),g._("__JHASH__AaE4hJExM0x__JHASH__"))]}));a=i.useMemo(function(){var a=c.map(function(a){a=j.get(b("bs_int64").to_string(a.actorId));if(a==null)return"";else return a}).filter(function(a){return a!==""}),d=a.length;a=a.slice(0,9);if(d>9){d=d-9|0;a.push(g._("__JHASH__KVtJcih6CQz__JHASH__",[g._plural(d),g._param("count",String(d))]))}return a},[c,h]);a=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}c=9;d=a;f.maxExplicitNames=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageReactionsContainer.bs",["MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWTooltip.react","MWV2ChatReactionsTooltip.bs","bs_caml_array","bs_curry","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emojiRow:{paddingTop:"sf3txhl0",paddingEnd:"e7m00etv",paddingBottom:"tr46kb4q",paddingStart:"h4fuj9y9",textAlign:"tc5ow3dt",backgroundColor:"oab4agdp",borderTopStartRadius:"pdk0kjlo",borderTopEndRadius:"kbmua9a3",borderBottomEndRadius:"f3lj61do",borderBottomStartRadius:"r5a47i9s",boxShadow:"s8c47q4k",display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei"},emoji:{alignItems:"i85zmo3j",backgroundColor:"oab4agdp",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",lineHeight:"lisst02g",cursor:"fsf7x5fv"},emojiMargin:{marginEnd:"ctgv7vl3"},emojiNum:{width:"kes50e98",textAlign:"hsphh064",fontSize:"hg9jxets",lineHeight:"lisst02g",color:"rtxb060y"},scaleHeartEmoji:{transform:"kt66nceo"}};function a(a){var c=a.count,d=a.emojis,e=a.messageId,f=a.reactions;a=a.threadKey;var g=c>1,k=d.map(function(a,c){var e=g||c!==(d.length-1|0),f=b("bs_curry")._1(b("MWChatReactionsUtils.bs").isHeart,b("bs_caml_array").get(a,0));return i.jsx("div",{className:(h||(h=b("stylex")))(j.emoji,e?j.emojiMargin:!1),children:i.jsx("div",{className:h(f?j.scaleHeartEmoji:!1),children:i.jsx(b("MWChatReactionEmoji.bs").make,{emoji:a,size:16,testid:"messenger_reaction_emoji_"+b("bs_caml_array").get(a,0)})})},String(c))});return i.jsx(b("MWTooltip.react"),{tooltip:i.jsx(b("MWV2ChatReactionsTooltip.bs").make,{reactions:f,threadKey:a,messageId:e}),align:"middle",position:"above",children:i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.emojiRow),children:[k,g?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.emojiNum),children:String(c)}):null]})})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSReplySvgIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageParsingUtils.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={titleContainer:{display:"alzwoclg",alignItems:"i85zmo3j",marginBottom:"s79yelyc"},text:{paddingStart:"f1iqohp5",color:"jlyy7hdl",fontSize:"glosn74e"}};function k(a){a=a.text;if(a!==void 0)return a!=="";else return!1}function l(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function m(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function n(a){return b("bs_belt_Option").mapWithDefault(a.text,!1,function(a){return a.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function o(a){if(a.isAdminMessage||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").tombstone,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").sticker,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").audioClip,a.displayedContentTypes)||b("LSBitFlag.bs").has(b("LSMessageContentType.bs").storyReply,a.displayedContentTypes))return!0;else return n(a)}function p(a,c){if(c===void 0)return!0;var d=Math.abs(b("bs_caml_int64").to_float(a.timestampMs)-b("bs_caml_int64").to_float(c.timestampMs))>b("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=m(a),f=b("bs_int64").compare(a.senderId,c.senderId)===0;if(c.isUnsent||a.isUnsent||l(a)||!f||d||e||o(a))return!0;else return o(c)}function q(a,b){if(b!==void 0&&!p(a,b))return!1;else return!0}function r(a,b){if(b!==void 0&&!p(b,a))return!1;else return!0}function a(a,b,c){if(c==="below")if(k(a))return!0;else return!q(a,b);else return!1}function c(a,b,c){if(c==="below")return!r(a,b);else if(r(a,b))return!1;else return k(a)}e={shouldConnectTop:a,shouldConnectBottom:c};function d(a){var c=a.replySourceTypeV2,d=c!==void 0?b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").story)?i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"}):b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(c,b("LSMessageReplySourceTypeV2.bs").fbStoryShare)?i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}):null:null;return b("bs_belt_Option").map(a.replySnippet,function(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.titleContainer),children:[d,i.jsx("div",{className:h(j.text),children:a})]})})}f.styles=j;f.hasText=k;f.isReplyToSomething=l;f.isForwarded=m;f.isLongText=n;f.shouldBeStandalone=o;f.isInDifferentGroup=p;f.isStartOfGroup=q;f.isEndOfGroup=r;f.MessageWithAttachments=e;f.getGroupTitleForReply=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","bs_curry","cr:385","gkx"],function(a,b,c,d,e,f){"use strict";var g=/^[ \r\n\s]*$/;function a(a){if(a===void 0)return!1;var c=b("cr:385")==null?a:b("bs_curry")._1(b("cr:385").unvault,a);a=b("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});var d=b("gkx")("1839834")?b("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(d);if(a.length===0)return!1;d=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=d.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return g.test(b)===!1});d=e.contents!==c.length&&!g.test(c.substring(f.contents));if(a)return!1;else return!d}f.utf16RegexSpaces=g;f.$MAWVault$requireCond=b("cr:385");f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPBaseMessage.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSThreadCapabilityBitOffset.bs","MWPMessageHasAttachment.bs","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWPThreadCapabilitiesContext.bs","MWV2MessageIsEmojiOnly.bs","bs_caml_option","bs_curry","cr:3890","gkx","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{alignItems:"hael596l",display:"alzwoclg",flexDirection:"cqf1kptm",maxWidth:"gvxzyvdx",position:"om3e55n1"},outgoing:{alignItems:"gldv74r8"},vr:{backgroundColor:"lg77cbj3",height:"mdj0cuyo",width:"mfclru0v"},row_container:{display:"alzwoclg",width:"mfclru0v"},elevate:{position:"om3e55n1",zIndex:"b0ur3jhr"}};function k(a){if(b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes))return!0;else return b("MWV2MessageIsEmojiOnly.bs").make(a.text)}var l=b("cr:3890")==null?void 0:b("bs_caml_option").some(b("cr:3890"));function m(a){return i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})}c={make:m};function n(a){var c=a.message,d=a.isMessagePinned,e=a.isNextMessagePinned,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,k=a.isEmojiOnly,l=a.renderEmoji,n=a.renderMessageBubble,o=a.renderAttachment,p=a.outgoing,q=a.prevMessage,r=a.nextMessage,s=a.attachmentRenderPosition;a=a.shouldRenderMessageContent;var t=b("MWPThreadCapabilitiesContext.bs").useHook(void 0);t=b("gkx")("1886144")&&b("bs_curry")._1(t,b("LSThreadCapabilityBitOffset.bs").disableLinks);var u=b("MWPMessageIsReply.bs").make(c),v=b("MWPMessageParsingUtils.bs").hasText(c),w=b("MWPMessageHasXMA.bs").make(c),x=w&&s==="below";f=s==="below"?!u&&!f&&!d:!1;d=!g&&!e;if(a){g=c.text;e=g!==void 0?k?u?i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:b("bs_curry")._1(l,c)}):u?null:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[f?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:b("bs_curry")._1(l,c)})]}):g!==""?i.jsxs(i.Fragment,{children:[f||s==="above"?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.row_container),children:[p?i.jsx(m,{}):null,b("bs_curry")._5(n,c,f,d,x,p),p?null:i.jsx(m,{})]})]}):null:null}else e=null;if(b("MWPMessageHasAttachment.bs").make(c)&&!(t&&w)){a=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(c,q,s);k=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(c,r,s);u=b("bs_curry")._7(o,c,q,r,a,k,p,v)}else u=null;return i.jsxs(i.Fragment,{children:[s==="above"?u:null,e,s==="below"?u:null]})}d={make:n};function a(a){var c=a.message,d=a.reactions,e=a.isFirstMessageInGroup,f=a.isLastMessageInGroup,g=a.outgoing,o=a.renderAttachment,p=a.renderMessageFooter,q=a.renderUnsentMessage,r=a.renderEmoji,s=a.renderMessageBubble,t=a.renderMessageContainer,u=a.prevMessage,v=a.nextMessage,w=a.attachmentRenderPosition;a=a.shouldRenderMessageContent;w=w!==void 0?w:"below";a=a!==void 0?a:!0;if(c.isUnsent)if(q!==void 0)return i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:b("bs_curry")._2(q,c,g)});else return null;q=k(c);e=b("cr:3890")==null?i.jsx(n,{message:c,isMessagePinned:!1,isNextMessagePinned:!1,isFirstMessageInGroup:e,isLastMessageInGroup:f,isEmojiOnly:q,renderEmoji:r,renderMessageBubble:s,renderAttachment:o,outgoing:g,prevMessage:u,nextMessage:v,attachmentRenderPosition:w,shouldRenderMessageContent:a}):i.jsx(l.make,{message:c,isFirstMessageInGroup:e,isLastMessageInGroup:f,isEmojiOnly:q,renderEmoji:function(a){return b("bs_curry")._1(r,a.message)},renderMessageBubble:function(a){return b("bs_curry")._5(s,a.message,a.connectTop,a.connectBottom,a.precedesXMA,a.outgoing)},renderAttachment:function(a){return b("bs_curry")._7(o,a.message,a.prevMessage,a.nextMessage,a.connectTop,a.connectBottom,a.outgoing,a.hasText)},outgoing:g,prevMessage:u,nextMessage:v,attachmentRenderPosition:w,shouldRenderMessageContent:a});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.row_container),children:[g?i.jsx(m,{}):null,t!==void 0?b("bs_curry")._2(t,e,[j.container,g?j.outgoing:!1]):i.jsx("div",{className:(h||(h=b("stylex")))(j.container,g?j.outgoing:!1),children:e}),g?null:i.jsx(m,{})]}),i.jsxs(i.Fragment,{children:[q&&d.length>0?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:5}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:b("bs_curry")._3(p,c,d,g)})]})]})}e=a;f.styles=j;f.$MWPBaseMessageContentWithPinnedMessageSupport$requireCond=b("cr:3890");f.HorizontalFill=c;f.Content=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("StylexHelpers.re",["StylexHelpers.bs"],function(a,b,c,d,e,f){a=b("StylexHelpers.bs").styles;f.styles=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.re","StylexHelpers.re","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=c("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.re").useAuthorName(b);e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&i.jsx("span",{className:c("stylex")(d("StylexHelpers.re").styles.visuallyHidden),children:e!=null&&!a?e:f})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageFooter.react",["react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=18;var i={container:{backgroundColor:"lg77cbj3",display:"alzwoclg",height:"rkk71h3c",justifyContent:"siu44isn",position:"om3e55n1",width:"mfclru0v",zIndex:"b0ur3jhr"},gutter:{flexBasis:"byqdngn2",flexGrow:"c7y9u1f0",flexShrink:"i15ihif8"},items:{display:"alzwoclg",transform:"d1nj0ngd"}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=h.Children.toArray(b).filter(Boolean);return b.length===0?null:h.jsxs("div",{className:c("stylex")(i.container,a),role:"none",children:[b.map(function(a,b){return h.jsx("div",{className:c("stylex")(i.items,d),role:"none",children:a},""+b)}),e?null:h.jsx("div",{className:c("stylex")(i.gutter),role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a;g.height=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("BaseHeadingContextWrapper.re",["BaseHeadingContextWrapper.react"],function(a,b,c,d,e,f){a=b("BaseHeadingContextWrapper.react");f.makeTypeChecked=a;c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageLoggingWrapper.bs",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","bs_belt_Option","bs_caml_splice_call","bs_js_null_undefined","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.messageId,d=a.offlineThreadingId,e=a.children;a=a.xstyle;c=b("MWChatInteraction.bs").get(c);d=b("MWChatInteraction.bs").get(d);d=c==null?d==null?void 0:d:d==null?c:void 0;if(b("bs_belt_Option").isNone(d))return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[a]),children:e});else return i.jsx(b("CometHeroInteractionWithDiv.react"),{children:e,interactionUUID:b("bs_js_null_undefined").fromOption(d),interactionDesc:"MESSAGE_RENDER",pageletName:"Message",excludeFromMainVC:!1,xstyle:a})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageReactions.bs",["fbt","CometLazyDialogTrigger.react","CometPressable.react","EmojiRenderer","JSResourceForInteraction","MWChatReactionsUtils.bs","MWLSThread.bs","MWPGating.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_option","bs_curry","gkx","intlList","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");d={emojiRow:{paddingTop:"sf3txhl0",paddingEnd:"e7m00etv",paddingBottom:"tr46kb4q",paddingStart:"h4fuj9y9",textAlign:"tc5ow3dt",backgroundColor:"oab4agdp",borderTopStartRadius:"pdk0kjlo",borderTopEndRadius:"kbmua9a3",borderBottomEndRadius:"f3lj61do",borderBottomStartRadius:"r5a47i9s",boxShadow:"s8c47q4k",display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei"},emoji:{alignItems:"i85zmo3j",backgroundColor:"oab4agdp",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",lineHeight:"lisst02g",cursor:"fsf7x5fv"},emojiMargin:{marginEnd:"ctgv7vl3"},emojiNum:{width:"kes50e98",textAlign:"hsphh064",fontSize:"hg9jxets",lineHeight:"lisst02g",color:"rtxb060y"}};function a(a){var c=b("useReStore")(),d=a.messageId,e=a.threadKey;return b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("reactions")),{hd:e,tl:{hd:d,tl:0}}),function(a){if(b("bs_curry")._1(b("MWChatReactionsUtils.bs").isHeart,a.reaction))return{threadKey:a.threadKey,timestampMs:a.timestampMs,messageId:a.messageId,actorId:a.actorId,reaction:b("MWChatReactionsUtils.bs").heartType1,authorityLevel:a.authorityLevel};else return a})},[JSON.stringify(e),d,c]))}function j(a,c){var d=b("MWPGating.bs").isDualColumnMessageListEnabled(void 0)||b("gkx")("5093");if(!d)return g._("__JHASH__ZchozvrVLu8__JHASH__",[g._plural(c,"number")]);d=b("intlList")(a.map(function(a){return a.join("")}),b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._("__JHASH__tSgM5wXgT0G__JHASH__",[g._plural(c,"number"),g._param("the comma separated list of emojis used to react on this message",d)])}function c(a){var c=a.message,d=a.reactions,e=a.onPress,f=a.children;a=a.dialogResource;var g=e!==void 0?e:function(a){},h=c.messageId,k=c.threadKey;e=i.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context);var l=e.setIsDialogOpened,m=e.setFocused;e=b("MWLSThread.bs").useThread(k);var n=d.length,o=Array.from(new Set(d.map(function(a){return a.reaction}))).slice(0,3).map(function(a,c){c=b("EmojiRenderer").parse(a).map(function(a){return a.emoji});if(c.length!==1)return[""];else return c[0]}).filter(function(a){return a.join("")!==""}),p=j(o,n),q=i.useRef(null);return i.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(l,function(a){return!1});return b("bs_curry")._1(m,function(a){return!0})},dialogResource:a!==void 0?b("bs_caml_option").valFromOption(a):b("JSResourceForInteraction")("MWV2ChatReactionsDialog",{name:"MWV2ChatReactionsDialog","class":"fluid"}).__setRef("MWPMessageReactions.bs"),dialogProps:{onClose:function(a){},thread:e,message:c,reactions:{}},children:function(a){return i.jsx(b("CometPressable.react"),{"aria-label":p,ref:q,onPress:function(c){b("bs_curry")._1(l,function(a){return!0});b("bs_curry")._1(a,void 0);return b("bs_curry")._1(g,void 0)},overlayDisabled:!0,children:b("bs_curry")._5(f,o,n,d,h,k)})}})}e=3;c=c;f.styles=d;f.maxShownReactions=e;f.useReactions=a;f.generateAriaLabel=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSReplyMessageStatus.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.valid=c;f.deleted=d;f.temporaryUnavailable=e;f.expired=b},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJumpToMessageLogger.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,f);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}f.startHeroInteractionTrace=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPVisibleMessageContext.bs",["bs_js_null_undefined","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}e={setVisibleMessage:a,visibleMessage:void 0};var i=h.createContext(e);function c(a){a=a.children;var c=h.useState(function(){}),d=c[1],e=c[0];c=h.useMemo(function(){return{setVisibleMessage:d,visibleMessage:b("bs_js_null_undefined").fromOption(e)}},[e,d]);return h.createElement(i.Provider,{value:c,children:a})}a={make:c};function d(a){return h.useContext(i)}f.context=i;f.Provider=a;f.useHook=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJumpToMessage.bs",["LSMessagingInitiatingSourceHook.bs","MWJumpToMessageLogger.bs","MWPVisibleMessageContext.bs","MWVersion.bs","bs_curry","qpl","react","useCometInteractionTracing"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWPVisibleMessageContext.bs").useHook(void 0),d=c.setVisibleMessage,e=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),f=b("useCometInteractionTracing")(b("qpl")._(25301087,"7779"),"fast","INTERACTION");return h.useCallback(function(c){return function(g,h,i,j){var k=h!==void 0?h:"",l=i!==void 0?i:[];return f(function(f){b("bs_curry")._1(d,function(b){return{timestamp:g,messageId:c,highlights:l,contextLine:k,source:a}});return b("MWJumpToMessageLogger.bs").startHeroInteractionTrace(f,c,e,b("MWVersion.bs").v2)})}},[a,d,f,e])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPBaseRepliedMessage.bs",["CometPressable.react","LSMessageReplySourceTypeV2.bs","LSReplyMessageAttachmentType.bs","LSReplyMessageStatus.bs","MWJumpToMessage.bs","bs_caml","bs_caml_obj","bs_curry","bs_int64","react","recoverableViolation","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={elevate:{maxWidth:"gvxzyvdx",position:"om3e55n1",zIndex:"b0ur3jhr"},pressable:{display:"b6ax4al1"}};function a(a){var c=a.message,d=a.outgoing,e=a.renderRemovedMessage,f=a.renderUnavailableMessage,g=a.renderExpiredMessage,k=a.renderStory,l=a.renderAttachment,m=a.renderMedia,n=a.renderSticker,o=a.renderTextMessage;a=a.renderVideo;var p=c.replyAttachmentId,q=c.replyAttachmentType,r=c.replyMessageText;k=i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:q!==void 0?(b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").photo)||b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").video))&&b("bs_caml_obj").caml_equal(c.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").story)?b("bs_curry")._2(k,c,d):p!==void 0?b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").other)?b("bs_curry")._2(l,c,d):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").photo)?m!==void 0?b("bs_curry")._2(m,c,d):b("bs_curry")._2(l,c,d):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").multiphoto)?m!==void 0?b("bs_curry")._2(m,c,d):b("bs_curry")._2(l,c,d):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").video)?a!==void 0?b("bs_curry")._2(a,c,d):b("bs_curry")._2(l,c,d):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").gif)?b("bs_curry")._2(l,c,d):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").sticker)?n!==void 0?b("bs_curry")._2(n,c,d):b("bs_curry")._2(l,c,d):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").link)||b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").permanentRavenPhoto)||b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").permanentRavenVideo)?b("bs_curry")._2(l,c,d):(b("recoverableViolation")("Unknown attachment type: "+b("bs_int64").to_string(q),"messenger_comet"),null):b("bs_caml").i64_eq(q,b("LSReplyMessageAttachmentType.bs").sticker)&&n!==void 0?b("bs_curry")._2(n,c,d):null:p!==void 0?m!==void 0?b("bs_curry")._2(m,c,d):b("bs_curry")._2(l,c,d):b("bs_caml_obj").caml_equal(c.replyStatus,b("LSReplyMessageStatus.bs").deleted)?e!==void 0?b("bs_curry")._1(e,d):null:b("bs_caml_obj").caml_equal(c.replyStatus,b("LSReplyMessageStatus.bs").expired)?g!==void 0?b("bs_curry")._1(g,d):null:b("bs_caml_obj").caml_equal(c.replyStatus,b("LSReplyMessageStatus.bs").temporaryUnavailable)?f!==void 0?b("bs_curry")._1(f,d):null:r!==void 0&&b("bs_caml_obj").caml_equal(c.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").message)?r!==""?b("bs_curry")._2(o,r,d):b("bs_curry")._2(l,c,d):null});var s=c.replySourceTimestampMs,t=c.replySourceId,u=b("MWJumpToMessage.bs").useHook(1);if(t!==void 0&&s!==void 0)return i.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._5(u,t,s,void 0,void 0,void 0)},overlayDisabled:!0,xstyle:function(a){return[j.pressable]},children:k});else return k}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWPSolidMessageBubble.bs","bs_caml_option","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={content:{overflowWrap:"l4uc2m3f",paddingBottom:"rj2hsocd",fontSize:"nfkogyam",lineHeight:"p3w50ix6",color:"rtxb060y"}};function a(a){var c=a.children,d=a.outgoing;a=a.xstyle;a=a!==void 0?b("bs_caml_option").valFromOption(a):!1;return j.jsxs(b("MWPSolidMessageBubble.bs").make,{children:[j.jsx(b("CometScreenReaderText.react"),{text:g._("__JHASH__pLiiclD1jc1__JHASH__")}),j.jsx("div",{"data-testid":"reply-to-content",className:(i||(i=b("stylex")))(k.content,a),children:c})],style:{backgroundColor:"var(--mwp-reply-background-color)"},connectTop:!1,connectBottom:!0,precedesXMA:!1,outgoing:d})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWReplies.bs",["fbt","ix","CometIcon.react","CometPlaceholder.react","CometPressable.react","CometTextWithEntities.react","IconSource","LSMediaUrl.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWChatTextFormatting","MWChatTextTransform.bs","MWIcon.react","MWPStableImage.bs","MWPThreadCapabilitiesContext.bs","MWV2ReplyTo.bs","MWV2Sticker.bs","MWXMAAttachmentItem.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","XCometStoriesControllerRouteBuilder","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:10868","cr:1584","cr:3100","cr:385","cr:956","fbicon","gkx","react","stylex","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=g._("__JHASH__ExfgVu3ZeIV__JHASH__"),m={root:{alignItems:"i85zmo3j",display:"alzwoclg",fontStyle:"qp0gn4il"},icon:{display:"b6ax4al1",marginStart:"jbg88c62"}};function a(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:k.jsxs("div",{className:(j||(j=b("stylex")))(m.root),children:[l,k.jsx("span",{className:j(m.icon),children:k.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("537728"),12),color:"secondary"})})]}),outgoing:a})}a={styles:m,make:a};var n=g._("__JHASH__uG4wbYWD9QU__JHASH__"),o={root:{fontStyle:"qp0gn4il"}};function c(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:n,outgoing:a,xstyle:o.root})}c={styles:o,make:c};var p=g._("__JHASH__c9O-lw2LXxM__JHASH__"),q={root:{fontStyle:"qp0gn4il"}};function d(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:p,outgoing:a,xstyle:q.root})}d={styles:q,make:d};var r=g._("__JHASH__LRWYiWT4b63__JHASH__"),s={root:{fontStyle:"qp0gn4il"}};function e(a){a=a.outgoing;return k.jsx(b("MWV2ReplyTo.bs").make,{children:r,outgoing:a,xstyle:s.root})}e={styles:s,make:e};var t={root:{display:"b6ax4al1",borderTopStartRadius:"rt34pxt2",borderTopEndRadius:"jao8r537",borderBottomEndRadius:"pdqhzjwd",borderBottomStartRadius:"dtqh1a21",position:"om3e55n1",overflowX:"lq84ybu9",overflowY:"hf30pyar",width:"ncxvlvn8",filter:"qw67cy0r"},rootHasSticker:{borderTopStartRadius:"cmg2g80i",borderTopEndRadius:"lk0hwhjd",borderBottomEndRadius:"nfcwbgbd",borderBottomStartRadius:"mivixfar"},image:{display:"b6ax4al1",height:"ikduhi8d",maxWidth:"gvxzyvdx",width:"ncxvlvn8"},imageSmall:{maxHeight:"d7eun4y1"},incoming:{borderBottomStartRadius:"gffp4m6x"},outgoing:{borderBottomEndRadius:"j8nb7h05"}};function u(a){var c=a.src,d=a.outgoing,e=a.isSticker,f=a.width;a=a.height;e=e!==void 0?e:!1;f=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;var g=b("MWPThreadCapabilitiesContext.bs").useHook(void 0);g=b("gkx")("1581")&&b("bs_curry")._1(g,b("LSThreadCapabilityBitOffset.bs").blurMedia);d=e?!1:d?t.outgoing:t.incoming;f=k.jsx(b("MWPStableImage.bs").make,{width:f!==void 0?b("bs_caml_int64").to_float(f):void 0,height:a!==void 0?b("bs_caml_int64").to_float(a):void 0,src:c,alt:"",maxHeight:100,maxWidth:300,className:(j||(j=b("stylex")))(t.root,e?t.rootHasSticker:!1,d)});if(!(b("cr:956")==null)&&g&&!e)return k.jsx(b("cr:956").make,{url:c,type_:1,children:f,xstyle:[t.root,d],overlayDisabled:!0,uncoverable:!1});else return f}var v={styles:t,make:u},w={root:{display:"b6ax4al1"}};function x(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var e=c.replySourceId;e=e!==void 0?a?e:b("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+e),view_single:!0}).setDomain("www.facebook.com").setProtocol("https").toString():void 0;a=!(b("cr:10868")==null)&&a?function(a){return b("bs_belt_Option").map(a.replyAttachmentId,function(a){return b("bs_curry")._1(b("cr:10868").getAttachmentBlobNonOptional,b("bs_int64").to_string(a))})}:b("LSMediaUrl.bs").Message.replyMediaUrl;a=b("bs_curry")._1(a,c);if(a===void 0)return null;c={"aria-label":g._("__JHASH__thxINaLEtLl__JHASH__"),overlayDisabled:!0,children:k.jsx(u,{src:a,outgoing:d})};a=b("bs_belt_Option").map(e,function(a){return{url:a}});a!==void 0&&(c.linkProps=b("bs_caml_option").valFromOption(a));return k.jsx(b("CometPressable.react"),c)}w={styles:w,make:x};var y=g._("__JHASH__bznTdd53oJN__JHASH__"),z={italic:{fontStyle:"qp0gn4il"},postBackground:{height:"q1w0875u",width:"lwqmdtw6",display:"alzwoclg",background:"consv41k","backdrop-filter":"obq035o6","justify-content":"jcxyg2ei","align-items":"i85zmo3j","text-align":"hsphh064","flex-direction":"cqf1kptm","border-radius":"n3kuvp65"},storyBackground:{height:"oidp0d8r",width:"sm1paabj",display:"alzwoclg",background:"ca50cjp1","backdrop-filter":"o5lpyw6p","justify-content":"jcxyg2ei","align-items":"i85zmo3j","text-align":"hsphh064","flex-direction":"cqf1kptm","border-radius":"jr8zf9rk",opacity:"fupido9q"},FBIcon:{marginTop:"ihx95mk1",marginEnd:"tpvapw4o",marginBottom:"qjfq86k5",marginStart:"j0k7ypqs"}};function A(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;var e=b("useReStore")(),f=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){var a=c.replyAttachmentId,d=c.replySourceId;if(d!==void 0&&a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:c.threadKey,tl:{hd:d,tl:{hd:b("bs_int64").to_string(a),tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,c]));if(f!==void 0&&f.hasXma&&a){var g=f.gatingType;g=g!==void 0?g===b("MWXMAAttachmentItem.bs").armadilloContentExtendedContentMessageOverlayiconglyphToJs(4).toString():!1}else g=!1;if(f!==void 0&&f.hasXma&&a){var i=f.defaultCtaType;i=i!==void 0?i:""}else i="";var l=new(b("IconSource"))("FB",h("1423124"),28);if(g)if(i==="xma_montage_share")return k.jsx("div",{className:(j||(j=b("stylex")))(z.storyBackground),children:k.jsx("div",{className:j(z.FBIcon),children:k.jsx(b("CometIcon.react"),{icon:l})})});else return k.jsx("div",{className:(j||(j=b("stylex")))(z.postBackground),children:k.jsx("div",{className:j(z.FBIcon),children:k.jsx(b("CometIcon.react"),{icon:l})})});g=!(b("cr:10868")==null)&&a?function(a){return f!==void 0&&f.hasXma?b("bs_belt_Option").map(a.replyAttachmentId,function(a){return b("bs_curry")._2(b("cr:10868").getInfoUrlXMA,f,"preview")}):b("bs_belt_Option").map(a.replyAttachmentId,function(a){return b("bs_curry")._1(b("cr:10868").getAttachmentBlobNonOptional,b("bs_int64").to_string(a))})}:b("LSMediaUrl.bs").Message.replyMediaUrl;i=b("bs_curry")._1(g,c);return i!==void 0&&i!==""?k.jsx(u,{src:i,outgoing:d,width:c.replyMediaPreviewWidth,height:c.replyMediaPreviewHeight}):k.jsx(b("MWV2ReplyTo.bs").make,{children:y,outgoing:d,xstyle:z.italic})}x={make:A};function B(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;return k.jsx(b("CometPlaceholder.react"),{children:k.jsx(A,{message:c,outgoing:d,isSecureMessage:a}),fallback:null})}x={styles:z,Impl:x,make:B};var C=g._("__JHASH__13yhS1gywbZ__JHASH__"),D={italic:{fontStyle:"qp0gn4il"},replySticker:{filter:"qw67cy0r"},replyHotLikeSticker:{filter:"qw67cy0r",transform:"mtqjpn7b"}};function E(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var e=b("useReStore")(),f=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){var a=c.replyAttachmentId,d=c.replySourceId;if(d!==void 0&&a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:c.threadKey,tl:{hd:d,tl:{hd:b("bs_int64").to_string(a),tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,c])),g=c.replyMessageText;g=g!==void 0?b("cr:385")==null?g:b("bs_curry")._1(b("cr:385").unvault,g):"";if(g==="\ud83d\udc4d"&&b("MAWGating.bs").isHotLikeEnabled(void 0))if(b("cr:1584")==null)return null;else return k.jsx(b("cr:1584").make,{xstyle:D.replyHotLikeSticker});g=b("LSMediaUrl.bs").Message.replyMediaUrl(c);if(g!==void 0){if(f===void 0)return k.jsx(u,{src:g,outgoing:d,isSticker:!0,width:c.replyMediaPreviewWidth,height:c.replyMediaPreviewHeight});g=1}else g=1;if(g===1){if(f===void 0)return k.jsx(b("MWV2ReplyTo.bs").make,{children:C,outgoing:d,xstyle:D.italic});var h;g=0;b("cr:3100")==null||!a?g=2:h=function(a){return b("bs_curry")._1(b("cr:3100").getAttachmentBlobNonOptional,a.attachmentFbid)};g===2&&(h=function(a){return b("LSMediaUrl.bs").Attachment.previewUrl(a)});return k.jsx(b("CometPlaceholder.react"),{children:k.jsx(b("MWV2Sticker.bs").make,{attachment:f,getPreviewUrl:h,xstyle:D.replySticker,scale:.6}),fallback:null})}}B={text:C,styles:D,make:E};var F={text:{color:"rtxb060y",whiteSpace:"n3t5jt4f"}};function G(c){var a=c.text;c=k.useMemo(function(){var a={};a.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];return a},[]);var d=k.useMemo(function(){return b("MWChatTextFormatting").getFormattingRanges(a)},[a]),e=b("cr:385")==null?a:b("bs_curry")._1(b("cr:385").unvault,a);return k.jsx("div",{className:(j||(j=b("stylex")))(F.text),children:k.jsx(b("CometTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:d,truncationStyle:"ellipsis-only",withParagraphs:!1,text:e,renderers:c,transforms:b("MWChatTextTransform.bs").epdTextTransformsNoVault})})}E={styles:F,make:G};f.Attachment=a;f.Removed=c;f.Unavailable=d;f.Expired=e;f.$MWMessageListProtectedMedia$requireCond=b("cr:956");f.$$Image=v;f.Story=w;f.$MAWAttachmentBlob$requireCond=b("cr:10868");f.Media=x;f.$MAWAttachmentBlob$requireCondXplat=b("cr:3100");f.$MAWHotLike$requireCondXplat=b("cr:1584");f.Sticker=B;f.$MAWVault$requireCond=b("cr:385");f.$$Text=E},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWRepliedMessage.bs",["MWPBaseRepliedMessage.bs","MWReplies.bs","MWV2ReplyTo.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;var e=a!==void 0?a:!1;return h.jsx(b("MWPBaseRepliedMessage.bs").make,{message:c,outgoing:d,renderRemovedMessage:function(a){return h.jsx(b("MWReplies.bs").Removed.make,{outgoing:a})},renderUnavailableMessage:function(a){return h.jsx(b("MWReplies.bs").Unavailable.make,{outgoing:a})},renderExpiredMessage:function(a){return h.jsx(b("MWReplies.bs").Expired.make,{outgoing:a})},renderStory:function(a,c){return h.jsx(b("MWReplies.bs").Story.make,{message:a,outgoing:c,isSecureMessage:e})},renderAttachment:function(a,c){return h.jsx(b("MWReplies.bs").Attachment.make,{outgoing:c})},renderMedia:function(a,c){return h.jsx(b("MWReplies.bs").Media.make,{message:a,outgoing:c,isSecureMessage:e})},renderSticker:function(a,c){return h.jsx(b("MWReplies.bs").Sticker.make,{message:a,outgoing:c,isSecureMessage:e})},renderTextMessage:function(c,a){return h.jsx(b("MWV2ReplyTo.bs").make,{children:h.jsx(b("MWReplies.bs").$$Text.make,{text:c}),outgoing:a})}})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWReplySnippet.bs",["LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","bs_caml","bs_caml_option","bs_curry","cr:3889","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"alzwoclg",alignItems:"i85zmo3j",paddingTop:"ngbj85sm",paddingBottom:"rat9ptwp"},text:{paddingStart:"f1iqohp5",color:"jlyy7hdl",fontSize:"glosn74e"}};function k(a){a=a.message;a=a.replySourceTypeV2;if(a!==void 0)if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").story))return i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"});else if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").fbStoryShare))return i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"});else return null;else return null}c={make:k};d=b("cr:3889")==null?void 0:b("bs_caml_option").some(b("cr:3889"));function a(a){var c=a.message;a=a.outgoing;a=b("cr:3889")==null?c.replySnippet:b("bs_curry")._2(b("cr:3889").make,c,a);if(a!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),"data-testid":"reply_snippet",children:[i.jsx(k,{message:c}),i.jsx("div",{className:h(j.text),children:a})]});else return null}e=a;f.styles=j;f.Icon=c;f.$UseMWReplySnippetContent$requireCond=b("cr:3889");f.dynamicReplyContent=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:385","qex","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var d=h.useMemo(function(){var a=b("qex")._("1546");a=a==null||a!=="dynamic"?32:b("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(c.hotEmojiSize);return b("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[c.hotEmojiSize]),e=c.text;if(e===void 0)return null;e=b("cr:385")==null?e:b("bs_curry")._1(b("cr:385").unvault,e);e=h.jsx(b("CometTextWithEntities.react"),{withParagraphs:!0,text:e,transforms:d});if(a)return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:e,shouldConnectTop:!1,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:!1,isOutgoing:!1});else return e}c=a;f.$MAWVault$requireCond=b("cr:385");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessageProfileRangeType.bs",["MessageProfileRangeType"],function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return b("MessageProfileRangeType").PROFILE;else if(a==="thread"||a==="t")return b("MessageProfileRangeType").THREAD;else if(a==="thread_active"||a==="a")return b("MessageProfileRangeType").THREAD_ACTIVE;else if(a==="s")return b("MessageProfileRangeType").SILENT;else if(a==="c")return b("MessageProfileRangeType").COMMUNITY_CHANNEL;else return b("MessageProfileRangeType").NONE}f.ofString=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=0;while(!0){var f=d("UnicodeUtils").substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!c("URI").isValidURI(g))break;var h=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(h="http://"+g);var i=f.indexOf(g);f=d("UnicodeUtils").strlen(f.substr(0,i));e+=f;i=g.length;b.push({offset:e,length:g.length,entity:{url:h}});e+=i}return b}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatText.bs",["MWPMessageListText.bs","MWPVisibleMessageContext.bs","MWUseTextRenderers.bs","MWV2ChatTextParserUtils.bs","bs_caml_option","bs_curry","cr:385","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=c.mentionIds,e=c.mentionLengths,f=c.mentionOffsets;c=c.mentionTypes;if(d!==void 0)if(e!==void 0)if(f!==void 0)if(c!==void 0)return b("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,d,e,f,c);else return[];else return[];else return[];else return[]}function j(a,b,c){if(a===void 0)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{offset:a.matchOffset+d|0,length:a.matchLength,entity:{__typename:"Highlight"}}});else return[]}function k(a){var c=b("useReStore")(),d=b("MWPVisibleMessageContext.bs").useHook(void 0),e=d.visibleMessage;return h.useMemo(function(){var d=a.text;d=d!==void 0&&d!==""?d:void 0;if(d===void 0)return[];if(b("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(d))return[];d=b("cr:385")==null?d:b("bs_curry")._1(b("cr:385").unvault,d);var f=i(c,a);f=f.concat(b("MWV2ChatTextParserUtils.bs").findRanges(d));return f.concat(j(e==null?void 0:b("bs_caml_option").some(e),d,a.messageId))},[a,c,e])}function a(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var e=k(c),f=b("MWUseTextRenderers.bs").useHook(a,void 0),g=c.text;a=!(b("cr:385")==null)&&a&&g!==void 0?b("bs_curry")._1(b("cr:385").unvaultOrThrow,g):c.text;return h.jsx(b("MWPMessageListText.bs").make,{message:c,text:a,outgoing:d,ranges:e,renderers:f})}c=a;f.useRanges=k;f.$MAWVault$requireCond=b("cr:385");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatUnsentMessage.bs",["fbt","CometPressable.react","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWLSThread.bs","MWText.react","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","XCometGroupAdminActivitiesControllerRouteBuilder","bs_curry","bs_int64","cr:4898","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={linkText:{paddingTop:"q46jt4gp",paddingBottom:"r5g9zsuq",paddingEnd:"i5oewl5a",paddingStart:"nnzkd6d7"}};function k(a){var c=a.attachment,d=a.isSecureMessage;a=a.message;var e=g._("__JHASH__I-2GRtvMpnJ__JHASH__");a=b("cr:4898")==null?e:b("bs_curry")._1(b("cr:4898").useUnsendContentInSecureThread,a);if(d)d=a;else if(c!==void 0){a=c.descriptionText;d=a!==void 0?a:e}else d=e;return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:d,ariaLabel:d})}c={make:k};function l(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:g._("__JHASH__HdJ22izQlT7__JHASH__")}else a=g._("__JHASH__HdJ22izQlT7__JHASH__");return i.jsx(b("MWV2TombstonedMessage.bs").make,{children:a,ariaLabel:a})}d={make:l};function m(a){var c=a.attachment;a=a.thread;a=b("MWCMUseFolder.bs").useHook(a);if(c!==void 0){c=c.cta1Title;c=c!==void 0?c:g._("__JHASH__8jyfQXNgswL__JHASH__")}else c=g._("__JHASH__8jyfQXNgswL__JHASH__");if(a!==void 0)return i.jsx(b("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+b("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(a){return[j.linkText]},children:i.jsx(b("MWText.react"),{color:"blueLink",type:"meta2",children:c})});else return null}e={make:m};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureMessage;var e=b("useReStore")(),f=c.messageId,g=c.threadKey,h=b("MWLSThread.bs").useThread(g),j=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:g,tl:{hd:f,tl:0}})},[e,f,JSON.stringify(g)]));if(j!==void 0){var n=j.cta1Type;n=n!==void 0?n==="xma_view_activity_log":!1}else n=!1;return i.jsxs(i.Fragment,{children:[d?i.jsx(l,{attachment:j}):i.jsx(k,{attachment:j,isSecureMessage:a,message:c}),h!==void 0&&n&&b("MWCMThreadTypes.bs").isAnyCMThread(h.threadType)?i.jsx(m,{attachment:j,thread:h}):null]})}a=a;f.styles=j;f.$MAWUnsendContentInSecureThread$requireCond=b("cr:4898");f.IncomingUnsentMessage=c;f.OutgoingUnsentMessage=d;f.ActivityLogDetails=e;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWPThreadTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"alzwoclg",paddingBottom:"rt9i6ysf"},mask:{backgroundColor:"lg77cbj3"},spacer:{flexGrow:"cgu29s5g",flexBasis:"jg3vgc78"},heads:{flexShrink:"jez8cy9q",display:"alzwoclg",marginTop:"i0rxk2l3",marginEnd:"b7mnygb8",marginBottom:"l3gxykhd",marginStart:"kmwttqpk"},img:{verticalAlign:"bq6c9xl4",width:"obt709sw",height:"cl67t5wl",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",paddingStart:"h4fuj9y9",paddingEnd:"e7m00etv"},overflow:{backgroundColor:"a5wdgl2o",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",color:"rtxb060y",fontSize:"hg9jxets",fontWeight:"igjjae4c",lineHeight:"h6ejzxd1",marginTop:"m8h3af8h",marginEnd:"l7ghb35v",marginBottom:"kjdc1dyq",marginStart:"kmwttqpk",paddingTop:"srn514ro",paddingEnd:"fzd7ma4j",paddingBottom:"rl78xhln",paddingStart:"lcfup58g",textAlign:"hsphh064"}};function l(a,c){var d=a.length,e=d>5;d=Math.max(d-(e?4:5)|0,0);var f=a.slice(d);if(e){e=Math.max(d-9|0,0);a=a.slice(e,d);var h="\n"+g._("__JHASH__8_D_WS90lqj__JHASH__",[g._param("Number of additional views",e,[0])]);a=j.jsxs("ul",{children:[a.reverse().map(function(a,b){return j.jsx("li",{children:a.name},String(b))}),e>0?j.jsx("li",{children:h},"overflow"):null]});e=j.jsx(b("MWTooltip.react"),{tooltip:a,align:function(){switch(b("bs_caml_obj").caml_equal(c,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:j.jsx("span",{className:(i||(i=b("stylex")))(k.overflow),children:g._("__JHASH__hpZlVXKj1CE__JHASH__",[g._param("the number of additional viewers",d,[0])])}),forceInlineDisplay:!0},"overflow")}else e=null;return b("bs_array").append([e],f.map(function(a,d){var e=a.timestamp>0?g._("__JHASH__i65FoHjBJBT__JHASH__",[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender)),g._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):g._("__JHASH__o0y2JESDXU1__JHASH__",[g._name("full name",a.name,b("getFBTSafeGenderFromGenderConst")(a.gender))]);return j.jsx(b("MWTooltip.react"),{tooltip:e,align:function(){switch(b("bs_caml_obj").caml_equal(c,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",children:a.imageSrc===""?j.jsx(b("BaseGlimmer.react"),{className:(i||(i=b("stylex")))(k.img),index:d}):j.jsx("img",{className:(i||(i=b("stylex")))(k.img),alt:e,src:a.imageSrc}),forceInlineDisplay:!0},a.id)}))}function a(a){var c=a.messageSeenBy;a=b("MWPThreadTheme.bs").useHook(void 0);var d=j.useContext(b("MWV2MessageRowIsRowFocusedContext.bs").context),e=d.setIsDialogOpened,f=d.setFocused,h=c.length,m=b("MWLSThreadDisplayContext.bs").useHook(void 0),n=j.useRef(null);return j.jsxs("div",{role:"none",className:(i||(i=b("stylex")))(k.root,b("MWPThreadTheme.bs").isGradient(a)?k.mask:!1),children:[j.jsx("div",{className:i(k.spacer)}),j.jsx(b("CometLazyDialogTrigger.react"),{onHide:function(a){b("bs_curry")._1(e,function(a){return!1});return b("bs_curry")._1(f,function(a){return!0})},dialogResource:b("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{name:"MWV2ChatSeenHeadsDialog","class":"fluid"}).__setRef("MWV2ChatSeenHeadsRow.bs"),dialogProps:{onClose:function(a){},messageSeenBy:c},children:function(a){return j.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__JhvMDLpCFuF__JHASH__",[g._param("number of participants who have seen this message",String(h))]).toString(),ref:n,onPress:function(c){b("bs_curry")._1(e,function(a){return!0});return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.heads]},children:j.jsx(b("MWTooltipGroup.react"),{children:l(c,m)})})}})]})}c=5;d=a;f.styles=k;f.maxNumberOfHeads=c;f.getImageRow=l;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MessageEndOfGroupContent.bs",["fbt","MWMessageDeliveryStatus.bs","MWPMessageListColumn.bs","MWText.react","MWV2ChatSeenHeadsRow.bs","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={statusText:{paddingBottom:"r5g9zsuq"},alignRight:{paddingEnd:"b0eko5f3"},alignLeft:{paddingStart:"prsavemq"}};function l(a){var c=a.text,d=a.error;a=a.alignLeft;d=d!==void 0?d:!1;var e=a!==void 0?a:!1;return j.jsx("span",{role:"none",className:(i||(i=b("stylex")))(k.statusText,e?k.alignLeft:k.alignRight),children:j.jsx(b("MWText.react"),{align:function(){switch(e?"start":"end_"){case"start":return"start";case"center":return"center";case"end_":return"end";case"default":return"default"}}(),color:d?"negative":"secondary",type:"meta4",children:c})})}c={make:l};function m(a){var b=a.num;a=a.alignLeft;a=a!==void 0?a:!1;return j.jsx(l,{text:g._("__JHASH__BXQui53ccPV__JHASH__",[g._param("seenByNumber",String(b))]).toString(),alignLeft:a})}d={make:m};function a(a){var c=a.status,d=a.isTextOnly;a=a.alignLeft;d=d!==void 0?d:!1;a=a!==void 0?a:!1;var e=b("MWMessageDeliveryStatus.bs").getBroadcastStatusTitle(c);if(!d)if(typeof c==="number"||c.TAG!==1)return null;else return j.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:j.jsx(b("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:c._0})});if(typeof c==="number")switch(c){case 0:return null;case 4:return j.jsx(l,{text:e,error:!0});case 5:return j.jsx(l,{text:e,alignLeft:a});case 6:return j.jsx(l,{text:e,error:!0,alignLeft:a});default:return j.jsx(l,{text:e})}else switch(c.TAG|0){case 0:return j.jsx(m,{num:1});case 1:case 2:break;case 3:return j.jsx(m,{num:c._0,alignLeft:a})}return j.jsx(m,{num:c._0.length})}e=a;f.styles=k;f.MWStatusText=c;f.MWSeenByText=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MDSAccountSvgIcon.bs",["MDSSvgIcon.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color,d=a.size;a=a.viewBox;a=a!==void 0?a:"0 0 36 36";return h.jsx(b("MDSSvgIcon.bs").make,{size:d,color:c,viewBox:a,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z"})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MessageProfilePhoto.bs",["fbt","BaseGlimmer.react","CometImageCover.react","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMediaUrl.bs","MDSAccountSvgIcon.bs","MWIcon.react","MWPMessageAuthor.bs","MWTooltip.react","bs_curry","gkx","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{width:"f1pz0i20"}};function l(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root)})}c={styles:k,make:l};var m={profile:{flexShrink:"jez8cy9q",width:"f1pz0i20",height:"k27skwkl",alignItems:"gldv74r8",display:"alzwoclg"},glimmer:{borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f",width:"f1pz0i20",height:"k27skwkl"}};function a(a){var c=a.message,d=a.isLastMessageInGroup,e=a.isGroupThread;a=a.ariaHidden;a=a!==void 0?a:!1;var f=j.useContext(b("MWPMessageAuthor.bs").ctx),h=f.nickname,k=f.contact,n={borderRadius:"50%"};f=b("gkx")("4365");if(!d)return j.jsx(l,{});d=c.takedownState;var o,p=0,q=0;if(d!==void 0&&f){d=g._("__JHASH__RNW_2o_rk9o__JHASH__");f=function(a){return j.jsx(b("MDSAccountSvgIcon.bs").make,{color:"disabled",size:"28",viewBox:"6 6 24 24"})};o=j.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"start",children:j.jsx(b("MWIcon.react"),{alt:d,icon:f})})}else q=2;if(q===2)if(k!==void 0&&b("LSMediaUrl.bs").Contact.profilePictureUrl(k)!==""){d=h!==void 0?h+" ("+k.name+")":k.name;o=j.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"start",children:b("gkx")("4185")?j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu").__setRef("MWV2MessageProfilePhoto.bs"),popoverProps:{message:c,position:"above"},children:function(a,c,d,f,g,h,i){if(e)return j.jsx(b("CometPressable.react"),{ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[m.profile]},children:j.jsx(b("CometImageCover.react"),{alt:k.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(k),style:n})});else return j.jsx(b("CometImageCover.react"),{alt:k.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(k),style:n})}}):j.jsx(b("CometImageCover.react"),{alt:k.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(k),style:n})})}else p=1;p===1&&(o=j.jsx(b("BaseGlimmer.react"),{index:1,xstyle:m.glimmer}));return j.jsx("div",{"aria-hidden":a,className:(i||(i=b("stylex")))(m.profile),children:o})}d=a;f.NoProfilePhoto=c;f.styles=m;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWTheme.re",["MWTheme.bs"],function(a,b,c,d,e,f){a=b("MWTheme.bs").isGradient;f.isGradient=a;c=b("MWTheme.bs").useTheme;f.useTheme=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWText.react","MWTheme.re","formatDate","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.timestamp;var b=c("MWTheme.re").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"tsb96kwe hf30pyar lq84ybu9 nuz1ool1 ikw5e13s spvqvc9t",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:"hsphh064 fzsidkae l3gxykhd"+(c("MWTheme.re").isGradient(b)?" lg77cbj3":""),"data-scope":"date_break",children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"tpi2lg9u",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPDateBreak.bs",["MWPDateBreak.react"],function(a,b,c,d,e,f){"use strict";a=b("MWPDateBreak.react");f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","gkx","react","useSecureMessageSendTime"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.message;a=a.children;var d=b("useSecureMessageSendTime")(c.messageId),e=i.useMemo(function(){var a=c.unsentTimestampMs,e=c.isUnsent;return a!==void 0&&e?i.jsxs("div",{children:[i.jsx("div",{children:g._("__JHASH__L93MxMH-RPL__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])}),i.jsx("div",{children:b("gkx")("1531920")?g._("__JHASH__6L85PWgp0uQ__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))]):g._("__JHASH__exEcskNfDMO__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(a)))])})]}):i.jsxs("div",{children:[i.jsx("div",{children:!(d==null)&&d>0?"Send Latency: "+d.toString()+"ms":null}),i.jsx("div",{children:g._("__JHASH__GNnexJRNZQN__JHASH__",[g._param("time",b("MercuryTimestamp").getPreciseTimestamp(b("bs_caml_int64").to_float(c.timestampMs)))])})]})},[c]);return i.jsx(b("MWTooltip.react"),{tooltip:e,align:"middle",position:"start",children:a})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{fontStyle:"qp0gn4il"}};function a(a){a=a.outgoing;return i.jsx(b("MWV2ReplyTo.bs").make,{children:g._("__JHASH__grNaxJ_sL8-__JHASH__"),outgoing:a,xstyle:j.root})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a]);return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("UseMWIsXMARoom.bs",["useMWIsXMARoom"],function(a,b,c,d,e,f){"use strict";function a(a){return b("useMWIsXMARoom")(a)}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageRow.bs",["CometErrorBoundary.re","CometMiddot.react","CometPressable.react","LSHotEmojiSize.bs","LSMessagingThreadTypeUtil.bs","MAWGating.bs","MWCMThreadTypes.bs","MWChatGutterItem.bs","MWClickedMessageContext.react","MWForwardedContent.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentContainer.bs","MWMessageReactionsContainer.bs","MWMessageRowActions.bs","MWPActor.bs","MWPBaseMessage.bs","MWPBaseMessageListRow.bs","MWPBaseMessageRowHeader.bs","MWPMessageFooter.react","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessageReactions.bs","MWPMessageRowCalculateStatus.bs","MWPMessageSenderName.bs","MWRepliedMessage.bs","MWReplySnippet.bs","MWText.react","MWV2ChatAdminMessage.bs","MWV2ChatBubble.bs","MWV2ChatEmoji.bs","MWV2ChatErrorBubble.bs","MWV2ChatText.bs","MWV2ChatUnsentMessage.bs","MWV2MessageEndOfGroupContent.bs","MWV2MessageProfilePhoto.bs","MWV2MessageRowSimple.bs","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.bs","MWV2ReplyError.bs","UseMWIsXMARoom.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","cr:1584","cr:3408","cr:3884","cr:3885","cr:3886","cr:3887","cr:4443","gkx","react","stylex","useCometUniqueID"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={alignEnd:{alignItems:"gldv74r8"},adminMessageAttachment:{boxSizing:"bdao358l",paddingTop:"ngbj85sm",paddingBottom:"r9fxt90l",paddingEnd:"s9xz0pwp",paddingStart:"c4m0enpj",minWidth:"hjm2gpym",maxWidth:"fztkf1ka","@supports(max-width: min(100%, 500px))":{maxWidth:"r2g000rc"}},gutter:{overflowX:"lq84ybu9",overflowY:"hf30pyar",width:"kgzac55p"},emptyGutter:{width:"cowpzf8e"},reply:{display:"alzwoclg",alignItems:"hael596l",flexDirection:"cqf1kptm"},replyMargin:{marginBottom:"h00o5x1s"}},k=b("cr:4443")==null?void 0:b("bs_caml_option").some(b("cr:4443")),l=b("cr:3885")==null?void 0:b("bs_caml_option").some(b("cr:3885")),m=b("cr:3884")==null?void 0:b("bs_caml_option").some(b("cr:3884")),n=b("cr:3886")==null?void 0:b("bs_caml_option").some(b("cr:3886")),o=b("cr:3408")==null?void 0:b("bs_caml_option").some(b("cr:3408"));function a(a){var c=a.message,d=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,f=a.outgoing,g=a.isSecureMessage,h=a.reactions,j=a.renderAttachment,k=a.hasMessageEmphasisRing,l=a.prevMessage,m=a.nextMessage;a=a.hasClickState;var n=a!==void 0?a:!1;a=b("MWClickedMessageContext.react").useHook();var o=a.setClickedMessageId,p=a.hasError,q=a.fetchMessageSeenCount,r=a.clickedMessageId,s=i.useCallback(function(a){a=r===c.messageId;if(a&&!p)return b("bs_curry")._1(o,void 0);else return b("bs_curry")._2(q,c.threadKey,c.messageId)},[r,c,p]);return i.jsx(b("MWPBaseMessage.bs").make,{message:c,reactions:h,isFirstMessageInGroup:d,isLastMessageInGroup:e,outgoing:f,renderAttachment:function(a,d,e,f,h,c,l){return j!==void 0&&g?b("bs_curry")._4(j,a,d,e,c):i.jsx(b("MWMessageListAttachmentContainer.bs").make,{message:a,connectTop:f,connectBottom:h,hasText:l,outgoing:c,hasEmphasisRing:k})},renderMessageFooter:function(a,d,c){return i.jsx(b("MWPMessageFooter.react").MWPMessageFooter,{children:d.length>0?i.jsx(b("MWPMessageReactions.bs").make,{message:a,outgoing:c,reactions:d,children:function(c,d,a,e,f){return i.jsx(b("MWMessageReactionsContainer.bs").make,{count:d,emojis:c,messageId:e,reactions:a,threadKey:f})}}):null,outgoing:c})},renderUnsentMessage:function(a,c){return i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:a,children:i.jsx(b("MWV2ChatUnsentMessage.bs").make,{message:a,outgoing:c,isSecureMessage:g})})},renderEmoji:function(a){if(g&&(b("bs_caml_obj").caml_equal(a.hotEmojiSize,b("LSHotEmojiSize.bs").small)||b("bs_caml_obj").caml_equal(a.hotEmojiSize,b("LSHotEmojiSize.bs").medium)||b("bs_caml_obj").caml_equal(a.hotEmojiSize,b("LSHotEmojiSize.bs").large))&&b("MAWGating.bs").isHotLikeEnabled(void 0))if(b("cr:1584")==null)return null;else return i.jsx(b("cr:1584").make,{});else return i.jsx(b("MWV2ChatEmoji.bs").make,{message:a,hasEmphasisRing:k})},renderMessageBubble:function(a,d,e,f,c){return i.jsx(b("MWV2ChatBubble.bs").make,{children:i.jsx(b("MWV2ChatText.bs").make,{message:a,outgoing:c,isSecureMessage:g}),connectTop:d,connectBottom:e,precedesXMA:f,outgoing:c,message:a,hasEmphasisRing:k})},renderMessageContainer:function(a,d){a=i.jsx(b("MWPMessageLoggingWrapper.bs").make,{messageId:c.messageId,offlineThreadingId:c.offlineThreadingId,children:i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:c,children:a}),xstyle:n?[!1]:d});if(n)return i.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._1(s,void 0)},overlayDisabled:!0,xstyle:function(a){return d},children:a});else return a},prevMessage:l,nextMessage:m})}var p=i.memo(a);d={make:p};function q(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return i.useMemo(function(){var a=b("gkx")("571")?"12px":b("bs_caml_obj").caml_equal(c,"Inbox")?"16px":"8px";return{light:{"mwp-message-list-profile-start-padding":a},dark:{"mwp-message-list-profile-start-padding":a},type:"VARIABLES"}},[c])}e=b("cr:3887")==null?void 0:b("bs_caml_option").some(b("cr:3887"));function c(a){var c=a.prevMessage,d=a.message,e=a.nextMessage,f=a.threadType,g=a.isSecureMessage,r=a.isModal,s=a.stopHoveringRef,t=a.domElementRef,u=a.hasMessageEmphasisRing,v=a.renderAttachment;a=a.displayMode;a=a!==void 0?a:"standard";var w=a==="pinnedMessages";a=b("MWPActor.bs").useActor(void 0);var x=b("MWClickedMessageContext.react").useHook(),y=x.clickedMessageId,z=w||b("MWPMessageParsingUtils.bs").isStartOfGroup(d,c),A=w||b("MWPMessageParsingUtils.bs").isEndOfGroup(d,e),B=b("MWCMThreadTypes.bs").isAnyCMThread(f),C=b("MWCMThreadTypes.bs").isBroadcastThread(f),D=b("LSMessagingThreadTypeUtil.bs").isGroup(f);x=b("LSMessagingThreadTypeUtil.bs").isSecure(f);var E=C&&b("gkx")("6706"),F=!w&&b("bs_caml").i64_eq(d.senderId,a);f=d.textHasLinks;a=e===void 0;var G=b("UseMWIsXMARoom.bs").useHook(d),H=!F&&(f||G)&&a&&!w,I=b("MWPMessageReactions.bs").useReactions(d);f=i.useState(function(){return!1});var J=f[1],K=f[0];G=i.useState(function(){return!1});var L=G[1],M=G[0],N=b("useCometUniqueID")();a=i.useState(function(){return!1});var O=a[1],P=a[0],Q=!F,R=Q&&D,S=b("MWPMessageIsReply.bs").make(d),T=I.length>0;f=d.replySourceId;G=d.replyMediaExpirationTimestampMs;var U=f!==void 0?G!==void 0?b("bs_caml").i64_gt(G,b("bs_caml_int64").zero):!0:!1,V=function(a){return i.jsx(b("MWText.react"),{color:"secondary",type:"meta4",children:a})},W=q(void 0);if(d.isAdminMessage){a=i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWV2ChatAdminMessage.bs").make,{prevMessage:c,message:d,nextMessage:e}),i.jsx(b("MWMessageListAttachmentContainer.bs").make,{message:d,connectTop:!1,connectBottom:!1,outgoing:F,xstyle:j.adminMessageAttachment})],centered:!0});if(d.adminMsgCtaType===void 0)f=i.jsx(b("MWV2MessageRowSimple.bs").make,{children:a});else{G={message:d,prevMessage:c,nextMessage:e,messageDomID:N,outgoing:F,stopHoveringRef:s,setFocused:J,setHovered:L,children:a,isModal:r,isDialogOpened:P,setIsDialogOpened:O,isFocused:K,theme:W};a=z?void 0:b("bs_caml_option").some(t);a!==void 0&&(G.domElementRef=b("bs_caml_option").valFromOption(a));f=i.jsx(b("MWPMessageListRowWithKeyboardInteractions.bs").make,G)}}else f=i.jsxs(i.Fragment,{children:[z&&!w?i.jsx(b("MWV2MessageStartOfGroupContent.bs").make,{message:d,prevMessage:c,domElementRef:t}):null,i.jsx(b("MWPMessageRowCalculateStatus.bs").make,{children:function(a){if(S){var f,k=0;w||b("cr:3886")==null?k=1:f=i.jsx(n.make,{message:d,outgoing:F,alreadyRenderedPin:!1,children:i.jsx(b("MWRepliedMessage.bs").make,{message:d,outgoing:F,isSecureMessage:g})});k===1&&(f=i.jsx(b("MWRepliedMessage.bs").make,{message:d,outgoing:F,isSecureMessage:g}));k=i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.reply,F?j.alignEnd:!1,U?j.replyMargin:!1),children:i.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ReplyError.bs").make,{outgoing:F})},children:f}),grow:!0})})}else k=null;var q,x=0;w||b("cr:3886")==null?x=1:q=i.jsx(n.make,{message:d,outgoing:F,alreadyRenderedPin:S,children:i.jsx(p,{message:d,isFirstMessageInGroup:z,isLastMessageInGroup:A,outgoing:F,isSecureMessage:g,reactions:I,renderAttachment:v,hasMessageEmphasisRing:u,prevMessage:c,nextMessage:e,hasClickState:E})});x===1&&(q=i.jsx(p,{message:d,isFirstMessageInGroup:z,isLastMessageInGroup:A,outgoing:F,isSecureMessage:g,reactions:I,renderAttachment:v,hasMessageEmphasisRing:u,prevMessage:c,nextMessage:e,hasClickState:E}));x=E&&y===d.messageId;k={message:d,prevMessage:c,nextMessage:e,messageDomID:N,outgoing:F,stopHoveringRef:s,setFocused:J,setHovered:L,children:[i.jsx(b("MWPBaseMessageRowHeader.bs").make,{isFirstMessageInGroup:z,message:d,outgoing:F,renderSenderName:function(a){return i.jsx(b("MWPMessageSenderName.bs").make,{message:a})},renderPinnedText:function(a,c){if(w||b("cr:3885")==null)return null;else return i.jsx(l.make,{divider:c?i.jsx(b("CometMiddot.react"),{}):null,message:a})},renderForwardSnippet:function(a,c){return i.jsx(b("MWForwardedContent.bs").make,{message:a,outgoing:c})},renderReplySnippet:function(a,c){return i.jsx(b("MWReplySnippet.bs").make,{message:a,outgoing:c})},renderTimestamp:w?V:void 0,renderTextWrapper:function(a){return i.jsx(b("MWText.react"),{color:"secondary",type:"meta4",children:a})},isGroupThread:D,alwaysRenderSenderName:w}),i.jsxs(i.Fragment,{children:[z&&!R?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:2}):null,k,i.jsx(b("MWPBaseMessageListRow.bs").Body.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ChatErrorBubble.bs").make,{isReply:S})},children:q}),message:d,renderProfile:function(a){return i.jsx(b("MWV2MessageProfilePhoto.bs").make,{message:d,isLastMessageInGroup:A,isGroupThread:D,ariaHidden:D?!r:!0})},renderMessageActions:function(a){if(w)if(b("cr:3887")==null)return null;else return i.jsx(b("cr:3887").make,{hidden:!M&&!K,message:d});else return i.jsx(b("MWMessageRowActions.bs").make,{message:d,focused:K||P||r,hovered:M,hasReactions:T,outgoing:F,ariaHidden:r===!1})},renderGutterItem:function(c){c=b("gkx")("6159");if(C&&c)return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.emptyGutter)});if(w)return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.emptyGutter)});c=d.subscriptErrorMessage;var e={status:a,incoming:!1,xstyle:j.gutter};c=c!==void 0&&B?c:void 0;c!==void 0&&(e.errorMessage=b("bs_caml_option").valFromOption(c));return i.jsx(b("MWChatGutterItem.bs").make,e)},hasReactions:T,outgoing:F}),!(b("cr:3408")==null)&&H?i.jsx(o.make,{}):null,b("cr:3884")==null?null:i.jsx(m.make,{nextMessage:e}),x?i.jsx(i.Fragment,{children:i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:6})}):A?i.jsx(i.Fragment,{children:i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:7})}):null]}),w?null:i.jsx(b("MWPBaseMessageListRow.bs").Footer.make,{message:d,nextMessage:e,children:function(c){return i.jsx(b("MWV2MessageEndOfGroupContent.bs").make,{status:a,isTextOnly:C,alignLeft:E&&Q})},showContent:E})],isModal:r,isDialogOpened:P,setIsDialogOpened:O,isFocused:K,theme:W};x=z?void 0:b("bs_caml_option").some(t);x!==void 0&&(k.domElementRef=b("bs_caml_option").valFromOption(x));return i.jsxs(b("MWPMessageListRowWithKeyboardInteractions.bs").make,k)},message:d,nextMessage:e,isBroadcastThread:C,isSecureGroupThread:x&&D})]});return i.jsxs(i.Fragment,{children:[f,b("cr:4443")==null?null:i.jsx(k.make,{})]})}a=i.memo(c);f.styles=j;f.$MWExtraPinnedMessagePadding$requireCond=b("cr:3884");f.$MWPMessagePinnedText$requireCond=b("cr:3885");f.$MWPinnedMessageOverlay$requireCond=b("cr:3886");f.$MWPinnedMessageRowFooterNUXWrapperRequireNUX$requireCond=b("cr:3408");f.$MWRenderCounter$requireCond=b("cr:4443");f.$MAWHotLike$requireCondXplat=b("cr:1584");f.Message=d;f.useTheme=q;f.$MWPinnedMessageDropdownButton$requireCond=b("cr:3887");f.mwPinnedMessageDropdownButton=e;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWPActor.bs","MWPGetThreadTitle.bs","ReQL.bs","ReQLSuspense","bs_belt_Option","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("MWPActor.bs").useActor(void 0),d=b("useReStore")(),e=b("ReQLSuspense").useArray(function(){var c;return(c=b("ReQL.bs")).take(c.leftJoin(c.getKeyRange(c.fromTableAscending(d.table("participants")),{hd:a.threadKey,tl:0}),c.fromTableAscending(d.table("contacts"))),8)},[a.threadKey]);return i.useMemo(function(){var d=a.threadName;if(d!==void 0)return g._("__JHASH__NOo4A_R8oVU__JHASH__",[g._param("name of conversation",d)]).toString();d=b("bs_belt_Option").getWithDefault(b("MWPGetThreadTitle.bs").computeThreadTitle(void 0,a,e,c),"");return g._("__JHASH__KCW8qihKWub__JHASH__",[g._param("participant list",d)]).toString()},[c,e,a.threadName])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSMailboxMessagesRangeQueryDirection",[],function(a,b,c,d,e,f){a=Object.freeze({BEFORE:0,AFTER:1});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"ps47xuy1",animationName:"gnt665bi",transform:"kv1k6w7c"},animateOut:{animationDuration:"ps47xuy1",animationName:"osju5zpu",transform:"aczymaz1"},animationWrapper:{bottom:"z6erz7xo",position:"s8sjc6am",start:"m2wxljg9",zIndex:"b0ur3jhr"},root:{height:"nuz1ool1",position:"om3e55n1",width:"mfclru0v"}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:c("stylex")(l.root),children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPVisibleMessageContext.re",["MWPVisibleMessageContext.bs"],function(a,b,c,d,e,f){a=b("MWPVisibleMessageContext.bs").Provider.make;f.Provider_make=a;c=b("MWPVisibleMessageContext.bs").useHook;f.useHook=c;d=b("MWPVisibleMessageContext.bs").Provider;f.Provider=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","I64","IntersectionObserver","LS.re","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessagingThreadTypeUtil.re","LSOptimisticMarkThreadReadV2","MWMarkThreadAsReadWhenNewMessagesArrive.re","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.re","MWPVisibleMessageContext.re","ReQL","ReQLPaginatedList.react","ReQLSuspense","ServerTime","cr:4031","intersectionObserverEntryIsIntersecting","promiseDone","react","regeneratorRuntime","stylex","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useImperativeHandle,l=e.useRef,m=e.useState,n={container:{isolation:"sl5dfbbs",zIndex:"g4tp4svg"},list:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",overflowX:"lq84ybu9",overflowY:"hf30pyar"},observed:{height:"ebnioo9u",marginTop:"rdsw9yci",pointerEvents:"l10tt5db",position:"s8sjc6am"},spacer:{backgroundColor:"lg77cbj3",display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g"}},o=d("I64").of_string("9999999999999"),p=5;function q(a){var b=a.messageId,c=a.primarySortKey,e=a.secondarySortKey;a=a.threadKey;return d("ReQL").key(a,c,e,b)}function r(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function s(a,e,f){c("promiseDone")(a.runInTransaction(function(a){var g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(a.table("messages_ranges_v2__generated").get(e));case 2:g=h.sent;if(!(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))){h.next=5;break}return h.abrupt("return");case 5:return h.abrupt("return",c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(f==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),d("LS.re").make(a)));case 6:case"end":return h.stop()}},null,this)},"readwrite"))}function t(a,b,e,f){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,e,f,d("LS.re").make(a))},"readwrite"))}function u(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,e){var f=a.children,g=a.onScroll,v=a.renderFooter,w=a.renderHeader,x=a.renderJumpToMostRecentMessageButton,y=a.renderLoadingAnimation,aa=a.renderRow,z=a.thread,A=z.threadKey,B=z.threadType,C=c("useReStore")(),D=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(C.table("messages_ranges_v2__generated")).getKeyRange(A)},[C,A]),E=l(new Map()),F=l(null),G=c("LSMessagingThreadTypeUtil.re").isSecure(B);a=b("cr:4031");var H=a==null?void 0:a.useFetchSecureMessages(A);a=m([D,void 0]);var I=a[0],J=a[1];a=d("MWPVisibleMessageContext.re").useHook();var ba=a.setVisibleMessage,K=a.visibleMessage;a=(a=K)!=null?a:{};var L=a.messageId,M=a.timestamp,N=d("ReQLSuspense").useFirst(function(){return L!=null&&M!=null?d("ReQL").fromTableAscending(C.table("messages")).getKeyRange(A,M,L):d("ReQL").empty()},[C,A,L,M]),O=r(d("ReQLSuspense").useFirst(function(){return M!=null?d("ReQL").fromTableDescending(C.table("messages_ranges_v2__generated")).getKeyRange(A).bounds({lte:{hd:M,tl:0}}):d("ReQL").empty()},[C,M,A]),M);j(function(){L==null||M==null?J([D,void 0]):O==null?t(C,A,L,B):O.minMessageId===L&&O.hasMoreBefore?s(C,d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId),"before"):O.maxMessageId===L&&O.hasMoreAfter?s(C,d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId),"after"):N!=null&&J([O,N])},[C,N,L,O,D,JSON.stringify(A),JSON.stringify(B),JSON.stringify(M)]);j(function(){var a;a=(a=E.current.get(K==null?void 0:K.messageId))==null?void 0:a.current;a!=null&&a.scrollIntoView()},[K]);var P=I[0];a=I[1];I=d("ReQLSuspense").useFirst(function(){return P!=null?d("ReQL").fromTableAscending(C.table("messages")).getKeyRange(P.threadKey).bounds({gte:d("ReQL").key(P.minTimestampMs,P.minMessageId)}):d("ReQL").empty()},[C,P]);var Q=d("ReQLSuspense").useFirst(function(){return P!=null?d("ReQL").fromTableDescending(C.table("messages")).getKeyRange(P.threadKey).bounds({lte:d("ReQL").key(P.maxTimestampMs,P.maxMessageId)}):d("ReQL").empty()},[C,P]),R=m(!0),ca=R[0],da=R[1],S=l(),T=F.current,U=S.current;j(function(){if(U!=null&&T!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];return da(c("intersectionObserverEntryIsIntersecting")(a))},{root:T,rootMargin:"360px"});a.observe(U);return function(){return a.disconnect()}}},[T,U]);var V=P!=null?!P.hasMoreAfter:!1;R=i(function(){var a=F.current;return a==null?!1:a.scrollHeight-a.scrollTop-a.clientHeight<p&&V},[V]);var W=i(function(){c("promiseDone")(C.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(z.threadKey,d("I64").of_float(d("ServerTime").getMillis()),d("LS.re").make(a))},"readwrite"))},[JSON.stringify(z.authorityLevel),JSON.stringify(z.threadKey)]),X=d("MWMarkThreadAsReadWhenNewMessagesArrive.re").useHook({checkIsAtBottom:R,lastMessage:Q,markThreadAsRead:W,thread:z});j(function(){if(U!=null&&T!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];c("intersectionObserverEntryIsIntersecting")(a)&&X()},{root:T,rootMargin:"0px"});a.observe(U);return function(){return a.disconnect()}}},[T,U,X]);var Y=l();R=P!=null&&d("I64").equal(P.maxTimestampMs,o);W=P!=null&&d("I64").equal(P.minTimestampMs,d("I64").zero);function Z(){P===D&&(T!=null&&(Y.current!=null&&Y.current.scrollToBottom())),ba(function(){return void 0})}k(e,function(){return{jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){Z()})}});if(P==null||I==null&&!W||Q==null&&!R)return y!=null?y():null;var $=d("ReQL").key(P.threadKey,P.minTimestampMs,P.minMessageId);e=a==null?"bottom":q(a);return h.jsxs("div",{className:c("stylex")(n.list),children:[h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:I==null||W?d("ReQL").key(A):q(I),lte:Q==null||R?d("ReQL").key(A):q(Q)},hasReachedBottom:!P.hasMoreAfter,hasReachedTop:!P.hasMoreBefore,imperativeRef:Y,initialAnchor:e,onReachingBottom:function(){G&&H!=null?H():s(C,$,"after"),X()},onReachingTop:function(){G&&H!=null?H():s(C,$,"before")},onScroll:g,renderContent:function(a){return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsxs("div",{className:c("stylex")(n.container),children:[f(a),h.jsx("div",{className:c("stylex")(n.observed),ref:S})]})})},renderFooter:v,renderHeader:w,renderHeaderContentSpacer:function(){return h.jsx("div",{className:c("stylex")(n.spacer)})},renderItem:function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.re").make,{contactId:a.senderId,threadKey:a.threadKey,children:aa({domElementRef:u(E.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.messageId)},renderLoadingAnimation:y,scrollAreaElementRef:F,table:C.table("messages").index("messageDisplayOrder"),xstyle:n.list}),x&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!ca||P.hasMoreAfter,children:x(Z)})]})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPMessageListFocusTable.bs",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","bs_caml_option","focusScopeQueries","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={grid:{borderStart:"hkn4rbhj",borderEnd:"qmz08dgh",overflowX:"lq84ybu9",overflowY:"hf30pyar"}};function k(a,b,c){return b["data-scope"]==="date_break"}function a(a){var c=a.modal,d=a.setModal,e=a.children,f=a.ariaLabel,g=a.wrapX;a=a.wrapY;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var l=i.useCallback(function(a){var c=a.type;switch(c){case"PAGE_DOWN":case"PAGE_UP":break;default:return}c=a.type==="PAGE_DOWN";a.preventDefault();var d=a.currentRowIndex+(c?1:-1)|0,e=!1;while(!e){var f=a.getCell(d,a.currentCellIndex);if(f==null){var g=a.getCell(c?d-1|0:0,a.currentCellIndex);g==null||a.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!==void 0?b("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(k):null;g==null?d=c?d+1|0:d-1|0:(a.focusCell(f),e=!0)}}},[]);return i.jsx(b("MWV2MessageListIsRowModalContext.bs").Provider.make,{children:i.jsx(b("FocusRegion.react").FocusRegion,{recoverFocusQuery:b("MWMessageTableFocusTable.bs").scopeQuery,children:i.jsx(b("MWMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,allowModifiers:!0,children:i.jsx("div",{role:"grid","aria-label":f,className:(h||(h=b("stylex")))(j.grid),children:e}),disabled:c!=="",onNavigate:l})}),value:d})}c=a;f.styles=j;f.dateBreakQuery=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPTypingIndicators.bs",["fbt","BaseTheme.react","CometScreenReaderText.react","LSMediaUrl.bs","MWBaseTheme.bs","MWChatTypingIndicator.bs","MWPMessageListColumn.bs","MWPSolidMessageBubble.bs","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSuspense","ServerTime","TetraOverlappingFacepile.react","bs_belt_Array","bs_caml_int64","bs_curry","clearTimeout","react","setTimeout","stylex","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{alignItems:"gldv74r8",display:"alzwoclg",paddingTop:"ngbj85sm",flexShrink:"jez8cy9q",paddingBottom:"o9wcebwi"}};function l(a,b){a=a.nickname;if(a!==void 0)return a;a=b.firstName;if(a!==void 0)return a;else return b.name}function m(a){var c=b("useReStore")(),d=b("ReQLSuspense").useArray(function(){var d;return(d=b("ReQL.bs")).take(d.filter(d.map(d.filter(d.getKeyRange(d.fromTableAscending(c.table("typing_indicator")),{hd:a,tl:0}),function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(a.expirationTimestampMs)}),function(e){var d,f=b("ReQLSuspense").first((d=b("ReQL.bs")).getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a,tl:{hd:e.senderId,tl:0}}));d=b("ReQLSuspense").first(d.getKeyRange(d.fromTableAscending(c.table("contacts")),{hd:e.senderId,tl:0}));if(f!==void 0&&d!==void 0)return[f,d,e]}),function(a){return a!==void 0}),3)},[c,a]);return b("bs_belt_Array").keepMap(d,function(a){return a})}function n(a){return j.useMemo(function(){var b=a.length;if(b!==1)if(b!==0)return g._("__JHASH__YLfbVFP1cLb__JHASH__");else return"";b=a[0];return g._("__JHASH__Tbm_Qb_Y-B5__JHASH__",[g._param("The participants name",l(b[0],b[1]))])},[a])}function o(a){a=a.typingParticipants;var c=a.reduce(function(a,c){return Math.max(a,b("bs_caml_int64").to_float(c[2].expirationTimestampMs))},0),d=j.useState(function(){return c>b("ServerTime").getMillis()}),e=d[1];j.useEffect(function(){b("bs_curry")._1(e,function(a){return c>b("ServerTime").getMillis()});var a=c-b("ServerTime").getMillis(),d=b("setTimeout")(function(a){return b("bs_curry")._1(e,function(a){return!1})},a);return function(a){b("clearTimeout")(d)}},[c,e]);var f=j.jsx(b("MWPSolidMessageBubble.bs").make,{children:j.jsx(b("MWChatTypingIndicator.bs").make,{}),style:{backgroundColor:"var(--wash)"},connectTop:!1,connectBottom:!1,precedesXMA:!1,outgoing:!1});if(d[0])return j.jsxs("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.root),children:[j.jsx(b("MWPMessageListColumn.bs").Profile.make,{children:j.jsx(b("TetraOverlappingFacepile.react"),{items:a.map(function(a){return{source:{uri:b("LSMediaUrl.bs").Contact.profilePictureUrl(a[1])}}}),size:28,withWrapper:!1}),selfCentered:!0}),f]});else return null}c={make:o};function a(a){var c=a.threadKey;a=a.theme;a=a!==void 0?a:b("MWBaseTheme.bs").empty;c=m(c);var d=n(c);if(c.length>0)return j.jsx(b("BaseTheme.react"),{config:a,children:j.jsx(b("MWV2MessageRowSimple.bs").make,{children:j.jsxs(b("MWPMessageListColumn.bs").Grow.make,{children:[j.jsx("div",{"aria-live":"polite",children:j.jsx(b("CometScreenReaderText.react"),{text:d})}),j.jsx(o,{typingParticipants:c})]})})});else return null}d=a;f.styles=k;f.getNameForContact=l;f.useTypingParticipants=m;f.useAccessibilityText=n;f.TypingIndicator=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageList.bs",["CometPagelet.react","LSMessagingThreadTypeUtil.bs","MWClickedMessageContext.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.bs","MWMessageRow.bs","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.react","MWPMessageListFocusTable.bs","MWPThreadCapabilitiesContext.bs","MWPTypingIndicators.bs","MWPVisibleMessageContext.bs","MWV2MessageActionsVisibility.bs","bs_caml","bs_caml_option","cr:4242","react","useCometUniqueID"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:4242")==null?void 0:b("bs_caml_option").some(b("cr:4242"));function j(a){return h.jsx(b("MWInboxThreadMessagesSpinner.react"),{})}function a(a,c){var d=a.thread,e=a.renderHeader;a=a.renderFooter;var f=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef(void 0),g=h.useState(function(){return""}),k=g[1],l=g[0],m=b("useCometUniqueID")(),n=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType),o=b("MWPAriaLabelForMessageListGrid.bs").useHook(d);g=b("MWPVisibleMessageContext.bs").useHook(void 0);var p=g.visibleMessage,q=h.useMemo(function(){return d.threadType},[JSON.stringify(d.threadType)]);g={thread:d,children:function(a){a=h.jsxs(h.Fragment,{children:[a,h.jsx(b("MWPTypingIndicators.bs").make,{threadKey:d.threadKey})]});return h.jsx("div",{"data-testid":"mw_message_list",id:m,children:h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(b("MWPThreadCapabilitiesContext.bs").Provider.make,{children:h.jsx(b("MWPMessageListFocusTable.bs").make,{modal:l,setModal:k,children:b("cr:4242")==null?a:h.jsx(i.make,{children:a,id:m}),ariaLabel:o}),thread:d})})})},ref:c,renderRow:function(a){var c=a.message,e=n?b("bs_caml").i64_eq(d.threadKey,c.threadKey):!1,g;if(p==null)g=!1;else{var i=p.source;g=p.messageId===c.messageId&&(i===1||i===2)}return h.jsx(b("MWMessageRow.bs").make,{prevMessage:a.prevMessage,message:c,nextMessage:a.nextMessage,threadType:q,isSecureMessage:e,isModal:l===c.messageId,stopHoveringRef:f,domElementRef:a.domElementRef,hasMessageEmphasisRing:g})},renderJumpToMostRecentMessageButton:function(a){return h.jsx(b("MWJumpToMostRecentMessageButton.bs").make,{onPress:a})},renderLoadingAnimation:j};e!==void 0&&(g.renderHeader=b("bs_caml_option").valFromOption(e));a!==void 0&&(g.renderFooter=b("bs_caml_option").valFromOption(a));return h.jsx(b("MWClickedMessageContext.react").Provider,{children:h.jsx(b("MWPBaseMessageList.react"),g)})}c=h.forwardRef(a);f.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDualSendPermissionsManager.bs",["LSInt64.bs","MAWDualSendSimplePermissionsManager.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MessagingThreadType.bs","bs_caml","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").oneToOne))return b("bs_caml").i64_neq(a,b("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1}function j(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").group))return b("bs_caml").i64_neq(a,b("MessagingThreadType.bs").secureMessageOverWaGroup);else return!1}function k(a,c){if(i(a)&&c===1)return[b("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendTextUser(void 0),b("MAWDualSendSimplePermissionsManager.bs").isOneToOneDualSendMediaUser(void 0)];else if(j(a)&&c===2)return[b("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendTextUser(void 0),b("MAWDualSendSimplePermissionsManager.bs").isGroupDualSendMediaUser(void 0)];else return[!1,!1]}function l(a,c,d){var e=b("MWV2UseAreThreadContactsDualSendEligible.bs").useThreadEligiblity(c,d);d=k(d,e);var f=d[1],g=d[0];return h.useMemo(function(){if(a==="media")return f;else return g},[b("LSInt64.bs").string(c),g,f,a,e])}function a(a,b){var c=l("text",a,b);a=l("media",a,b);if(c)return!0;else return a}f.usePermission=l;f.useIsThreadEligible=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDualSendPermissionsManager.re",["MAWDualSendPermissionsManager.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MAWDualSendPermissionsManager.bs").useIsThreadEligible,a,c);return a};f.useIsThreadEligible=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSThread.re",["MWLSThread.bs"],function(a,b,c,d,e,f){a=b("MWLSThread.bs").useThread;f.useThread=a;c=b("MWLSThread.bs").useThreadExn;f.useThreadExn=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSThreadReportingToken.re",["MWLSThreadReportingToken.bs"],function(a,b,c,d,e,f){a=b("MWLSThreadReportingToken.bs").fromThread;f.fromThread=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSThreadType.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoized(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(d!==void 0)return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:d,tl:0}),function(a){return a.threadType});else return b("SortedAsyncIterable.bs").empty(void 0)},[c,d]))}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWOtherRecipientOneToOneThread.bs",["LSMessagingThreadTypeUtil.bs","MWLSThreadType.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadKey.bs").useIdMemoized(void 0);a=b("MWLSThreadType.bs").useHook(void 0);var d=b("useReStore")(),e=b("MWPActor.bs").useActor(void 0),f=b("bs_belt_Option").mapWithDefault(a,!1,b("LSMessagingThreadTypeUtil.bs").isOneToOne);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(c!==void 0&&f)return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c)]))}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReply.bs",["CometImage.react","MDSTextPairing.react","bs_caml_option","bs_curry","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignItems:"i85zmo3j",backgroundColor:"lg77cbj3",borderTop:"havy72dr",borderEnd:"m6k3o6zj",borderBottom:"hkajj1d8",borderStart:"mh8swcp7",borderTopStartRadius:"n1tycefo",borderTopEndRadius:"hjca6b3d",borderBottomEndRadius:"pujv42rp",borderBottomStartRadius:"nnnzfr32",boxShadow:"tlof4y1e",boxSizing:"bdao358l",cursor:"fsf7x5fv",fontFamily:"no6h3tfh",fontWeight:"tpi2lg9u",justifyContent:"jcxyg2ei",marginTop:"fzsidkae",marginEnd:"h07fizzr",marginBottom:"l3gxykhd",marginStart:"jbg88c62",overflowWrap:"l4uc2m3f",paddingBottom:"n68fow1o",paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w",paddingTop:"pvreidsc",textAlign:"ztn2w49o",wordBreak:"t7p7dqev"},image:{borderTopStartRadius:"s2rrnb06",borderTopEndRadius:"ip22jx6y",borderBottomEndRadius:"ob8im9oz",borderBottomStartRadius:"kmkg2yfl","float":"o3hwc0lp",height:"jj9akiot",marginTop:"gu5uzgus",marginEnd:"bwjycg1r",marginBottom:"siwo0mpr",marginStart:"snu7ymun",width:"b8yt45sl"},vertical:{paddingBottom:"rj2hsocd",paddingEnd:"aesu6q9g",paddingStart:"e4jbjxdy"}};function a(a){var c=a.bodyLineLimit,d=a.quickReplyVertical,e=a.onClick,f=a.text;a=a.imageUrl;c=c!==void 0?c:1;d=d!==void 0?d:!1;a=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;return i.jsx("div",{className:(h||(h=b("stylex")))(d?j.vertical:!1),children:i.jsxs("button",{className:h(j.root),onClick:function(a){return b("bs_curry")._1(e,void 0)},children:[a!==void 0?i.jsx(b("CometImage.react"),{src:a,xstyle:[j.image]}):null,i.jsx(b("MDSTextPairing.react"),{body:f,level:3,bodyLineLimit:c})]})})}c=32;d=a;f.mediumHeight=c;f.styles=j;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","bs_caml_option","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(a){return b("bs_curry")._1(c,d)},g=d.image_url;return h.jsx(b("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:e,quickReplyVertical:a,onClick:f,text:d.title,imageUrl:g!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(g)):void 0})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c&&d&&a&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserEmailQuery").useUserEmailDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.onSend,d=a.quickReply,e=a.userID;a=a.quickReplyVertical;var f=b("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),g=h.useState(function(){}),i=g[1];g=g[0];h.useEffect(function(){f(function(a){return b("bs_curry")._1(i,function(b){return a})})},[e,f,i]);if(g===void 0)return null;e=d.content_type;var j=d.data,k=d.image_url;d=d.payload;var l={content_type:e,data:j,image_url:k,payload:d,title:g};e=function(a){return b("bs_curry")._1(c,l)};return h.jsx(b("MWChatBusinessQuickReply.bs").make,{quickReplyVertical:a,onClick:e,text:g})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","LSQuickReplyType.bs","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={mask:{backgroundColor:"lg77cbj3"},container:{position:"om3e55n1",width:"mfclru0v"},pillContainer:{backgroundColor:"lg77cbj3",display:"alzwoclg",flexDirection:"jl2a5g8c",flexWrap:"sr926ui1",paddingTop:"ngbj85sm",paddingEnd:"b0eko5f3",paddingBottom:"n68fow1o",paddingStart:"fwlpnqze"},pillContainerVertical:{backgroundColor:"lg77cbj3",display:"alzwoclg",flexDirection:"cqf1kptm",alignItems:"gldv74r8",paddingTop:"gy87pps4"}};function a(a){var c=a.arrayQR,d=a.onSend,e=a.id;a=a.quickReplyType;a=a!==void 0?a:b("LSQuickReplyType.bs").none;var f=b("bs_caml").i64_eq(a,b("LSQuickReplyType.bs").vertical);i.useEffect(function(){b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").RENDER_QUICK_REPLIES,other_user_fbid:e}})},[e]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.container,j.mask),children:i.jsx(b("CometScrollableArea.react"),{horizontal:!0,children:i.jsx("div",{className:h(f?j.pillContainerVertical:j.pillContainer),children:c.map(function(a,c){var e=b("CurrentUser").getID(),g=a.content_type;switch(g){case"text":return i.jsx(b("MWChatBusinessQuickReplyText.bs").make,{onSend:d,quickReply:a,quickReplyVertical:f},String(c));case"user_birthday":return i.jsx(b("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:f},String(c));case"user_email":return i.jsx(b("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:f},String(c));case"user_phone_number":return i.jsx(b("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:f},String(c));case"user_state":return i.jsx(b("MWChatBusinessQuickReplyUserState.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:f},String(c));case"user_zip_code":return i.jsx(b("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:d,quickReply:a,userID:e,quickReplyVertical:f},String(c));default:return null}})})})})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPQuickReplies.bs",["FBID.bs","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.lastMessageId,d=a.threadKey;a=a.quickReplyType;var e=b("LSMessagingSource.bs").useHook(void 0),f=b("useReStore")(),g=b("MWPActor.bs").useActor(void 0),i=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).filter(a.map(a.getKeyRange(a.fromTableAscending(f.table("quick_reply_ctas")),{hd:d,tl:{hd:c,tl:0}}),function(a){var c=a.type_;c=c==="quick_reply_text"?"text":c==="quick_reply_phone"?"user_phone_number":c==="quick_reply_email"?"user_email":(b("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:c,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.imageUrl)),payload:b("bs_caml_option").some(a.platformToken),title:a.title}}),function(a){return a.content_type!==""})},[f,c,d]));if(i.length>0)return h.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:i,onSend:function(a){var c=b("LSThreadAttributionTypeUtil.bs").getSource(d,e),h=b("LSTransaction.bs").run(f,function(e){var f=a.payload;if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var h=f==null?void 0:b("bs_caml_option").some(f);f=f==null?void 0:h}else f=void 0;return b("LSOptimisticSendMessage")(g,d,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,c,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,b("LS.bs").make(e)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(h,void 0,void 0)},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(g)),quickReplyType:a});else return null}c={make:i};function a(a){var c=a.threadKey,d=b("useReStore")();a=b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(d.table("messages")),{hd:c,tl:0})},[d,c]);if(a!==void 0)return h.jsx(i,{lastMessageId:a.messageId,threadKey:c,quickReplyType:a.quickReplyType});else return null}d=a;f.Impl=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSNullstateCTAType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.none=a;f.getStarted=c;f.icebreaker=d;f.privacyDisclosure=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743837");c=b("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743846");c=b("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","FBID.bs","JSResource","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSThreadTitle.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWMDotMeReferrerContext.bs","MWPActor.bs","MWText.react","MessageSendClickFalcoEvent","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","UseCurrentDisplayMode.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","qex","react","stylex","useCometLazyDialog","useCurrentDisplayMode","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pill:{alignItems:"i85zmo3j",backgroundColor:"lg77cbj3",borderTopStartRadius:"n1tycefo",borderTopEndRadius:"hjca6b3d",borderBottomEndRadius:"pujv42rp",borderBottomStartRadius:"nnnzfr32",boxShadow:"tlof4y1e",boxSizing:"bdao358l",color:"dpofnnmc",display:"fxk3tzhb",fontSize:"k1z55t6l",fontWeight:"tes86rjd",justifyContent:"jcxyg2ei",marginTop:"fzsidkae",marginEnd:"h07fizzr",marginBottom:"l3gxykhd",marginStart:"jbg88c62",overflowWrap:"l4uc2m3f",paddingTop:"d1v569po",paddingBottom:"onux6t7x",paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w",wordBreak:"t7p7dqev"},dark_mode_legible_text_pill:{alignItems:"i85zmo3j",backgroundColor:"j0r9xhvt",borderTopStartRadius:"n1tycefo",borderTopEndRadius:"hjca6b3d",borderBottomEndRadius:"pujv42rp",borderBottomStartRadius:"nnnzfr32",boxShadow:"tlof4y1e",boxSizing:"bdao358l",color:"rtxb060y",display:"fxk3tzhb",fontSize:"k1z55t6l",fontWeight:"tes86rjd",justifyContent:"jcxyg2ei",marginTop:"fzsidkae",marginEnd:"h07fizzr",marginBottom:"l3gxykhd",marginStart:"jbg88c62",overflowWrap:"l4uc2m3f",paddingTop:"d1v569po",paddingBottom:"onux6t7x",paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w",wordBreak:"t7p7dqev"}};function l(a){var c=a.onClick;a=a.children;var d=b("useCurrentDisplayMode")()===b("UseCurrentDisplayMode.bs").darkTheme;return j.jsx(b("CometPressable.react"),{onPress:c,overlayDisabled:!0,xstyle:function(a){return[d?k.dark_mode_legible_text_pill:k.pill]},children:a})}c={styles:k,make:l};var m={welcome_text:{paddingBottom:"eg9484fr",paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"},privacy_text:{paddingBottom:"q6feio67",paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"},privacy_text_offset:{paddingTop:"d2hqwtrz",paddingBottom:"rat9ptwp"},cta_list:{display:"alzwoclg",flexDirection:"cqf1kptm",alignItems:"gldv74r8",justifyContent:"jcxyg2ei",marginTop:"m8h3af8h",marginEnd:"l7ghb35v",marginBottom:"kjdc1dyq",marginStart:"kmwttqpk"},cta_list_item:{alignSelf:"gb2oqlaf",paddingStart:"e4ay1f3w",paddingEnd:"aesu6q9g",paddingBottom:"rj2hsocd",textAlign:"hsphh064"},cta_list_item_center:{alignSelf:"gb2oqlaf",paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w"}};function n(a,c,d){var e=b("useReStore")(),f=b("MWPActor.bs").useActor(void 0),g=b("MWMDotMeReferrerContext.bs").useContext(void 0);return j.useCallback(function(h){return function(i){var j=b("LSThreadAttributionTypeUtil.bs").getSource(a.threadKey,c),k=h!==void 0?b("bs_caml").i64_eq(h.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(h.ctaId,i.ctaId):!1,l=k?g:void 0;b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSOptimisticSendMessage")(f,a.threadKey,a.threadType,b("LSMailboxType.bs").messenger,i.title,void 0,void 0,void 0,void 0,void 0,void 0,j,l!==void 0?b("bs_caml_option").valFromOption(l):void 0,i.platformToken!==void 0?b("bs_caml_option").valFromOption(i.platformToken):void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0);var m=b("FBID.bs").ofString(b("bs_int64").to_string(a.threadKey)),n=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:c}}})},o=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{page:{id:c},quick_reply:{id:"",type:64},display:void 0}})};k?n(void 0):o(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[e,f,b("bs_int64").to_string(a.threadKey),c,g])}function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.lsSource;a=a.initiatingSource;f=f!==void 0?f:"unknown";var h=n(c,f,a);f=b("bs_caml_obj").caml_equal(b("qex")._("357"),!0)?g._("__JHASH__DEznlgE40i___JHASH__"):g._("__JHASH__SnAPOCvmUOd__JHASH__");a=g._("__JHASH__TiVBDUafVwm__JHASH__",[g._param("name",j.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,b){return b}})),g._param("= public info link",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/719578818758231",color:"primary",target:"_blank",role:"link",children:j.jsx(b("MWText.react"),{type:"body4",children:g._("__JHASH__Gh1QF47PUp7__JHASH__")})}))]);var k=d.privacyText;k=k!==void 0?j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:k}):null;var o=b("useCometLazyDialog")(b("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2ThreadNullstate.bs")),p=o[0];o=d.privacyTextCtaTitle;o=j.jsx(b("CometLink.react"),{color:"primary",target:"_blank",role:"link",children:o!==void 0?j.jsx(b("MWText.react"),{color:"blueLink",type:"body4",children:o}):null,onClick:function(a){p({entryPoint:"NULL_STATE",onClose:function(a){},threadKey:c.threadKey},function(a){}),b("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(a){return{page_id:b("bs_int64").to_string(c.threadKey),consumer_id:"0",entry_point:"NULL_STATE"}})}});var q=d.welcomeText,r=d.privacyText;q=j.jsxs("div",{children:[q!==void 0?e.length!==0?q!==f.toString()?j.jsxs("div",{children:[j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:q})}),j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:f})})]}):j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):q!==f.toString()?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:q})}):null:e.length!==0?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):null,j.jsx("ul",{className:(i||(i=b("stylex")))(m.cta_list),children:e.map(function(a){var c=b("bs_caml").i64_eq(d.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.ctaId,a.ctaId);return j.jsx("li",{className:(i||(i=b("stylex")))(m.cta_list_item,c?m.cta_list_item_center:!1),children:j.jsx(l,{onClick:function(c){return b("bs_curry")._2(h,d,a)},children:a.title})},b("bs_int64").to_string(a.ctaId))})}),r!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(m.privacy_text),children:j.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:b("gkx")("2386")&&b("bs_caml").i64_eq(d.privacyTextCtaType,b("LSNullstateCTAType.bs").privacyDisclosure)?j.jsxs(j.Fragment,{children:[k," ",o]}):a})}):null]});return j.jsx(b("CometScrollableArea.react"),{xstyle:m.privacy_text_offset,children:q})}d=a;f.Pill=c;f.styles=m;f.useSendIcebreakerMessage=n;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2PersistentIcebreakers.bs",["MWChatBusinessQuickReplyList.bs","MWPThreadTheme.bs","MWV2ThreadNullstate.bs","bs_caml_int64","bs_curry","bs_int64","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d){if(c.length!==0)return((d|0)-b("bs_caml_int64").to_int32(a.lastActivityTimestampMs)|0)>=216e5;else return!1}function c(a){var c=a.thread,d=a.nullstateCtas,e=a.lsSource;a=a.initiatingSource;e=e!==void 0?e:"unknown";var f=b("MWV2ThreadNullstate.bs").useSendIcebreakerMessage(c,e,a);c=b("MWPThreadTheme.bs").useHook(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatBusinessQuickReplyList.bs").styles.container,b("MWPThreadTheme.bs").isGradient(c)?b("MWChatBusinessQuickReplyList.bs").styles.mask:!1),children:i.jsx("ul",{className:h(b("MWChatBusinessQuickReplyList.bs").styles.pillContainerVertical),children:d.map(function(a){if(a.ctaType==="nullstate_icebreaker")return i.jsx("li",{className:(h||(h=b("stylex")))(b("MWV2ThreadNullstate.bs").styles.cta_list_item),children:i.jsx(b("MWV2ThreadNullstate.bs").Pill.make,{onClick:function(c){return b("bs_curry")._2(f,void 0,a)},children:a.title})},b("bs_int64").to_string(a.ctaId));else return null})})})}d=c;f.shouldShowPersistentIcebreakers=a;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","bs_caml_format"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_format").caml_int64_of_string("196241301102133");c={TAG:0,_0:{id:a,color:b("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",label:"Default Blue"}};f.defaultThemeInt64=a;f.defaultTheme=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MWChatHotlikeEmitter.bs").createEmitter(void 0),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{value:i,children:a})}d={make:a};function c(a){return h.useContext(j)}f.emitter=i;f.context=j;f.Provider=d;f.useHook=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometThrottle");function a(a,c,d){var e=c!==void 0?c:!1;h.useEffect(function(){if(!e)return;var c=b("Run").onUnload(function(c){return b("bs_curry")._1(a,!1)});return function(a){return c.remove()}},[e,a]);return h.useMemo(function(){var c={contents:!1},e=b("debounce")(function(d){if(!c.contents)return b("bs_curry")._1(a,!1)},d|0),f=i(function(c){return b("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(d){b("bs_curry")._1(a,!1),c.contents=!0},h=function(a){b("bs_curry")._1(f,void 0);return e(void 0)};return[h,g]},[a,d])}f.throttle=i;f.useLatch=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381").make,{}),!(b("cr:1799382")==null)&&a?h.jsx(b("cr:1799382").make,{}):null]})}c=b("cr:1799381");d=b("cr:1799382");e=a;f.$MWChatUnsendNUXReceiver$requireCond=b("cr:1799381");f.mwChatUnsendNUXReceiver=c;f.$MWChatUnsendNUXSender$requireCond=b("cr:1799382");f.mwChatUnsendNUXSender=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MWText.react","TetraButton.react","bs_curry","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={button:{flexGrow:"cgu29s5g",flexBasis:"jg3vgc78"},imageRow:{paddingTop:"ngbj85sm"},card:{width:"mfclru0v",position:"s8sjc6am",zIndex:"b0ur3jhr",backgroundColor:"lg77cbj3",boxShadow:"s7ceg5uy"}};function a(a){var c=a.onView;a=a.onDismiss;var d=g._("__JHASH__6a2Fgvho2wx__JHASH__"),e=g._("__JHASH__ZJi8hPzvWwM__JHASH__");return k.jsxs("div",{className:(j||(j=b("stylex")))(l.card),children:[k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[k.jsx(b("MDSRowItem.react"),{xstyle:[l.imageRow],children:k.jsx(b("CometSkittleIcon.react"),{color:"gray",size:36,icon:b("fbicon")._(h("685851"),16)})}),k.jsxs(b("MDSRowItem.react"),{expanding:!0,children:[k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MWText.react"),{color:"primary",type:"headline4",children:d})})}),k.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:k.jsx(b("MDSRowItem.react"),{children:k.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),k.jsxs(b("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k.jsx(b("MDSRowItem.react"),{xstyle:[l.button],children:k.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),dialogProps:{onClose:function(a){}},children:function(a){return k.jsx(b("TetraButton.react"),{label:g._("__JHASH__LPDl6ep1oBy__JHASH__"),type:"secondary",onPress:function(d){b("bs_curry")._1(a,void 0);return b("bs_curry")._1(c,void 0)}})}})}),k.jsx(b("MDSRowItem.react"),{xstyle:[l.button],children:k.jsx(b("TetraButton.react"),{label:g._("__JHASH__IRN53cEfYnc__JHASH__"),type:"secondary",onPress:a})})]})]})}c=a;f.styles=l;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return Date.now()-b("bs_caml_int64").to_float(b("bs_belt_Option").getWithDefault(a.unsentTimestampMs,b("bs_caml_int64").zero))<=1e4}function a(a){var c=b("MWPActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("useReStore")();a=h.useState(function(){return!1});var f=a[1],g=a[0],j=h.useRef(!1),k=h.useRef(!1),l=h.useRef(void 0);a=b("useMessengerUnsendNUX")(8568);var m=a[2],n=a[1],o=a[0],p=h.useCallback(function(a){a=l.current;if(a!==void 0){b("bs_curry")._1(a,void 0);l.current=void 0;return}},[]);a=h.useCallback(function(a){k.current=!0;b("bs_curry")._1(n,void 0);b("bs_curry")._1(p,void 0);return b("bs_curry")._1(f,function(a){return!1})},[]);var q=h.useCallback(function(a){var c=!g&&!j.current;if(c&&i(a)){j.current=!0;return b("bs_curry")._1(o,function(a){j.current=!1;if(a)return b("bs_curry")._1(f,function(a){return!0});else{b("bs_curry")._1(p,void 0);k.current=!0;return}})}},[c,g]);h.useEffect(function(){if(k.current)return;else{l.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("messages")),{hd:d,tl:0}),function(a){if(a.isUnsent)return b("bs_caml").i64_neq(a.senderId,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(q,c._0)});return function(a){b("bs_curry")._1(p,void 0);if(g&&!k.current)return b("bs_curry")._1(m,void 0)}}},[g,q,d,p]);if(g)return h.jsx(b("MWChatUnsendNUXReceiverBanner.bs").make,{onView:a,onDismiss:a});else return null}c=8568;d=1e4;e=a;f.cNUX_ID=c;f.cTEN_SECONDS=d;f.isMessageUnsentInLastTenSeconds=i;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWPActor.bs").useActor(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("useReStore")(),f=h.useRef(!1),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef(void 0);a=b("useMessengerUnsendNUX")(8598);var k=a[1],l=a[0],m=h.useCallback(function(a){a=j.current;if(a!==void 0){b("bs_curry")._1(a,void 0);j.current=void 0;return}},[]),n=h.useCallback(function(a){if(!i.current){i.current=!0;b("bs_curry")._1(m,void 0);return b("bs_curry")._1(k,void 0)}},[]);a=b("useCometLazyDialog")(b("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var o=a[0],p=h.useCallback(function(a){var c=!f.current&&!g.current;if(c&&b("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){f.current=!0;return b("bs_curry")._1(l,function(a){f.current=!1,a?(o({onView:n},function(a){}),g.current=!0):(b("bs_curry")._1(m,void 0),i.current=!0)})}},[c,m]);h.useEffect(function(){j.current=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("messages")),{hd:d,tl:0}),function(a){if(a.isUnsent)return b("bs_caml").i64_eq(a.senderId,c);else return!1}),function(a,c){if(typeof c==="number")return;else return b("bs_curry")._1(p,c._0)});return m},[d,p,m]);return null}c=8598;d=a;f.cNUX_ID=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatFilePreProcessingErrorDialog.bs",["fbt"],function(a,b,c,d,e,f,g){"use strict";a=g._("__JHASH__Tgh_5naYWqz__JHASH__");b=g._("__JHASH__rp1B2ks3qwV__JHASH__");c={body:b,title:a};f.title=a;f.body=b;f.invalidFileFormat=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatFileUploadErrorDialog.bs",["fbt","gkx"],function(a,b,c,d,e,f,g){"use strict";a=g._("__JHASH__GVmFuh2jycz__JHASH__");c=b("gkx")("1147754")?g._("__JHASH__tncNGvtAhMp__JHASH__"):g._("__JHASH__BNDx1mX2nlz__JHASH__");d={body:c,title:a};f.title=a;f.body=c;f.maxFileSizeExceeded=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","FBID.bs","JSResource","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWTooltip.react","MessagingThreadType.bs","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","gkx","promiseDone","qex","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="startVideoCall",k="startVoiceCall",l="joinVideoChat";function m(a,c,d,e){var f=b("useReStore")(),g=b("useRTWebCometStartCallCallback")(),h=b("MWPActor.bs").useActor(void 0);return i.useCallback(function(i){i=b("Promise").all([(i=b("ReQL.bs")).first(i.map(i.getKeyRange(i.fromTableAscending(f.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData})),i.first(i.map(i.filter(i.getKeyRange(i.fromTableAscending(f.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,h)}),function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.contactId))})),i.first(i.map(i.getKeyRange(i.fromTableAscending(f.table("mi_act_mapping_table")),{hd:a.threadKey,tl:0}),function(a){return a.jid}))]);i=i.then(function(f){var h=f[1],i=f[0];b("bs_curry")._1(c,void 0);g({existingCall:i!==void 0?{initiator_fbid:null,call_state:b("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),server_info_data:b("bs_js_null_undefined").fromOption(b("bs_caml_option").valFromOption(i))}:null,isE2eeMandated:b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),mediaType:d,thread:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),e2eeThreadID:b("bs_belt_Option").map(f[2],function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}),type:b("bs_caml_int64").to_int32(a.threadType),secureOneToOneThreadPeerId:h!==void 0&&b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?b("bs_caml_option").some(b("bs_caml_option").valFromOption(h)):void 0},trigger:e});return b("Promise").resolve(void 0)});b("promiseDone")(i,void 0,void 0)},[f,g,JSON.stringify(a.threadKey),a.ongoingCallState,e,c])}function n(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=i.useMemo(function(){var e;return(e=b("ReQL.bs")).take(e.filter(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),1)},[c,a.threadKey,JSON.stringify(d)]);e=b("ReQLSubscription.bs").useArray(e);return b("MWChatContactPresenceHook.bs").useHasActiveContact(e.map(function(a){return a.contactId}))}function o(a){var c=a.threadKey,d=b("useReStore")(),e=b("MWPActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.take(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),2),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}))})},[d,JSON.stringify(c),JSON.stringify(e)]));var f;if(a.length!==1)f=!1;else{var g=a[0];f=g!==void 0?b("bs_caml").i64_eq(g.contactType,b("LSContactType.bs").page):!1}if(!f)return[!0,!0];g=!0;f=!0;for(var h=0,j=a.length;h<j;++h){var k=b("bs_caml_array").get(a,h);if(k!==void 0){var l=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVoiceCall,k),!0);k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVideoCall,k),!0);g=g&&l;f=f&&k}}if(b("gkx")("1710932"))return[g,f];else return[!1,!1]}function p(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))),f=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:{hd:d,tl:0}})},[c,JSON.stringify(a.threadKey),JSON.stringify(d)]))),g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),h=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),j=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),k=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!j||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),l=o(a),m=a.threadType;f=(b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaGroup))&&f||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?[g,h]:[!1,!1];m=b("MWChatIsMessageRequest.bs").fn(a.folderName);g=!m&&e&&!k&&(!j||b("gkx")("5709"));if(g)return[l[0]&&f[0],l[1]&&f[1]];else return[!1,!1]}function q(a){var c=a.onPress,d=a.label,e=a.icon,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;c={"aria-label":d,onPress:c,overlayDisabled:f,overlayRadius:"50%",children:e};a!==void 0&&(c.testid=b("bs_caml_option").valFromOption(a));f=i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:function(){switch(b("gkx")("571")?"below":"above"){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),children:i.jsx(b("CometPressable.react"),c)});if(g!==void 0)return b("bs_curry")._1(g,f);else return f}c={make:q};function r(a){var c=a.startAudioCall,d=a.fill,e=a.size,f=a.overlayDisabled;a=a.renderContainer;c={onPress:c,label:g._("__JHASH__7OlJstElKZQ__JHASH__"),icon:b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,d,e),overlayDisabled:f,testid:k};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(q,c)}d={make:r};function s(a){var c=a.startVideoCall,d=a.fill,e=a.size,f=a.isActive,h=a.overlayDisabled;a=a.renderContainer;var k=b("useCometLazyDialog")(b("JSResource")("RTWebStartCallUpsellDialog.react").__setRef("MWV2ChatRTCButtons.bs")),l=k[0];k={onPress:function(a){var d=b("qex")._("421")===!0;if(d)return l({onAcceptCall:function(d){return b("bs_curry")._1(c,a)}},function(a){});else return b("bs_curry")._1(c,a)},label:g._("__JHASH__BhmiwbAyMN2__JHASH__"),icon:b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,d,e,f),overlayDisabled:h,testid:j};a!==void 0&&(k.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(q,k)}e={make:s};function t(a){var c=a.startVideoCall,d=a.startAudioCall,e=a.ongoingCallState,f=a.fill,h=a.size,j=a.overlayDisabled;a=a.renderContainer;if(b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").noOngoingCall))return null;d={onPress:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?d:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?c:function(a){},label:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?g._("__JHASH__aBPvjIRdL5z__JHASH__"):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?g._("__JHASH__hP5Qdzy9Ls0__JHASH__"):"",icon:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,f,h):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,f,h,void 0):null,overlayDisabled:j,testid:l};a!==void 0&&(d.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(q,d)}var u={make:t};function a(a){var c=a.thread,d=a.fill,e=a.size,f=a.disableOverlayOnHover,g=a.audioCallingSurface,h=a.videoCallingSurface,j=a.logAudio,k=a.logVideo;a=a.renderContainer;e=e!==void 0?e:"26px";f=f!==void 0?f:!1;j=j!==void 0?j:function(a){};k=k!==void 0?k:function(a){};var l=n(c),o=p(c),q=o[1];o=o[0];k=m(c,k,"video",h);h=m(c,j,"audio",g);if(!(o||q))return null;j=c.ongoingCallState;if(b("bs_caml").i64_neq(j,b("LSRtcCallState.bs").noOngoingCall)){g={startVideoCall:k,startAudioCall:h,ongoingCallState:j,fill:d,size:e,overlayDisabled:f};a!==void 0&&(g.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(t,g)}if(o){c={startAudioCall:h,fill:d,size:e,overlayDisabled:f};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));j=i.jsx(r,c)}else j=null;if(q){g={startVideoCall:k,fill:d,size:e,isActive:l,overlayDisabled:f};a!==void 0&&(g.renderContainer=b("bs_caml_option").valFromOption(a));o=i.jsx(s,g)}else o=null;return i.jsxs(i.Fragment,{children:[j,o]})}a=a;f.startVideoCallTestid=j;f.startVoiceCallTestid=k;f.joinVideoChatTestid=l;f.BaseButton=c;f.$$Audio=d;f.Video=e;f.JoinExistingChat=u;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWTooltip.react","react","useSetAttributeRef"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.onPress;a=a.color;var d=b("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=g._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(b("MWTooltip.react"),{tooltip:e,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":e,ref:d,onPress:c,overlayRadius:"50%",children:i.jsx("svg",{width:"26px",height:"26px",viewBox:"-4 -4 24 24",children:i.jsx("line",{x1:"2",x2:"14",y1:"8",y2:"8",strokeLinecap:"round",strokeWidth:"2",stroke:a})})})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWTooltip.react","ODS","bs_curry","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{marginStart:"jbg88c62"}};function l(a){var c=a.size;a=a.color;c=c!==void 0?c:"10px";return j.jsx("svg",{className:(i||(i=b("stylex")))(k.icon),width:c,height:c,viewBox:"0 0 18 10",children:j.jsx("path",{fill:a,fillRule:"evenodd",clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z"})})}c={styles:k,make:l};var m={settingsButton:{flexShrink:"i15ihif8",minWidth:"aeinzg81",marginEnd:"h07fizzr"}};function a(a){var c=a.children,d=a.thread,e=a.tab,f=a.iconColor,h=g._("__JHASH__FjEOIpwxx5G__JHASH__");return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),popoverProps:{thread:d,tab:e,onClose:function(a){}},position:"start",preloadTrigger:"button",children:function(a,d,e,g,i,k,n){return j.jsx(b("MWTooltip.react"),{tooltip:h,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":h,ref:a,testid:"messenger-chat-title-text",onHoverIn:b("bs_curry").__1(g),onHoverOut:function(a){return b("bs_curry")._1(i,void 0)},onPressIn:b("bs_curry").__1(k),onPress:function(a){b("bs_curry")._1(d,void 0),b("ODS").bumpEntityKey(3185,"mwchat_header","settings")},overlayRadius:5,xstyle:function(a){return[m.settingsButton]},children:j.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",spacingHorizontal:0,children:[c,j.jsx(l,{color:f})]})})})}})}d=a;f.Chevron=c;f.styles=m;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatTabHeader.bs",["FBID.bs","LSMessagingThreadTypeUtil.bs","MAWThreadCutover.bs","MWCMUseFolder.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseCurrentDisplayMode.bs","UseMWV2CloseTab.bs","XCometGroupChatsThreadViewControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:2587","cr:2754","react","requireDeferred","stylex","useCurrentDisplayMode"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),k=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs");function l(a){var c=a.thread;a=a.color;var d=i.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","audio"),k.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]),e=i.useCallback(function(a){b("ODS").bumpEntityKey(3185,"mwchat_header","video"),j.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]);return i.jsx(b("MWV2ChatRTCButtons.bs").make,{thread:c,fill:a,audioCallingSurface:"comet_chattab_audio_button",videoCallingSurface:"comet_chattab_video_button",logAudio:d,logVideo:e})}c={make:l};function m(a){var c=b("useCurrentDisplayMode")(),d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWPThreadTheme.bs").useTop(void 0),f=b("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);f=f&&!d;a=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&c===b("UseCurrentDisplayMode.bs").darkTheme&&d;c=f||a?"var(--always-white)":d?e:"var(--disabled-icon)";d=f?e:void 0;e=f||a?"white":void 0;return[c,e,d]}var n={endContentContainer:{alignItems:"i85zmo3j",display:"alzwoclg",marginEnd:"hnay576k"}};function a(a){var c=a.tab,d=a.thread,e=b("MWCMUseFolder.bs").useHook(d),f=b("MWChatStateV2.bs").useDispatch(void 0),g=b("UseMWV2CloseTab.bs").useHook(d,c);a=m(d);var j=a[1],k=a[0],o;if(b("cr:2754")==null||e===void 0)o=null;else{var p=b("cr:2587")==null?function(a){}:function(a){return b("bs_curry")._1((a=b("cr:2587")).log,{action:a.tap,category_id:void 0,community_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.folderId)),event:a.threadExpanded,group_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.fbGroupId)),parent_surface:"entity_menu",source:a.expandButton,surface:a.chatsTab,thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.threadKey))})},q={url:b("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(e.fbGroupId),thread_id:b("bs_int64").to_string(d.threadKey)})};o=i.jsx(b("cr:2754").make,{color:k,link:q,onPress:p})}q=b("MAWThreadCutover.bs").useIsCutoverOpenThread(d.threadKey);if(q){p={thread:d,photoSize:"s_32",threadNameSize:"headlineEmphasized4",isContainerPressable:!1};j!==void 0&&(p.color=b("bs_caml_option").valFromOption(j));q=i.jsx(b("MWInboxHeaderDetailsContainer.bs").make,p)}else{p={thread:d,photoSize:"s_32",threadNameSize:"headlineEmphasized4",isContainerPressable:!1};j!==void 0&&(p.color=b("bs_caml_option").valFromOption(j));q=i.jsx(b("MWV2HeaderSettingsButton.bs").make,{children:i.jsx(b("MWInboxHeaderDetailsContainer.bs").make,p),thread:d,tab:c,iconColor:k})}j={startContent:q,endContent:i.jsx(b("MWTooltipGroup.react"),{children:i.jsxs("div",{className:(h||(h=b("stylex")))(n.endContentContainer),children:[i.jsx(l,{thread:d,color:k}),i.jsx(b("MWV2HeaderMinimizeButton.bs").make,{onPress:function(a){return b("bs_curry")._1(f,b("MWChatStateActions.bs").minimizeTab(Date.now(),c.tabId))},color:k}),o,i.jsx(b("MWV2HeaderCloseButton.bs").make,{onPress:function(a){return b("bs_curry")._1(g,void 0)},color:k,testid:"mwchattab-closebutton-"+b("bs_int64").to_string(d.threadKey)})]})})};p=a[2];p!==void 0&&(j.backgroundColor=b("bs_caml_option").valFromOption(p));return i.jsx(b("MWV2HeaderContainer.bs").make,j)}d=b("cr:2754");e=b("cr:2587");a=a;f.$MWV2ChatExpandButton$requireCond=b("cr:2754");f.mExpandButton=d;f.$GroupsCometChatsEngagementLogger$requireCond=b("cr:2587");f.mGroupsCometChatsEngagementLogger=e;f.$ZenonUserActionLoggerCommon$Deferred=j;f.$ZenonUserActionLoggerCommon$Deferred$1=k;f.RTCButtons=c;f.styles=n;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWInThreadBannerNuxesWrapper.react","cr:1470","cr:3519","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=b("cr:3519")==null?void 0:b("cr:3519")();return d===!0&&b("cr:1470")?h.jsx(b("cr:1470"),{}):h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil.bs","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","cr:3771","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:3771")==null?void 0:b("bs_caml_option").some(b("cr:3771"));function a(a){var c=a.thread;a=b("cr:3771")==null?function(){}:b("bs_curry")._1(i.useThreadJidCallback,c.threadKey);var d=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),e=b("useReStore")(),f=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:c.threadKey,tl:0}),2)},[e,JSON.stringify(c.threadKey)])),g=b("MWPActor.bs").useActor(void 0),j=h.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return b("bs_caml_option").undefined_to_opt(f.find(function(a){return b("bs_caml").i64_neq(a.id,g)}))},[JSON.stringify(g),f]);j=j!==void 0?j.name:void 0;return b("bs_curry")._1(b("MAWInThreadBannerNuxReqCondWrapper.react"),{getThreadJid:a,isGroup:d,otherUserFullName:j})}c=a;f.$MAWChatJid$requireCondXplat=b("cr:3771");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ContextBanner.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSNullstateDescriptionType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","LsSystemFolder.bs","MWText.react","MWThreadPicture.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:1574","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:1574")==null?void 0:b("bs_caml_option").some(b("cr:1574")),k={wrapper:{paddingBottom:"rj2hsocd"}};function l(a){var c=a.kind;a=a.text;if(b("bs_caml").i64_eq(c,b("bs_caml_int64").zero)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").subtext)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallDefault)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallSubtext))return i.jsx("div",{className:(h||(h=b("stylex")))(k.wrapper),children:i.jsx(b("MWText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return i.jsx(b("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}c={styles:k,make:l};var m={container:{paddingTop:"h6ft4zvz",paddingBottom:"rj2hsocd",paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w"},image:{display:"alzwoclg",justifyContent:"jcxyg2ei",marginBottom:"qjfq86k5"},title:{marginBottom:"qjfq86k5"}};function n(a){a=a.thread;var c=a.nullstateDescriptionType3,d=a.nullstateDescriptionText3,e=a.nullstateDescriptionType2,f=a.nullstateDescriptionText2,g=a.nullstateDescriptionType1,k=a.nullstateDescriptionText1,n=b("bs_caml").i64_eq(a.parentThreadKey,b("LsSystemFolder.bs").businessSupport);return i.jsxs("div",{className:(h||(h=b("stylex")))(m.container),children:[i.jsx("div",{className:h(m.image),children:i.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:a})}),i.jsx("div",{className:h(m.title),children:i.jsx(b("MWText.react"),{align:"center",type:"headlineEmphasized3",children:i.jsx(b("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b){return b}})})}),k!==void 0&&g!==void 0?i.jsx(l,{kind:g,text:k}):null,f!==void 0&&e!==void 0?i.jsx(l,{kind:e,text:f}):null,d!==void 0&&c!==void 0?i.jsx(l,{kind:c,text:d}):null,!(b("cr:1574")==null)&&b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&b("bs_caml").i64_gt(a.authorityLevel,b("LSAuthorityLevel.bs").serverPartial)&&!n?i.jsx(j.make,{thread:a}):null]})}d={styles:m,make:n};function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,a);if(c)return null;else return i.jsx(n,{thread:a})}e=a;f.$MWContextBannerQuickActions$requireCond=b("cr:1574");f.NullstateDescription=c;f.Impl=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWOpenThreadDetail.bs",["LSMessagingInitiatingSourceHook.bs","MWCMAutoJoinNotifNUX.react","MWChatUnsendNUX.bs","MWMessageList.bs","MWPMessageListColumn.bs","MWPQuickReplies.bs","MWV2ContextBanner.bs","MWV2PersistentIcebreakers.bs","MWV2ThreadNullstate.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","bs_caml","bs_caml_int64","cr:2965","cr:777","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("thread_nullstate")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)])),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(c.table("thread_nullstate_ctas").index("threadKeyCtaId")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]));return[d,e]}function a(a){var c=a.thread;a=a.messageListRef;var d=h.useState(function(){return b("ServerTime").getMillis()}),e=i(c),f=e[1];e=e[0];var g=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),j=b("cr:777")==null?null:h.jsx(b("cr:777").make,{thread:c}),k=b("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(c,f,d[0]);d=h.useCallback(function(a){return h.jsxs(h.Fragment,{children:[h.jsx(b("MWPQuickReplies.bs").make,{threadKey:c.threadKey}),k?h.jsx(b("MWV2PersistentIcebreakers.bs").make,{thread:c,nullstateCtas:f,lsSource:"inboxInThread",initiatingSource:g}):null]})},[c,f]);var l=h.useCallback(function(a){return h.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:20}),h.jsx(b("MWV2ContextBanner.bs").make,{thread:c}),h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:10})]})},[c]),m=b("cr:2965")==null?null:h.jsx(b("cr:2965").make,{folderOrThread:{TAG:1,_0:c}});return e!==void 0&&b("bs_caml").i64_eq(c.lastActivityTimestampMs,b("bs_caml_int64").zero)?h.jsxs(h.Fragment,{children:[j,h.jsx(b("MWCMAutoJoinNotifNUX.react"),{thread:c}),m,h.jsx(b("MWV2ContextBanner.bs").make,{thread:c}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2ThreadNullstate.bs").make,{thread:c,nullstate:e,nullstateCtas:f,lsSource:"inboxInThread",initiatingSource:g})]}):h.jsxs(h.Fragment,{children:[j,h.jsx(b("MWCMAutoJoinNotifNUX.react"),{thread:c}),m,h.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),h.jsx(b("MWMessageList.bs").make,{thread:c,renderHeader:l,renderFooter:d,ref:a})]})}c=b("cr:777");d=b("cr:2965");e=a;f.$MWV2ArmadilloDogfoodingUpsell$requireCondXplat=b("cr:777");f.mwv2ArmadilloDogfoodingUpsell=c;f.$null$OR$MWCMInboxInterstitialNux$requireCond=b("cr:2965");f.mwcmInboxInterstitialNux=d;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPThreadGradientBackground.bs",["MWPColorUtils.bs","MWPThreadTheme.bs","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{flexBasis:"jg3vgc78",flexGrow:"cgu29s5g",display:"alzwoclg",position:"om3e55n1",flexDirection:"cqf1kptm",overflowX:"lq84ybu9",overflowY:"hf30pyar",maxHeight:"fyn85a33"}};function a(a){a=a.children;var c=b("MWPThreadTheme.bs").useHook(void 0),d=c.gradientColors;c=i.useMemo(function(){if(d.length>1)return{backgroundImage:b("MWPColorUtils.bs").gradient(d,void 0,void 0)};else return{}},[d]);return i.jsx("div",{style:c,className:(h||(h=b("stylex")))(j.container),children:a})}c=a;f.styles=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWOpenAndSecureThreadView.bs",["LSMessagingThreadTypeUtil.bs","MWOpenThreadDetail.bs","MWPThreadGradientBackground.bs","cr:490","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.messageListRef;var d,e=0;b("cr:490")==null||!b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?e=1:d=h.jsx(b("cr:490").make,{thread:c});e===1&&(d=h.jsx(b("MWOpenThreadDetail.bs").make,{thread:c,messageListRef:a}));return h.jsx(b("MWPThreadGradientBackground.bs").make,{children:d})}c=b("cr:490");d=a;f.$MAWSecureThreadDetailWrapper$requireCondXplat=b("cr:490");f.mawSecureThreadDetailWrapper=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSSprocFetchProactiveWarningIfNeeded.bs",["LS.bs","LSFetchProactiveWarningsContactIfNeeded","LSFetchProactiveWarningsIfNeeded","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWLSProactiveWarningTables.bs","MWOtherRecipientOneToOneThread.bs","MWThreadKey.bs","bs_belt_Option","bs_caml","bs_caml_int64","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("useReStore")(),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),g=b("MWLSProactiveWarningTables.bs").useHook(void 0),i=b("MWOtherRecipientOneToOneThread.bs").useHook(void 0),j=g.banner;g=g.pwSettings;g=j!==void 0&&g!==void 0?b("bs_caml").i64_eq(j.banner.bannerId,[0,7]):!1;var k=a&&!g?d?!0:c!==void 0?b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(c.proactiveWarningDismissTime,b("bs_caml_int64").zero),b("bs_caml_int64").zero):!1:!1;h.useEffect(function(){c!==void 0&&(k&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?i!==void 0&&b("LSTransaction.bs").run(e,function(a){return b("LSFetchProactiveWarningsContactIfNeeded")(i.contactId,b("LS.bs").make(a))},"readWrite"):k&&!b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)&&b("LSTransaction.bs").run(e,function(a){return b("LSFetchProactiveWarningsIfNeeded")(f,b("LS.bs").make(a))},"readWrite"))},[JSON.stringify(f),k])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSSprocFetchProactiveWarningIfNeeded.re",["MWLSSprocFetchProactiveWarningIfNeeded.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._3(b("MWLSSprocFetchProactiveWarningIfNeeded.bs").useHook,a.hasProactiveWarningComponent,a.thread,a.ignoreDismissTime);return a};f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerDisclosure.bs",["BootloaderResource","CometErrorBoundary.re","CometPlaceholder.react","JSResource","LS.bs","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRemoveType.bs","LSTransaction.bs","LSVec","LsMessageRequestsActions.bs","MWChatComposerGroupMessageRequestInfoText.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils.bs","MWLSThreadDisplayContext.bs","MWPActor.bs","MessageRequestsLog.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:4365","cr:4366","cr:60","cr:958","gkx","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:60")==null?function(a,b){return!1}:b("cr:60").useIsOneOnOneMessageRequestV2;function j(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0);return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,b("LSVec").make([d]),b("LS.bs").make(c))},"readWrite"),void 0,void 0)},[JSON.stringify(a.threadKey)])}var k=b("JSResource")("MAWComposerUserMessageRequestInfoText.bs").__setRef("MWV2ComposerDisclosure.bs");function a(a,b,c){return{thread:a,size:b}}function l(a){return h.createElement(b("BootloaderResource").read(k).make,a)}d={reasonResource:k,makeProps:a,make:l};function m(a){var c=a.thread;a=a.forceVoiceIndicatorShown_TEST_ONLY;var d=b("useReStore")(),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("MWLSThreadDisplayContext.bs").useHook(void 0);f=f==="Inbox"?"large":"small";var g=j(c),k=c.threadType,m=c.threadKey,n=h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(d,function(a){return b("LSOptimisticRemoveThread")(m,b("LSThreadRemoveType.bs").deleteThread,b("LS.bs").make(a))},"readWrite"),function(a){return b("bs_curry")._1(e,b("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),m))},void 0)},[b("bs_int64").to_string(m),d]),o=h.useCallback(function(a){b("MessageRequestsLog.bs").logActionConfirmed(c,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").delete_),void 0,void 0,void 0);return b("bs_curry")._1(n,void 0)},[n,c]),p=b("LSMessagingThreadTypeUtil.bs").isSecure(k),q=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),r=b("MWPActor.bs").useActor(void 0),s=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)){var a;return(a=b("ReQL.bs")).filter(a.mergeJoin(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),a.fromTableAscending(d.table("contacts"))),function(a){return b("bs_caml").i64_neq(a[1].id,r)})}else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.threadKey),r])),t=h.useMemo(function(){if(p)return b("bs_curry")._2(i,c,s);else return!1},[c,s,p]);k=b("LSMessagingThreadTypeUtil.bs").isGroup(k);var u=s!==void 0?b("MWLSContactTypeExactUtils.bs").isIgContact(s[1]):!1;return h.jsxs(h.Fragment,{children:[b("cr:958")==null?null:h.jsx(b("cr:958").make,{forceShown_TEST_ONLY:a}),t?h.jsx(l,{thread:c,size:"large"}):!p&&q?k?b("cr:4365")==null?h.jsx(b("MWChatComposerGroupMessageRequestInfoText.bs").make,{onDeleteConversation:o,onLeaveGroup:function(a){b("MessageRequestsLog.bs").logActionConfirmed(c,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").leaveGroup),void 0,void 0,void 0);return b("bs_curry")._1(g,void 0)}}):h.jsx(b("cr:4365").make,{onDeleteConversation:o,onLeaveGroup:function(a){b("MessageRequestsLog.bs").logActionConfirmed(c,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").leaveGroup),void 0,void 0,void 0);return b("bs_curry")._1(g,void 0)},thread:c}):b("cr:4366")==null?h.jsx(b("MWLSChatComposerUserMessageRequestInfoText.bs").make,{thread:c,onDeleteConversation:o}):h.jsx(b("cr:4366").make,{thread:c,onDeleteConversation:o}):!p&&u&&b("gkx")("1839788")?h.jsx(b("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative),size:f}):null]})}e={make:m};function c(a){var c=a.thread;a=a.forceVoiceIndicatorShown_TEST_ONLY;a=a!==void 0?a:!1;return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(m,{thread:c,forceVoiceIndicatorShown_TEST_ONLY:a}),fallback:null})})}a=c;f.$MAWMessageRequestUtil$requireCond=b("cr:60");f.useLeaveGroup=j;f.MAWComposerUserMessageRequestInfoTextLazy=d;f.$MWChatComposerVoiceIndicator$requireCond=b("cr:958");f.$MWGroupMessageRequestComposerBanner$requireCond=b("cr:4365");f.$MWOneOnOneMessageRequestComposerBanner$requireCond=b("cr:4366");f.Impl=e;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerDisclosure.re",["MWV2ComposerDisclosure.bs"],function(a,b,c,d,e,f){a=b("MWV2ComposerDisclosure.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ErrorComposer.bs",["fbt","MDSTextPairing.react","MWText.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"aiyajaxl",backgroundColor:"lg77cbj3",paddingEnd:"pmpz9uk9",paddingStart:"ohbgse3c",paddingTop:"pvreidsc",paddingBottom:"n68fow1o"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{meta:j.jsx(b("MWText.react"),{type:"meta3",numberOfLines:2,children:g._("__JHASH__FrvKCKsD46D__JHASH__")}),headline:g._("__JHASH__viCgEPmOyD5__JHASH__"),level:4,textAlign:"center",reduceEmphasis:!0,headlineColor:"secondary"})})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ErrorComposer.re",["MWV2ErrorComposer.bs"],function(a,b,c,d,e,f){a=b("MWV2ErrorComposer.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerThreadTakedownState",[],function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN:1,RESTORED:2});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPComposerGating.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil.re","MAWGating.re","MAWPSafetyNoticesChatBlockedComposer.react","MAWStateContext.react","MWCMThreadTypes.re","MWCMUseFolder.re","MWLSSprocFetchProactiveWarningIfNeeded.re","MWPActor.re","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.re","MWProactiveWarningPayload.re","MWV2ComposerDisclosure.re","MWV2ErrorComposer.re","MessengerThreadTakedownState","ReQL","ReQLSuspense","RecoverableViolation.react","lazyLoadComponent","react","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react"));function o(a){a=a.height;return i.jsx("div",{className:"r8vnayig",style:{height:a.toString()+"px"}})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.renderComposer;a=a.thread;var e=a.cannotReplyReason==="viewer_not_subscribed",f=a.cannotReplyReason==="broadcast_chat_read_only",g=c("MWCMUseFolder.re").useFolder(a);g=g!=null&&g.sendsBlockedUntil!=null&&!d("I64").equal(g.sendsBlockedUntil,d("I64").zero);var h=a.takedownState!=null&&d("I64").equal(a.takedownState,d("LSIntEnum").ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN));if(h)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(o,{height:35}),children:i.jsx(m,{})});else if(e)return i.jsx(j,{});else if(d("MWCMThreadTypes.re").isBroadcastThread(a.threadType)&&f)return i.jsx(l,{});else if(g)return i.jsx(k,{size:"small"});else return i.jsxs(i.Fragment,{children:[c("MWCMThreadTypes.re").isJoinedCMThread(a.threadType)?i.jsx(n,{thread:a}):null,i.jsx(d("MWV2ComposerDisclosure.re").make,{thread:a}),b()]})}function q(a){var b=a.isMessengerInbox,e=a.renderComposer;a=a.thread;e=i.jsxs(i.Fragment,{children:[i.jsx(d("MWV2ComposerDisclosure.re").make,{thread:a}),e()]});var f=a.proactiveWarningDismissTime==null||d("I64").is_zero(a.proactiveWarningDismissTime),g=c("LSMessagingThreadTypeUtil.re").isSecure(a.threadType);b=b?null:g?f&&c("MAWPSafetyNoticesChatBlockedComposer.react")!=null?i.jsx(c("MAWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null:f&&c("MWPSafetyNoticesChatBlockedComposer.react")!=null?i.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null;c("MWLSSprocFetchProactiveWarningIfNeeded.re").useHook({hasProactiveWarningComponent:b!=null,ignoreDismissTime:!1,thread:a});g=c("MWProactiveWarningPayload.re").useHook({},a);return b!=null&&g!=null?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(o,{height:35}),children:b}):e}function r(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer,g=a.thread,j=c("useReStore")(),k=d("MWPActor.re").useActor(),l=d("I64").equal(k,g.threadKey);a=d("ReQLSuspense").useFirst(function(){return c("LSMessagingThreadTypeUtil.re").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(j.table("participants")).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(j.table("contacts"))).filter(function(a){a[0];a=a[1];return l||!d("I64").equal(a.id,k)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[j,g.threadKey,g.threadType,k,l]);var m=c("LSMessagingThreadTypeUtil.re").isSecure(g.threadType),n=i.jsxs("div",{children:[i.jsx("div",{className:"opq2i7zj jcxyg2ei hk4113p2 alzwoclg",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),i.jsx("div",{className:"t7p7dqev hsphh064 om3e55n1 mgyxqqgk p8zq7ayg i7rjuzed pry8b2m5 q6ul9yy4 h6ejzxd1 igjjae4c h3z9dlai jlyy7hdl i85zmo3j",children:h._("__JHASH__bXfe9onDJii__JHASH__").toString()})]}),o=d("MAWStateContext.react").useMAWOfflineQueueState();b=b.find(function(a){return a!=null});return i.jsxs(i.Fragment,{children:[c("MAWGating.re").isWebLoadStateEnabled()&&m&&o?n:null,b!=null?b:c("LSMessagingThreadTypeUtil.re").isOneToOne(g.threadType)?a!=null?i.jsx(q,{isMessengerInbox:e,otherUser:a,renderComposer:f,thread:g}):d("I64").lt(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:i.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):i.jsx(p,{renderComposer:f,thread:g})]})}function a(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(d("MWV2ErrorComposer.re").make,{})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("MWPThreadIsPage.re").make,{threadKey:a.threadKey,children:i.jsx(r,{configurations:b,isMessengerInbox:(b=e)!=null?b:!1,renderComposer:f,thread:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWSharedMediaManagerUtils.bs",["LSMailboxType.bs","LSTransaction.bs","MWPComposerMediaUploadUtil.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){return b("LSTransaction.bs").run(a,function(a){return b("Promise").all(c.map(function(c){var e=c[0];return a.table("media_staging").add({offlineAttachmentId:c[1],mailboxType:b("LSMailboxType.bs").messenger,attachmentType:b("MWPComposerMediaUploadUtil.bs").getAttachmentType(e),mimeType:e.type,filename:e.name,fileSize:b("bs_caml_int64").of_int32(e.size),fbid:void 0,threadKey:d,offlineThreadingId:void 0,previewUrl:URL.createObjectURL(e),previewWidth:void 0,previewHeight:void 0,durationMs:void 0,progress:0,isSent:!1,hasError:!1})}))},"readWrite")}function c(a,c){return b("LSTransaction.bs").run(a,function(a){return a.table("media_staging")["delete"]({hd:c,tl:0})},"readWrite")}function i(a,c){return b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(a.table("media_staging")),function(a){if(a.isSent)return!1;else return b("bs_caml").i64_eq(a.threadKey,c)})}function d(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return i(c,a.threadKey)},[c,JSON.stringify(a.threadKey)]))}f.insertMediaStaging=a;f.deleteMediaStaging=c;f.getMediaStaging=i;f.useMediaStaging=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMediaManager.bs",["FBLogger","LSMessagingThreadTypeUtil.bs","MWChatFilePreProcessingErrorDialog.bs","MWChatFileUploadErrorDialog.bs","MWSharedMediaManagerUtils.bs","MercuryConstants","Promise","Promise.bs","bs_caml_option","bs_curry","cr:4400","promiseDone","requireDeferred","useCometAlertDialog","useReStore"],function(a,b,c,d,e,f){"use strict";c=b("cr:4400")==null?void 0:b("bs_caml_option").some(b("cr:4400"));var g=b("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs"),h=b("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs");function a(a,c,d){var e=b("useReStore")(),f=b("useCometAlertDialog")(),i=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),j=b("MWSharedMediaManagerUtils.bs").useMediaStaging(a);c=function(c){var d=c.some(function(a){return a.size>b("MercuryConstants").AttachmentMaxSize});if(d)return b("bs_curry")._2(f,b("MWChatFileUploadErrorDialog.bs").maxFileSizeExceeded,function(a){});d=function(c,a){if(a)if(b("cr:4400")==null){b("FBLogger")("messenger_web_product").warn("Unsupported thread type for media preprocess");return b("Promise").resolve([])}else return b("cr:4400").utils.load().then(function(a){return b("bs_curry")._1(a.preprocess,c)});else return h.load().then(function(a){return b("bs_curry")._1(a.preprocess,c)})};b("promiseDone")(b("Promise.bs").$$catch(d(c,i),function(a){b("bs_curry")._2(f,b("MWChatFilePreProcessingErrorDialog.bs").invalidFileFormat,function(a){});return b("Promise").resolve([])}).then(function(c){b("promiseDone")(b("MWSharedMediaManagerUtils.bs").insertMediaStaging(e,c,a.threadKey),void 0,void 0);var d=a.threadKey;if(i)if(b("cr:4400")==null){b("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return b("Promise").resolve(void 0)}else return b("cr:4400").utils.load().then(function(a){return b("bs_curry")._3(a.upload,e,d,c)});else return g.load().then(function(a){return b("bs_curry")._3(a.upload,e,d,c)})}),void 0,void 0)};d=function(a){b("promiseDone")(b("MWSharedMediaManagerUtils.bs").deleteMediaStaging(e,a).then(function(c){if(i&&!(b("cr:4400")==null))return b("cr:4400").utils.load().then(function(b){b.attachmentsMap["delete"](a)});else return b("Promise").resolve(void 0)}),void 0,void 0)};var k=function(a){a=j.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){b("MWSharedMediaManagerUtils.bs").deleteMediaStaging(e,a)});if(i&&!(b("cr:4400")==null)){b("promiseDone")(b("cr:4400").utils.load().then(function(a){a.attachmentsMap.clear()}),void 0,void 0);return}};return{handleFileSelect:c,handleFileRemove:d,resetAttachments:k,mediaStaging:j}}f.$MAWMediaManagerUtilsDeferred$requireCondXplat=b("cr:4400");f.mawMediaManagerUtilsDeferred=c;f.$MWOpenMediaManagerUtils$Deferred=g;f.$MWOpenMediaManagerUtils$Deferred$1=h;f.useMediaManager=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPNewMessageDraftContext.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){a=a.children;var b=h.useRef("");return h.createElement(i.Provider,{value:b,children:a})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","mlcErrorHandler__INTERNAL"],function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(b){return c("mlcErrorHandler__INTERNAL")(b,a,function(a){c("FBLogger")("messenger_web_product").catching(b).mustfix("Lexical Error MWP \u2013 "+a)})},theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"m8h3af8h kjdc1dyq"})});return a}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){var c=b.current;if(c==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(c);e.append(a);a.select()}})},[a,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPLexicalClearEditor",["Lexical","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),b=d("Lexical").$getSelection(),c=d("Lexical").$createParagraphNode();a.clear();a.append(c);b!==null&&c.select()});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPLexicalInitializeEditor",["Lexical","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPComposerEditor.bs",["DEPRECATED_useLexicalPlainText","LS.bs","LSTransaction.bs","LSUpdateDraftMessage","Lexical","LexicalText","MWChatFocusComposerContext.bs","MWLSUseLatch.bs","MWPActor.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:11463","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalInitializeEditor","useMWPLexicalIsTextContentEmpty","usePrevious","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){h.useEffect(function(){b("bs_curry")._1(c,a.getEditorState())},[a,c]),h.useEffect(function(){return a.registerUpdateListener(function(a){return b("bs_curry")._1(c,a.editorState)})},[c,a])}function j(a,c){c=b("MWLSUseLatch.bs").useLatch(c,!0,5e3);var d=c[1],e=c[0],f=h.useRef("");h.useEffect(function(){var c=function(a){a=a.editorState.read(function(a){return b("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return b("bs_curry")._1(d,void 0);else return b("bs_curry")._1(e,void 0)}};return a.registerUpdateListener(c)},[e,d,a])}function k(a,c,d,e,f){var g=b("useReStore")(),i=b("MWPActor.bs").useActor(void 0);return h.useCallback(function(h){f!==void 0&&b("bs_curry")._4(f,JSON.stringify(e.getEditorState()),b("bs_int64").to_string(a.threadKey),String(h),i);var j=d!==void 0?b("bs_curry")._1(d,void 0):[];c!==void 0&&b("bs_curry")._1(c,j);b("promiseDone")(b("LSTransaction.bs").run(g,function(c){return b("LSUpdateDraftMessage")(a.threadKey,h,b("LS.bs").make(c))},"readWrite"),void 0,void 0)},[g,JSON.stringify(a.threadKey)])}function l(a){var c=b("MWPReplyContext.bs").useContext(void 0),d=c.reply,e=b("usePrevious")(d);h.useEffect(function(){var c=e==null?d!==void 0:b("bs_caml_obj").caml_notequal(e,d)?!0:!1;c&&a.focus(function(a){})},[a,d,e==null?void 0:b("bs_caml_option").some(e)])}var m=b("cr:11463")==null?function(a){}:b("cr:11463").useHook;function a(a){var c=a.thread,d=a.isPreviewThread,e=a.mediaStaging,f=a.onSendMessage,g=a.onSendEmptyMessage,n=a.onTypingStateChanged,o=a.isSendDisabled,p=a.children,q=a.surface,r=a.customizedRanges,s=a.updateDraftThreadIds,t=a.getDraftThreadIds,u=a.persistEditorState,v=a.getEditorState,w=a.useMWPComposerPrepopulateEditorState,x=a.policyProduct;a=a.getTextFromEditorState;var y=o!==void 0?o:!1,z=a!==void 0?a:function(a){return a.read(function(a){return b("LexicalText").$rootTextContent()})},A=b("MWPNewMessageDraftContext.bs").useContext(void 0);o=A!==void 0?A.current:c.draftMessage;a=h.useRef(o);var B=h.useRef(null);b("bs_curry")._1(m,B.current);var C=h.useMemo(function(){return b("mwpLexicalCreateEditor")()},[]);v=v!==void 0?b("bs_curry")._1(v,b("bs_int64").to_string(c.threadKey)):JSON.stringify(C.getEditorState());v=v!==void 0?JSON.parse(v):JSON.parse("{}");var D={contents:function(a){return C.dispatchCommand(b("Lexical").CLEAR_EDITOR_COMMAND)}},E=k(c,s,t,C,u),F=b("useDebounced")(E,2e3,void 0),G=h.useRef(void 0);s=b("MWV2ComposerHasContentContext.bs").useContext(void 0);var H=s.shouldClearDraftMessageRef,I=s.hasContentRef;h.useEffect(function(){return function(a){if(H!==void 0&&H.current)return b("bs_curry")._1(E,"");a=G.current;if(a!==void 0)return b("bs_curry")._1(E,a)}},[]);t=h.useCallback(function(a){a=a.read(function(a){return b("LexicalText").$rootTextContent()});G.current=a;I!==void 0&&(I.current=a!=="");F(a);if(d&&A!==void 0){A.current=a;return}},[C,E,d]);i(C,t);j(C,n);u=o!==void 0?o.trim()==="":!0;s=b("useMWPLexicalIsTextContentEmpty")(C,!0,u);t=e.length>0;var J=!s||t,K=e.filter(function(a){return!a.isSent}).length;n=h.useContext(b("MWChatFocusComposerContext.bs").context);var L=n.setFocusComposer;h.useEffect(function(){b("bs_curry")._1(L,function(a){return C.focus(function(a){})})},[C]);h.useEffect(function(){K>0&&C.focus(function(a){})},[C,K]);var M=b("MWV2IsTabFocusedContext.bs").useContext(void 0);h.useEffect(function(){M&&!d&&C.focus(function(a){})},[C,M,d]);l(C);b("useMWPCometComposerPrepopulateDraftMessage")(C,a);w!==void 0&&b("bs_curry")._2(w,C,v);var N=function(a,c,d,e,g,h,i,j,k,l){b("bs_curry").app(f,[a,c,d,e,g,h,i,j,k,void 0,void 0]);return C.focus(function(a){})};o=h.useCallback(function(a){if(y)return;if(J){a=r!==void 0?b("bs_curry")._2(r,C,b("bs_int64").to_string(c.threadKey)):b("MWV2ChatComposerGetViewContent").getRanges(C);var d=C.getEditorState();d=b("bs_curry")._1(z,d);N(d,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}else b("bs_curry")._1(g,void 0);G.current="";return b("bs_curry")._1(D.contents,void 0)},[C,N,J,y]);b("useMWPLexicalCommitMessageOnEnter")(C,o);b("useMWPLexicalInitializeEditor")(C);b("DEPRECATED_useLexicalPlainText").useLexicalPlainText(C);b("useMWPLexicalClearEditor")(C);return b("bs_curry")._6(p,C,q,x,J,B,o)}c=a;f.$MWUseKeyCommandsForComposer$OR$null$requireCond=b("cr:11463");f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerReplyView.bs",["fbt","ix","CometErrorBoundary.re","CometTriggerAccessibilityAlertContext","LSContactGenderToGenderConst.bs","LSHotEmojiSize.bs","LSMessagingThreadTypeUtil.bs","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MAWGating.bs","MDSTextPairing.react","MWChatReplyText.bs","MWIcon.react","MWPActor.bs","MWPReplyContext.bs","MWText.react","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_obj","bs_curry","bs_int64","cr:385","fbicon","getFBTSafeGenderFromGenderConst","react","stylex","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={container:{borderTop:"aiyajaxl",backgroundColor:"lg77cbj3",paddingEnd:"gy0o2fvl",paddingStart:"fk6all4f",paddingTop:"pvreidsc",paddingBottom:"rat9ptwp",display:"alzwoclg",justifyContent:"sl27f92c",alignItems:"hael596l"},message:{marginEnd:"mln2r6ah"}};function m(a){var c=a.message;a=a.isSecureThread;var d=b("useReStore")(),e=b("MWPActor.bs").useActor(void 0);e=b("bs_caml").i64_eq(c.senderId,e);var f=b("ReQLSuspense").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:c.senderId,tl:0})},[d,JSON.stringify(c.senderId)])),h=b("ReQLSuspense").first(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("attachments")),{hd:c.threadKey,tl:{hd:c.messageId,tl:0}})},[d,c.messageId,JSON.stringify(c.threadKey)]));k.useEffect(function(){b("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:b("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);var i=c.text;i=i!==void 0?b("cr:385")==null?i:b("bs_curry")._1(b("cr:385").unvault,i):"";i=i==="\ud83d\udc4d"&&(b("bs_caml_obj").caml_equal(c.hotEmojiSize,b("LSHotEmojiSize.bs").small)||b("bs_caml_obj").caml_equal(c.hotEmojiSize,b("LSHotEmojiSize.bs").medium)||b("bs_caml_obj").caml_equal(c.hotEmojiSize,b("LSHotEmojiSize.bs").large))&&b("MAWGating.bs").isHotLikeEnabled(void 0)&&a;a=c.isUnsent?g._("__JHASH__OtyP2J0Nwkd__JHASH__"):c.text!==void 0&&b("bs_caml_obj").caml_notequal(c.text,"")?k.jsx(b("MWChatReplyText.bs").make,{isHotLike:i,text:b("bs_belt_Option").getWithDefault(c.text,g._("__JHASH__C1Hm6KH3mNE__JHASH__"))}):h!==void 0?b("bs_caml").i64_eq(h.attachmentType,b("MessagingAttachmentType.bs").image)?g._("__JHASH__vuq_ksOZBHO__JHASH__"):b("bs_caml").i64_eq(h.attachmentType,b("MessagingAttachmentType.bs").sticker)?g._("__JHASH__7zoxdliwH6N__JHASH__"):b("bs_caml").i64_eq(h.attachmentType,b("MessagingAttachmentType.bs").video)?g._("__JHASH__d9ky9I-E6BP__JHASH__"):b("bs_caml").i64_eq(h.attachmentType,b("MessagingAttachmentType.bs").animatedImage)?g._("__JHASH__i96Qg8bFARm__JHASH__"):g._("__JHASH__L554Fq7JwGo__JHASH__"):g._("__JHASH__C1Hm6KH3mNE__JHASH__");if(e)i=g._("__JHASH__iW_IRrZDexS__JHASH__");else if(f!==void 0){h=f.firstName;i=g._("__JHASH__O5URXTVzEEM__JHASH__",[g._param("name",k.jsx(b("MWText.react"),{type:"bodyLink4",children:h!==void 0?h:f.name}),[1,b("getFBTSafeGenderFromGenderConst")(b("LSContactGenderToGenderConst.bs").make(f.gender))])])}else i=g._("__JHASH__Y3usjYXlLYK__JHASH__",[g._param("Placeholder for an unknown user","Facebook User")]);return k.jsx("div",{className:(j||(j=b("stylex")))(l.message),children:k.jsx(b("MDSTextPairing.react"),{body:k.jsx(k.Fragment,{children:k.jsx(b("MWText.react"),{type:"body4",children:i})}),meta:a,level:3})})}d={make:m};function a(a){var c=a.message;a=a.isSecureThread;a=a!==void 0?a:!1;var d=k.useContext(b("MWPReplyContext.bs").context),e=d.clearReply,f=k.useContext(b("CometTriggerAccessibilityAlertContext"));return k.jsxs("div",{className:(j||(j=b("stylex")))(l.container),"data-testid":"mw_composer_reply_view",children:[k.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return k.jsx(b("MWText.react"),{type:"body4",children:g._("__JHASH__viMkwR52t0r__JHASH__")})},children:k.jsx(m,{message:c,isSecureThread:a})}),k.jsx(b("MWIcon.react"),{"aria-label":g._("__JHASH__jHl6Cj_8ioz__JHASH__"),icon:b("fbicon")._(h("478231"),12),onPress:function(a){b("bs_curry")._2(e,c.threadKey,!0);return b("bs_curry")._2(f,g._("__JHASH__1yy_YyaiiQS__JHASH__").toString(),{assertive:!1})},color:"primary"})]})}var n=k.memo(a);e={make:n};function c(a){var c=a.thread,d=a.messageId,e=a.messageTimestamp,f=b("useReStore")();a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var g=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("messages")),{hd:c.threadKey,tl:{hd:e,tl:{hd:d,tl:0}}})},[f,b("bs_int64").to_string(c.threadKey),d,JSON.stringify(e)]));if(g!==void 0)return k.jsx(n,{message:g,isSecureThread:a});else return null}a=c;f.styles=l;f.$MAWVault$requireCond=b("cr:385");f.Inner=d;f.Container=e;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy"],function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){var b=a.id;a=a.text;return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b,text:a})});b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWCMThreadTypes.re","MWCMUseFolder.re","MWChatComposerMentionsViewItem.react","MWLSThread.re","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadViewListStrategy","useMWChatMentionsDataSourceResolverConfig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}};function a(a){var e=a.editor,f=a.participants,g=a.threadFBID,k=j(d("I64").of_string(g));a=i(function(){return{participants:f,threadFBID:g,triggerParticipantsSearch:k}},[f,g,k]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var l=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")}),m=d("MWLSThread.re").useThreadExn(d("I64").of_string(g)),n=d("MWCMUseFolder.re").useFolder(m);if(d("MWCMThreadTypes.re").isJoinedCMThread(m.threadType)&&n&&b("cr:2600"))return h.jsx(b("cr:2600"),{editor:e,fbGroupId:n.fbGroupId,folderId:n.folderId,threadFBID:g});else return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","DEPRECATED_useLexicalCanShowPlaceholder","MLCInstrumentationPluginDeferred__INTERNAL.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","react","requireDeferred","stylex","useDeferredModuleOnReady"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),l={container:{backgroundColor:"kgnml90y",borderTopStartRadius:"b9mu8eyu",borderTopEndRadius:"r4pa5hsj",borderBottomEndRadius:"dy7c60at",borderBottomStartRadius:"p9br3yuc",boxSizing:"bdao358l",flexGrow:"cgu29s5g",minWidth:"aeinzg81"},editor:{flexGrow:"cgu29s5g",maxHeight:"effxes4x",minHeight:"lgak1ieh",minWidth:"aeinzg81",overflowY:"mm05nxu8"},editorWrapper:{display:"alzwoclg",flexGrow:"cgu29s5g",marginEnd:"r26s8xbz",marginStart:"j0k7ypqs",marginTop:"th51lws0",marginBottom:"mfn553m3",minWidth:"aeinzg81",position:"om3e55n1"},inputRow:{display:"alzwoclg",flexWrap:"o7bt71qk",justifyContent:"siu44isn"}},m=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,n=a.handlePastedFiles,o=a.participants,p=a.policyProduct,q=a.startContent,r=a.surface,s=a.testId,t=a.threadID,u=a.topContent;a=a.useMentionsPlugin;var v=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a)},[f,g]),w=d("DEPRECATED_useLexicalCanShowPlaceholder").useLexicalCanShowPlaceholder(g),x=c("useDeferredModuleOnReady")(k);return i.jsxs("div",{className:c("stylex")(l.container),children:[i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:p,surface:r}),u,i.jsxs("div",{className:c("stylex")(l.inputRow),children:[q,i.jsxs("div",{className:c("stylex")(l.editorWrapper),children:[i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:m,contentEditableRef:v,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:s,xstyle:l.editor}),w&&i.jsx(c("CometLexicalPlaceholder.react"),{children:"Aa"})]}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,participants:o,threadFBID:t}),b("cr:1948")&&i.jsx(b("cr:1948"),{editor:g}),x==null?null:i.jsx(x,{editor:g,handlePastedFiles:n})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWAudioRecorder.bs",["MWAudioPlayer.bs","MWPAudioPlayer.bs","MWPThreadTheme.bs","bs_curry","react","requireDeferred","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioRecorder.bs");function a(a){var c=a.voiceRecorder;a=b("MWPThreadTheme.bs").useBottom(void 0);var d=c.audioEl,e=c.state,f=i.useRef(void 0),g=b("MWPAudioPlayer.bs").useResetHighlightProgress(f),k;if(typeof e==="number")k=!1;else switch(e.TAG|0){case 0:k=!1;break;case 1:case 2:k=!0;break}var l=function(a){b("bs_curry")._1(c.toggle,e);if(typeof e==="number")return;switch(e.TAG|0){case 0:j.onReady(function(a){return b("bs_curry")._1(a.logClickStopRecording,0)});return;case 1:var d=e._1,f=e._0;d===0?j.onReady(function(a){return b("bs_curry")._1(a.logPlaybackStart,f)}):j.onReady(function(a){return b("bs_curry")._2(a.logPlaybackResume,f,d)});return;case 2:var g=e._1,h=e._0;j.onReady(function(a){return b("bs_curry")._2(a.logPlaybackPause,h,g)});return}},m;if(typeof e==="number")m=0;else switch(e.TAG|0){case 0:m=e._2;break;case 1:case 2:m=e._0;break}var n;if(typeof e==="number")n=void 0;else switch(e.TAG|0){case 0:n=void 0;break;case 1:case 2:n=e._1;break}var o;if(typeof e==="number")o=!1;else switch(e.TAG|0){case 1:o=!1;break;case 0:case 2:o=!0;break}var p;p=typeof e==="number"||e.TAG!==1?!1:e._1===0;p=b("MWPAudioPlayer.bs").useProgressLiveUpdate(m,d,n,o,!1,p);var q=b("MWAudioPlayer.bs").MWHighlight.useStyles(!0),r,s=0;if(typeof e==="number")r=null;else switch(e.TAG|0){case 0:r=null;break;case 1:case 2:s=1;break}s===1&&(r=i.jsx(b("MWPAudioPlayer.bs").ScreenreaderLabel.make,{currentTime:e._1,duration:e._0}));var t;if(typeof e==="number")t=b("MWPAudioPlayer.bs").playLabel;else switch(e.TAG|0){case 0:t=b("MWPAudioPlayer.bs").stopLabel;break;case 1:t=b("MWPAudioPlayer.bs").playLabel;break;case 2:t=b("MWPAudioPlayer.bs").pauseLabel;break}var u;if(typeof e==="number")u=i.jsx(b("MWAudioPlayer.bs").PlayIconOutline.make,{});else switch(e.TAG|0){case 0:u=i.jsx(b("MWAudioPlayer.bs").StopIconOutline.make,{});break;case 1:u=i.jsx(b("MWAudioPlayer.bs").PlayIconOutline.make,{});break;case 2:u=i.jsx(b("MWAudioPlayer.bs").PauseIconOutline.make,{});break}var v;s=0;if(typeof e==="number")v=0;else switch(e.TAG|0){case 0:v=e._1;break;case 1:case 2:s=1;break}s===1&&(v=Math.max(e._0-e._1,0));return i.jsx(b("MWPAudioPlayer.bs").Container.make,{scrubberRef:f,hasScrubber:k,audioEl:d,testid:"mw_audio_recorder",style:{backgroundColor:a,cursor:k?"pointer":"default",height:"36px",borderRadius:"18px"},children:i.jsxs(b("MWPAudioPlayer.bs").KeyCommands.make,{audioEl:d,children:[i.jsx(b("MWPAudioPlayer.bs").Highlight.make,{xstyle:q,ref:p}),r,i.jsx(b("MWPAudioPlayer.bs").Highlight.make,{xstyle:q,ref:f}),i.jsx("div",{onMouseMove:k?g:void 0,className:(h||(h=b("stylex")))(b("MWPAudioPlayer.bs").styles.playbackButtonContainer),children:i.jsx(b("MWAudioPlayer.bs").PlaybackButton.make,{onPress:l,label:t,icon:u,outgoing:!0})}),i.jsx(b("MWPAudioPlayer.bs").Timer.make,{time:v,style:{color:a,cursor:"pointer"}})]})})}c=a;f.$MWChatAudioLog$Deferred=j;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XStickerAssetController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})},null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<h.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<h.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<h.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<h.small?b=d("EmojiLikeConstants").size.SMALL:a<h.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<h.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatGrowingHotlikeButton.bs",["fbt","CometEmoji.bs","CometPressable.react","EmojiRenderer","LSHotEmojiSize.bs","MAWGating.bs","MWChatChatButtonColorConstants.bs","MWChatHotLikeEmitterContext.bs","MWLikeSvgIcon.bs","MWTooltip.react","MessengerHotLikeUtils","bs_caml_format","bs_caml_option","bs_curry","clearTimeout","gkx","react","setTimeout","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={hotlikeButtonFDS:{paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"b7mnygb8",marginStart:"iec8yc8l"},hotlikeButtonMDS:{paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"h07fizzr",marginStart:"jbg88c62"},customEmojiButtonFDS:{paddingTop:"q46jt4gp",paddingBottom:"r5g9zsuq",paddingEnd:"c0adsbae",paddingStart:"b0r6k8t3",marginEnd:"b7mnygb8",marginStart:"iec8yc8l"},customEmojiButtonMDS:{paddingTop:"q46jt4gp",paddingBottom:"r5g9zsuq",paddingEnd:"c0adsbae",paddingStart:"b0r6k8t3",marginEnd:"h07fizzr",marginStart:"jbg88c62"}};function a(a){var c=a.onSendMessage,d=a.color,e=a.thread;a=a.disabled;a=a!==void 0?a:!1;var f=e.customEmoji,h=b("MWChatHotLikeEmitterContext.bs").useHook(void 0);e=j.useState(function(){return 0});var l=e[1],m=e[0],n=j.useRef(void 0);e=j.useState(function(){return!0});var o=e[1];e=e[0];var p=function(a){return b("bs_curry")._1(h.notify,3)},q=function(a){a=n.current;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}},r=function(a){q(void 0);a=b("setTimeout")(p,3e3);n.current=b("bs_caml_option").some(a)},s=function(a){if(m!==0){b("bs_curry")._1(l,function(a){return 0});q(void 0);return b("bs_curry")._1(h.notify,3)}},t=function(a){m!==0&&(a.stopPropagation(),a.preventDefault());a.button!==0&&(b("bs_curry")._1(l,function(a){return Date.now()}),b("bs_curry")._1(h.notify,0),r(void 0));return b("bs_curry")._1(o,function(a){return!1})},u=function(a){if(a<b("MessengerHotLikeUtils").SizeTimes.small)return b("LSHotEmojiSize.bs").small;else if(a<b("MessengerHotLikeUtils").SizeTimes.medium)return b("LSHotEmojiSize.bs").medium;else if(a<b("MessengerHotLikeUtils").SizeTimes.large)return b("LSHotEmojiSize.bs").large;else return b("LSHotEmojiSize.bs").small},v=function(a){a=Date.now()-m;var d=0;if(f!==void 0&&f!==""){var e=u(a);b("bs_curry").app(c,[f,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}else d=1;if(d===1){e=b("bs_caml_format").caml_int64_of_string(b("MessengerHotLikeUtils").getStickerIDForTime(a));b("MAWGating.bs").isHotLikeEnabled(void 0)?b("bs_curry").app(c,[void 0,void 0,e,b("LSHotEmojiSize.bs").small,void 0,void 0,void 0,void 0,void 0,void 0,void 0]):b("bs_curry").app(c,[void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0])}m!==0&&(b("bs_curry")._1(l,function(a){return 0}),q(void 0),b("bs_curry")._1(h.notify,1));return b("bs_curry")._1(o,function(a){return!0})};if(f!==void 0&&f!==""){var w=g._("__JHASH__tAqfCk1edp7__JHASH__",[g._param("emoji",f)]),x=function(a){var c=b("EmojiRenderer").parse(f).map(function(a){return a.emoji});if(c.length!==1)return j.jsx("span",{children:f});c=c[0];return j.jsx(b("CometEmoji.bs").make,{emoji:c,size:a})},y=g._("__JHASH__7OvMJwHRigG__JHASH__");y=e?j.jsxs(j.Fragment,{children:[j.jsxs("span",{children:[y," "]}),x(16)]}):null;return j.jsx(b("MWTooltip.react"),{tooltip:y,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":w,disabled:a,testid:"messenger_hotlike_emoji_button",onHoverOut:s,onPressIn:t,onPress:v,overlayDisabled:a,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.customEmojiButtonMDS:k.customEmojiButtonFDS]},children:x(20)})})}y=g._("__JHASH__OzQk4bc7gK8__JHASH__");w=e?y:null;x={className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),size:"20"};d!==void 0&&(x.color=d);return j.jsx(b("MWTooltip.react"),{tooltip:w,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":y,disabled:a,testid:"messenger_hotlike_button",onHoverOut:s,onPressIn:t,onPress:v,overlayDisabled:a,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.hotlikeButtonMDS:k.hotlikeButtonFDS]},children:j.jsx(b("MWLikeSvgIcon.bs").make,x)})})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerEmojiButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","JSResourceForInteraction","MWChatComposerIcons.bs","MWTooltip.react","Promise","bs_curry","gkx","promiseDone","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("__JHASH__HXazdxq92Fj__JHASH__"),k={buttonFDS:{paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g"},buttonMDS:{paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze"}},l=b("JSResource")("CometAddEmojiToComposerForLexical.bs").__setRef("MWV2ComposerEmojiButton.bs");function a(a){var c=a.editor,d=a.color;a=function(a){b("promiseDone")(l.load().then(function(d){b("bs_curry")._3(d.make,a,c,16);return b("Promise").resolve(void 0)}),void 0,void 0)};return i.jsx(b("CometLazyPopoverTrigger.react"),{fallback:i.jsx(b("CometPopoverLoadingState.react"),{withArrow:!0}),popoverResource:b("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource",{name:"MWV2ComposerEmojiPicker","class":"fluid"}).__setRef("MWV2ComposerEmojiButton.bs"),popoverProps:{onSelect:a,withArrow:!0},align:"end",children:function(a,c,e,f,g,h,m){return i.jsx(b("MWTooltip.react"),{tooltip:j,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":j,ref:a,testid:"composer_emoji_picker",onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g,void 0)},onPressIn:b("bs_curry").__1(h),onPress:function(a){b("bs_curry")._1(c,void 0),l.preload()},overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").Emoji.make,{size:20,fill:d})})})}})}c=a;f.label=j;f.styles=k;f.cometAddEmojiToComposerForLexical=l;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatFileIcon.bs",["ix","MWIcon.react","fbicon","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"mln2r6ah",backgroundColor:"oab4agdp",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.icon),children:j.jsx(b("MWIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"})})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.re","CometImage.react","CometImageCover.react","CometPressable.react","MWChatFileIcon.bs","MWIcon.react","MWText.react","MWV2ComposerFileButton.bs","MWV2ComposerMediaProgressBar.bs","MessagingAttachmentType.bs","TetraCircleButton.react","bs_caml","bs_caml_option","bs_curry","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",flexGrow:"c7y9u1f0",flexShrink:"jez8cy9q",height:"ov5gjlzi",width:"l188yfni",marginEnd:"tpvapw4o",position:"om3e55n1",backgroundColor:"iicxittl",borderTopStartRadius:"pdk0kjlo",borderTopEndRadius:"kbmua9a3",borderBottomEndRadius:"f3lj61do",borderBottomStartRadius:"r5a47i9s"}};function m(a){var c=a.supportedFileTypes;a=a.onAttachmentsAdded;a=b("MWV2ComposerFileButton.bs").useOnFilesSelected(a);a={children:function(a){return k.jsx(b("CometPressable.react"),{"aria-label":g._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(c){return b("bs_curry")._1(a,void 0)},xstyle:function(a){return[l.root]},children:k.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("481777"),24),testid:"composer_attachment_area_photo_uploader",color:"primary"})})},multiple:!0,onFilesSelected:a};c!==void 0&&(a.accept=b("bs_caml_option").valFromOption(c));return k.jsx(b("CometFileSelector.re").make,a)}c={styles:l,make:m};var n={button:{position:"s8sjc6am",top:"ejru8ifv",end:"hlkd08a4"}};function o(a){var c=a.onPress;return k.jsx("div",{className:(j||(j=b("stylex")))(n.button),children:k.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(h("478231"),12),label:g._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:function(a){return b("bs_curry")._1(c,void 0)},size:24,type:"overlay"})})}d={styles:n,make:o};function p(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}var q={video:{objectFit:"p9wrh9lq"},playIcon:{position:"s8sjc6am",start:"py3ibqi0",top:"qy9lpsl4",marginStart:"p0o65fsq",marginTop:"iuqoo4w4"},file:{display:"alzwoclg",alignItems:"i85zmo3j",userSelect:"f14ij5to",paddingTop:"d2hqwtrz",paddingBottom:"o9wcebwi",paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"},fileContent:{flexGrow:"cgu29s5g"}};function r(a){a=a.mediaStaging;var c=a.attachmentType,d=p(a);if(d){d=a.previewUrl;if(d!==void 0)return k.jsx(b("CometImageCover.react"),{alt:"",src:d});else return null}if(b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").video)){d=a.previewUrl;if(d!==void 0)return k.jsxs(k.Fragment,{children:[k.jsx("video",{src:d,width:"48",height:"48",className:(j||(j=b("stylex")))(q.video)}),k.jsx("div",{className:j(q.playIcon),children:k.jsx(b("CometImage.react"),{src:h("354763")})})]});else return null}if(!b("bs_caml").i64_eq(c,b("MessagingAttachmentType.bs").image))return k.jsxs("div",{className:(j||(j=b("stylex")))(q.file),children:[k.jsx(b("MWChatFileIcon.bs").make,{}),k.jsx("div",{className:j(q.fileContent),children:k.jsx(b("MWText.react"),{type:"headline4",numberOfLines:2,children:a.filename})})]});d=a.previewUrl;if(d!==void 0)return k.jsx(b("CometImageCover.react"),{alt:"",src:d});else return null}e={styles:q,make:r};var s={itemContainer:{flexGrow:"c7y9u1f0",flexShrink:"jez8cy9q",height:"ov5gjlzi",width:"l188yfni",marginTop:"fzsidkae",marginEnd:"tpvapw4o",marginBottom:"eyufkmuh",marginStart:"kmwttqpk",position:"om3e55n1"},previewContainer:{position:"om3e55n1",overflowX:"lq84ybu9",overflowY:"hf30pyar",height:"ov5gjlzi",width:"l188yfni",borderTopStartRadius:"pdk0kjlo",borderTopEndRadius:"kbmua9a3",borderBottomEndRadius:"f3lj61do",borderBottomStartRadius:"r5a47i9s"},fileContainer:{width:"puagby9j"},filePreviewContainer:{width:"puagby9j",backgroundColor:"kdciaz72"}};function t(a){var c=a.mediaStaging,d=a.onAttachmentRemoved;a=k.useCallback(function(a){return b("bs_curry")._1(d,c.offlineAttachmentId)},[]);var e=b("bs_caml").i64_neq(c.attachmentType,b("MessagingAttachmentType.bs").video)&&b("bs_caml").i64_neq(c.attachmentType,b("MessagingAttachmentType.bs").image)&&!p(c);return k.jsxs("div",{className:(j||(j=b("stylex")))(s.itemContainer,e?s.fileContainer:!1),children:[k.jsxs("div",{className:j(s.previewContainer,e?s.filePreviewContainer:!1),children:[k.jsx(r,{mediaStaging:c}),k.jsx(b("MWV2ComposerMediaProgressBar.bs").make,{mediaStaging:c,height:4})]}),k.jsx(o,{onPress:a})]})}var u={styles:s,make:t},v={container:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"t5n4vrf6",flexWrap:"sr926ui1",paddingTop:"s1m0hq7j",paddingEnd:"aesu6q9g",paddingBottom:"rj2hsocd",paddingStart:"e4ay1f3w",overflowX:"ba4ynyj4",width:"mfclru0v",boxSizing:"bdao358l"}};function a(a){var c=a.mediaStaging,d=a.onAttachmentRemoved,e=a.onAttachmentsAdded;a=a.supportedFileTypes;if(c.length===0)return null;else return k.jsxs("div",{className:(j||(j=b("stylex")))(v.container),children:[k.jsx(m,{supportedFileTypes:a,onAttachmentsAdded:e}),c.map(function(a){return k.jsx(t,{mediaStaging:a,onAttachmentRemoved:d},a.offlineAttachmentId)})]})}a=a;f.UploadPlaceholder=c;f.CloseButton=d;f.isVideoLikeImage=p;f.Preview=e;f.StagingItem=u;f.styles=v;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerPersistentMenuButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","FBID.bs","JSResource","MWChatChatButtonColorConstants.bs","MWTooltip.react","bs_curry","bs_int64","gkx","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=g._("__JHASH__2kGg_y6m8FS__JHASH__"),l={buttonFDS:{flexShrink:"jez8cy9q",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"b7mnygb8",marginStart:"iec8yc8l"},buttonMDS:{flexShrink:"jez8cy9q",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"h07fizzr",marginStart:"jbg88c62"}};function a(a){var c=a.thread,d=a.color,e=a.onSendMessage;a=a.disabled;var f=a!==void 0?a:!1;a=function(a){var c=a.title;a=a.id;return b("bs_curry").app(e,[c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0])};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.bs"),popoverProps:{onClose:function(a){},onSelect:a,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey))},align:"end",children:function(a,c,e,g,h,m,n){return j.jsx(b("MWTooltip.react"),{tooltip:k,position:"above",children:j.jsx(b("CometPressable.react"),{disabled:f,label:k,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayDisabled:f,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?l.buttonMDS:l.buttonFDS]},children:j.jsx("svg",{className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.strokeGrey),width:"20",height:"20",viewBox:"0 0 24 18",children:j.jsxs("g",{stroke:d,strokeWidth:"2.5",strokeLinecap:"round",children:[j.jsx("path",{d:"M1.5,1.5 H22.5"}),j.jsx("path",{d:"M1.5,9 H22.5"}),j.jsx("path",{d:"M1.5,16.5 H22.5"})]})})}),forceInlineDisplay:!0})}})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("Navigator.bs",["bs_caml_option"],function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerPlusButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWChatComposerIcons.bs","MWTooltip.react","Navigator.bs","Promise","bs_caml_option","bs_curry","gkx","react","requireDeferred","useCometLazyDialog"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerPlusButton.bs");function k(a){var c=i.useState(function(){return 0}),d=c[1],e=c[0];c=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog").__setRef("MWV2ComposerPlusButton.bs"));var f=c[0],g=function(a){return f({onClose:function(a){},onAllow:function(a){},contentType:"accessDenied"},function(a){})},h=function(c){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(c){d(function(a){return 1});b("bs_curry")._1(a.start,c);return b("Promise").resolve(void 0)})["catch"](function(a){a.name==="NotAllowedError"?(d(function(a){return 2}),g(void 0)):d(function(a){return 3});j.onReady(function(a){return b("bs_curry")._1(a.logBrowserDenyAccess,void 0)});return b("Promise").resolve(void 0)})},k=function(a){return f({onClose:function(a){},onAllow:function(a){return h(void 0)},contentType:"askForAccess"},function(a){})};return function(a){if(e>=3)return h(void 0);switch(e){case 0:a=b("Navigator.bs").query({name:"microphone"});a!==void 0?b("bs_caml_option").valFromOption(a).then(function(a){a=a.state;switch(a){case"denied":d(function(a){return 2});g(void 0);break;case"granted":h(void 0);break;case"prompt":k(void 0);break;default:k(void 0)}return b("Promise").resolve(void 0)})["catch"](function(a){k(void 0);return b("Promise").resolve(void 0)}):(h(void 0),j.onReady(function(a){return b("bs_curry")._1(a.logMicAccessCheckFailed,void 0)}));return;case 1:return h(void 0);case 2:return g(void 0)}}}var l={plusButtonFDS:{paddingTop:"d2hqwtrz",paddingEnd:"fzd7ma4j",paddingBottom:"o9wcebwi",paddingStart:"lcfup58g",marginTop:"i0rxk2l3",marginBottom:"laatuukc",marginEnd:"b7mnygb8",marginStart:"iec8yc8l"},plusButtonMDS:{paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginStart:"jbg88c62"}};function a(a){var c=a.thread,d=a.color,e=a.onSendMessage,f=a.onAttachmentsAdded,h=a.voiceRecorder,m=a.supportedFileTypes,n=a.isInputExpanded,o=a.canSendAudioClip,p=a.canSendPayment,q=a.renderExtraOverflowMenuItems,r=function(a){};a=i.useState(function(){return!1});var s=a[1],t=function(a){return b("bs_curry")._1(s,function(b){return a})},u=b("MAWGating.bs").isStickerEnabled(void 0)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),v=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").roomCreation,c)&&b("gkx")("395");p=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").payment,c)&&!b("gkx")("1787591")&&p;var w=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").pollCreation,c)&&!b("gkx")("1787592");o=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").audioClips,c)&&!b("gkx")("1787585")&&o;var x=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").gif,c)&&!b("gkx")("1787594")&&n,y=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,c)&&!b("gkx")("1787595")&&n;u=!b("gkx")("1787596")&&(b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").sticker,c)||u)&&n;var z=i.useMemo(function(){if(q!==void 0)return b("bs_curry")._3(q,d,r,f);else return[]},[q,d,r,f]),A=v||p||w||o||x||y||u||z.length>0,B=!A;A=k(h);var C=h.state!==0,D=C?g._("__JHASH__tnRfHlva-bL__JHASH__"):a[0]?g._("__JHASH__SFruYEeI3S-__JHASH__"):g._("__JHASH__PUPO-44z1pF__JHASH__");return i.jsx(b("CometLazyPopoverTrigger.react"),{onVisibilityChange:t,popoverResource:b("JSResourceForInteraction")("MWV2ComposerOverflowMenu").__setRef("MWV2ComposerPlusButton.bs"),popoverProps:{threadKey:c.threadKey,color:d,onClose:r,onSendMessage:e,onAttachmentsAdded:f,onPressVoiceClip:A,supportedFileTypes:m,isInputExpanded:n,extraItems:z,showPayment:p,showCreateRoom:v,showCreatePoll:w,showSendVoiceClip:o,showSticker:u,showGif:x,showFile:y},align:"start",position:"above",preloadTrigger:"button",children:function(a,c,e,f,g,k,m){return i.jsx(b("MWTooltip.react"),{tooltip:D,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":D,disabled:B,ref:a,testid:"composer_actions_button",onHoverIn:b("bs_curry").__1(f),onHoverOut:function(a){return b("bs_curry")._1(g,void 0)},onPressIn:b("bs_curry").__1(k),onPress:function(a){if(C){b("bs_curry")._1(h.reset,void 0);j.onReady(function(a){return b("bs_curry")._1(a.logDeleteRecording,void 0)});return}else return b("bs_curry")._1(c,void 0)},overlayDisabled:B,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?l.plusButtonMDS:l.plusButtonFDS]},children:i.jsx(b("MWChatComposerIcons.bs").MoreActions.make,{size:20,fill:B?void 0:d,isRotated:C})})})}})}c=a;f.$MWChatAudioLog$Deferred=j;f.styles=l;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWTooltip.react","UserAgent","gkx","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c=b("gkx")("6934");d=b("UserAgent").isPlatform("Mac OS X");var k=c?d?g._("__JHASH__rZOmP6eifIV__JHASH__"):g._("__JHASH__ylwhpFdWk4l__JHASH__"):g._("__JHASH__7975gRkNyLl__JHASH__"),l={buttonFDS:{flexShrink:"jez8cy9q",flexGrow:"c7y9u1f0",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"b7mnygb8",marginStart:"iec8yc8l"},buttonMDS:{flexShrink:"jez8cy9q",flexGrow:"c7y9u1f0",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",marginEnd:"h07fizzr",marginStart:"jbg88c62"}};function a(a){var c=a.color,d=a.onPress;a=a.disabled;a=a!==void 0?a:!1;return j.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{disabled:a,label:k,testid:"chat_send_button",onPress:d,overlayDisabled:a,overlayRadius:"50%",xstyle:function(a){return[b("gkx")("571")?l.buttonMDS:l.buttonFDS]},children:j.jsx("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",className:(i||(i=b("stylex")))(b("MWChatChatButtonColorConstants.bs").styles.fillGrey),children:j.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:c})})}),forceInlineDisplay:!0})}e=a;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2UseVoiceRecorder.bs",["MWChatRecorderUtilsWorkerResource","MWConsole","Promise","WebWorker","bs_caml_option","bs_curry","clearTimeout","react","requireDeferred","setTimeout","useIsMountedRef","usePrevious"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2UseVoiceRecorder.bs");function j(a,b){if(typeof b==="number"){if(b!==0)return 0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return{TAG:1,_0:a._1,_1:0};case 1:return{TAG:2,_0:a._0,_1:a._1};case 2:return{TAG:1,_0:a._0,_1:a._1}}}else switch(b.TAG|0){case 0:return{TAG:0,_0:b._0,_1:0,_2:b._1};case 1:var c=b._0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return{TAG:0,_0:a._0,_1:c,_2:a._2};case 1:return{TAG:1,_0:c,_1:a._1};case 2:return{TAG:2,_0:c,_1:a._1}}case 2:c=b._0;if(typeof a==="number")return a;switch(a.TAG|0){case 0:return a;case 1:var d=a._0;if(c===d)return{TAG:1,_0:d,_1:0};else return{TAG:1,_0:d,_1:c};case 2:d=a._0;if(c===d)return{TAG:1,_0:d,_1:0};else return{TAG:2,_0:d,_1:c}}case 3:return{TAG:1,_0:b._0,_1:0}}}function k(a){if(window.AudioContext!==void 0)return b("bs_caml_option").some(new window.AudioContext());else if(window.webkitAudioContext!==void 0)return b("bs_caml_option").some(new window.webkitAudioContext());else return}function a(a,c){var d=a!==void 0?a:60;c=h.useReducer(j,0);var e=c[1],f=c[0],g=b("useIsMountedRef")(),l=h.useRef(void 0),m=h.useRef([]),n=h.useRef([]),o=h.useRef(void 0),p=h.useRef(void 0),q=h.useRef(void 0),r=h.useRef(void 0),s=h.useRef(void 0),t=h.useCallback(function(a){if(!g.current)return;var c=URL.createObjectURL(a);q.current=c;var d=new Audio(c);d.addEventListener("canplay",function(c){p.current=b("bs_caml_option").some(d);c=d.duration;e({TAG:1,_0:c});c={file:a,duration:c};r.current=c;var f=s.current;if(f!==void 0)return b("bs_curry")._1(f,c)});d.addEventListener("timeupdate",function(a){a=p.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).currentTime;return e({TAG:2,_0:a})});d.addEventListener("durationchange",function(a){a=p.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).duration;if(!Number.isNaN(a))return e({TAG:1,_0:a})})},[]),u=h.useCallback(function(a){a=l.current;var c=o.current;if(a===void 0)return;if(c===void 0)return;var d=m.current,e=n.current;d={buffersL:d,buffersR:e,sampleRate:a};b("bs_caml_option").valFromOption(c).postMessage(d)},[]),v;v=typeof f==="number"||f.TAG!==0?!1:!0;var w=h.useCallback(function(a){if(!v)return;a=a.inputBuffer;var b=a.getChannelData(0).slice();a=a.getChannelData(1).slice();m.current.push(b);n.current.push(a)},[v]);h.useEffect(function(){if(typeof f==="number")return;if(f.TAG!==0)return;var a=f._0;m.current=[];n.current=[];var c={contents:void 0},d={contents:void 0};d.contents=k(void 0);var e=d.contents;if(e!==void 0){e=b("bs_caml_option").valFromOption(e);var g=e.destination;l.current=e.sampleRate;var h=e.createScriptProcessor(4096,2,2);c.contents=b("bs_caml_option").some(h);e=e.createMediaStreamSource(a);o.current=b("bs_caml_option").some(new(b("WebWorker"))(b("MWChatRecorderUtilsWorkerResource")).setMessageHandler(b("bs_curry").__1(t)).setAllowCrossPageTransition(!0).execute());h.addEventListener("audioprocess",w);e.connect(h);h.connect(g)}i.onReady(function(a){return b("bs_curry")._1(a.logClickStartRecording,void 0)});return function(e){a.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}});e=d.contents;e!==void 0&&b("bs_caml_option").valFromOption(e).close();e=c.contents;if(e!==void 0){b("bs_caml_option").valFromOption(e).removeEventListener("audioprocess",w);return}}},[v]);var x=b("usePrevious")(f);h.useEffect(function(){!(x==null)&&typeof x!=="number"&&x.TAG===0&&typeof f!=="number"&&f.TAG===1&&b("bs_curry")._1(u,void 0)},[x,f]);h.useEffect(function(){if(!v)return;var a=Date.now(),c={contents:void 0},f=function f(g){g=(Date.now()-a)/1e3;if(g>=d)return e({TAG:3,_0:d});else{e({TAG:1,_0:g});c.contents=b("bs_caml_option").some(b("setTimeout")(f,1e3));return}};c.contents=b("bs_caml_option").some(b("setTimeout")(f,1e3));return function(a){a=c.contents;if(a!==void 0){b("clearTimeout")(b("bs_caml_option").valFromOption(a));return}}},[v]);a=h.useCallback(function(a){return e({TAG:0,_0:a,_1:d})},[]);c=h.useCallback(function(a){e(1);p.current=void 0;r.current=void 0;l.current=void 0;a=q.current;if(a!==void 0){URL.revokeObjectURL(a);q.current=void 0;return}},[]);var y=h.useCallback(function(a){var c=p.current;if(c===void 0)return e(0);c=b("bs_caml_option").valFromOption(c);if(typeof a==="number")return e(0);switch(a.TAG|0){case 0:return e(0);case 1:c.play().then(function(a){e(0);return b("Promise").resolve(void 0)})["catch"](function(a){i.onReady(function(a){return b("bs_curry")._1(a.logBrowserDenyAccess,void 0)});return b("Promise").resolve(void 0)});return;case 2:c.pause();return e(0)}},[p]),z=h.useCallback(function(a){return new(b("Promise"))(function(d,c){c=r.current;if(c!==void 0)return d(c);s.current=function(a){return d(a)};if(typeof a==="number"||a.TAG!==0)return;else return b("bs_curry")._1(y,a)})},[]);return{state:f,start:a,reset:c,toggle:y,audioEl:p,getVoiceClip:z}}f.$MWChatAudioLog$Deferred=i;f.useVoiceRecorder=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ComposerView.bs",["CometMessengerComposerInner.react","CometPlaceholder.react","FBID.bs","LSMediaUrl.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","Locale","MAWGating.bs","MWAudioRecorder.bs","MWCMThreadTypes.bs","MWPActor.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWUseAriaDescribedByForComposer.bs","MWV2ChatGrowingHotlikeButton.bs","MWV2ComposerEmojiButton.bs","MWV2ComposerFileButton.bs","MWV2ComposerGifButton.bs","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.bs","MWV2ComposerPlusButton.bs","MWV2ComposerRoundedCorners.bs","MWV2ComposerSendButton.bs","MWV2ComposerStickerButton.bs","MWV2IsTabFocusedContext.bs","MWV2UseVoiceRecorder.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","StylexHelpers.bs","UseCurrentDisplayMode.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","gkx","killswitch","react","requireDeferred","stylex","useCometUniqueID","useCurrentDisplayMode","useDeferredModuleOnReady","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"alzwoclg",alignItems:"gldv74r8",paddingTop:"s1m0hq7j",paddingBottom:"rj2hsocd",fontSize:"k1z55t6l"},hidden:{display:"plzdoh0l"},container:{position:"om3e55n1",flexGrow:"cgu29s5g",overflowX:"ba4ynyj4"},button:{position:"s8sjc6am",bottom:"z6erz7xo",display:"alzwoclg",justifyContent:"jcxyg2ei",alignItems:"i85zmo3j","z-index":"b0ur3jhr"},buttonFDS:{marginEnd:"b7mnygb8",marginBottom:"laatuukc"},buttonMDS:{marginBottom:"kjdc1dyq"},buttonHidden:{transform:"a5zda31v",transitionProperty:"iwr3bmeu",transitionDuration:"qgj99rie"},buttonShown:{transform:"tjkoo78o",transitionProperty:"iwr3bmeu",transitionDuration:"qgj99rie"},fileButtonHidden:{transitionDelay:"jjdds37u"},stickerButtonHidden:{transitionDelay:"qy8gdob5"},gifButtonHidden:{transitionDelay:"mim7t75o"},fileButtonShown:{transitionDelay:"jjdds37u"},stickerButtonShown:{transitionDelay:"k4zy4pxx"},gifButtonShown:{transitionDelay:"aqc5ndet"},composer:{flexGrow:"cgu29s5g",display:"alzwoclg",transition:"oo5upp5e"},emojiButton:{end:"on4d8346"}},k=b("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.bs");function l(a){var c=b("MWPActor.bs").useActor(void 0),d=b("useReStore")(),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("participants")),{hd:a.threadKey,tl:0}),function(a){return[b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0})),a]})},[d,JSON.stringify(a.threadKey)])),f=i.useMemo(function(){return e.reduce(function(a,d){var e=d[0];if(e!==void 0&&b("bs_caml").i64_neq(e.id,c))return a.concat([[e,d[1]]]);else return a},[])},[e,c]);return i.useMemo(function(){return new Map(f.map(function(a){var c=a[1];a=a[0];var d=c.isAdmin,e=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),f=a.name,g=a.name;c=c.nickname;var h=b("LSMediaUrl.bs").Contact.profilePictureUrl(a);d=d!==void 0?d:!1;var i=a.workJobTitle,j=a.secondaryName;e={contactId:e,name:f,actualName:g,nickname:c,profileUrl:void 0,profilePictureUrl:h,isContact:!0,isAdmin:d,jobTitle:i,secondaryName:j};return[b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),e]}))},[f])}function m(a){var c=b("useDeferredModuleOnReady")(k);i.useEffect(function(){if(!(c==null))return b("bs_curry")._2(c,a,16)},[a,c])}function a(a){var c=a.thread,d=a.editor,e=a.surface,f=a.policyProduct,g=a.mediaStaging,k=a.onSendMessage,n=a.onAttachmentsAdded,o=a.onAttachmentRemoved,p=a.supportedFileTypes,q=a.hasStuffToSend,r=a.editorElementRef,s=a.sendMessage,t=a.isSendDisabled,u=a.canSendAudioClip,v=a.canSendPayment,w=a.maxAudioDuration,x=a.renderExtraOverflowMenuItems,y=a.localTimezoneInformation;a=a.composerLinkPreview;t=t!==void 0?t:!1;u=u!==void 0?u:!0;v=v!==void 0?v:!1;var z=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),A=b("MWCMThreadTypes.bs").isBroadcastThread(c.threadType),B=b("MWV2IsTabFocusedContext.bs").useContext(void 0),C=b("MWPThreadTheme.bs").useBottom(void 0),D=b("useCurrentDisplayMode")();D=D===b("UseCurrentDisplayMode.bs").darkTheme&&z?"var(--always-white)":C;C=t||!B?void 0:D;var E=b("MWV2UseVoiceRecorder.bs").useVoiceRecorder(w,void 0);B=E.state!==0;D=function(a){b("bs_curry")._1(E.getVoiceClip,E.state).then(function(a){b("bs_curry")._1(E.reset,void 0);b("bs_curry").app(k,[void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0]);return b("Promise").resolve(void 0)})};w=l(c);var F=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").mentions,c),G=b("Locale").isRTL(),H=b("MAWGating.bs").isStickerEnabled(void 0)&&z,I=!b("gkx")("1787596")&&(b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").sticker,c)||H),J=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").gif,c)&&!b("gkx")("1787594");A=!b("gkx")("1787595")&&!A;var K=b("gkx")("571"),L=K?[36,8]:[32,4],M=L[1];L=L[0];var N=0+L|0,O=N+L|0,P=G?{right:0..toString()+"px"}:{left:0..toString()+"px"};N=G?{right:N.toString()+"px"}:{left:N.toString()+"px"};var Q=G?{right:O.toString()+"px"}:{left:O.toString()+"px"};G=G?{marginRight:q?K?8..toString()+"px":"0":((O+L|0)+M|0).toString()+"px"}:{marginLeft:q?K?8..toString()+"px":"0":((O+L|0)+M|0).toString()+"px"};O=b("MWUseAriaDescribedByForComposer.bs").useHook(c);L=b("useCometUniqueID")();m(d);M={thread:c,color:C,onSendMessage:k,onAttachmentsAdded:n,voiceRecorder:E,supportedFileTypes:p,isInputExpanded:q,canSendAudioClip:u,canSendPayment:v};x!==void 0&&(M.renderExtraOverflowMenuItems=b("bs_caml_option").valFromOption(x));return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx(b("MWV2ComposerPlusButton.bs").make,M),B?i.jsxs(i.Fragment,{children:[i.jsx(b("MWAudioRecorder.bs").make,{voiceRecorder:E}),i.jsx(b("MWV2ComposerSendButton.bs").make,{color:C,onPress:D,disabled:t})]}):null,i.jsxs("div",{className:h(B?j.hidden:!1,j.container),children:[i.jsxs(b("MWTooltipGroup.react"),{children:[i.jsx("div",{className:h(j.button,K?j.buttonMDS:j.buttonFDS,q?j.buttonHidden:j.buttonShown,q?j.fileButtonHidden:j.fileButtonShown),style:P,children:i.jsx(b("MWV2ComposerFileButton.bs").make,{color:C,onAttachmentsAdded:n,supportedFileTypes:p,disabled:!A})}),i.jsx("div",{className:h(j.button,K?j.buttonMDS:j.buttonFDS,q?j.buttonHidden:j.buttonShown,q?j.stickerButtonHidden:j.stickerButtonShown),style:N,children:i.jsx(b("MWV2ComposerStickerButton.bs").make,{color:C,onSendMessage:k,disabled:!I,useSecureSend:H})}),i.jsx("div",{className:h(j.button,K?j.buttonMDS:j.buttonFDS,q?j.buttonHidden:j.buttonShown,q?j.gifButtonHidden:j.gifButtonShown),style:Q,children:i.jsx(b("MWV2ComposerGifButton.bs").make,{color:C,onSendMessage:k,disabled:!J,isSecureThread:z})})]}),y!==void 0?i.jsx(b("CometPlaceholder.react"),{children:b("bs_caml_option").valFromOption(y),fallback:null}):null,a!==void 0?i.jsx(b("CometPlaceholder.react"),{children:b("bs_caml_option").valFromOption(a),fallback:null}):null,i.jsxs("div",{className:h(j.composer),style:G,children:[i.jsx("div",{id:L,className:h(b("StylexHelpers.bs").styles.visuallyHidden),children:O}),i.jsx(b("CometMessengerComposerInner.react"),{contentEditableRef:r,editor:d,surface:e,policyProduct:f,testId:"chat_input:rich-input",topContent:i.jsx(b("MWV2ComposerMediaStaging.bs").make,{thread:c,mediaStaging:g,onAttachmentRemoved:o,onAttachmentsAdded:n,supportedFileTypes:p}),threadID:b("bs_int64").to_string(c.threadKey),participants:w,handlePastedFiles:n,useMentionsPlugin:F&&b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),ariaDescribedBy:L})]}),i.jsx("div",{className:h(B?j.hidden:!1,j.button,K?j.buttonMDS:j.buttonFDS,j.emojiButton),children:i.jsx(b("MWV2ComposerEmojiButton.bs").make,{editor:d,color:C})}),B?null:i.jsx(b("MWV2ComposerRoundedCorners.bs").TopRight.make,{}),B?null:i.jsx(b("MWV2ComposerRoundedCorners.bs").BottomRight.make,{})]}),B?null:q?i.jsx(b("MWV2ComposerSendButton.bs").make,{color:C,onPress:function(a){return b("bs_curry")._1(s,void 0)},disabled:t}):c.hasPersistentMenu&&!b("killswitch")("MESSENGER_WEB_PERSISTENT_MENU")?i.jsx(b("MWV2ComposerPersistentMenuButton.bs").make,{thread:c,color:C,onSendMessage:k,disabled:t}):i.jsx(b("MWV2ChatGrowingHotlikeButton.bs").make,{onSendMessage:k,color:C,thread:c,disabled:t})]})}c=a;f.useEmojiTextNodeTransform=m;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2FileDropzone.bs",["fbt","LS.bs","LSIssueNewError","LSTransaction.bs","MWCMThreadTypes.bs","MWText.react","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=j.createContext(null);function l(a){var b=a.fileUploadHandlerRef;a=a.children;return j.createElement(k.Provider,{value:b,children:a})}c={make:l};var m={root:{flexGrow:"cgu29s5g",display:"alzwoclg",flexDirection:"cqf1kptm",maxWidth:"gvxzyvdx",position:"om3e55n1",minHeight:"dnr7xe2t"},dropzone:{display:"alzwoclg",alignItems:"i85zmo3j",justifyContent:"jcxyg2ei",position:"s8sjc6am",bottom:"z6erz7xo",end:"on4d8346",start:"myo4itp8",top:"ekq1a7f9",backgroundColor:"j98654j2",zIndex:"b0ur3jhr"}};function n(a){if(a==null)return[];a=a.dataTransfer;if(a==null)return[];else return a.types}function o(a,c){var d=c!==0?c!==1?g._("__JHASH__UaK2GgtSNQH__JHASH__").toString():g._("__JHASH__M7mGXjgzxvT__JHASH__").toString():void 0;if(d===void 0)return;c=b("LSTransaction.bs").run(a,function(a){return b("LSIssueNewError")(void 0,void 0,d,d,void 0,b("LS.bs").make(a))},"readWrite");b("promiseDone")(c,void 0,void 0)}function p(a){if(b("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a.type)||b("cometIsMimeTypeForMedia").isMimeTypeForVideo(a.type))return!0;else return a.type.startsWith("audio/")}d=["text/plain","text/html","text/uri-list"];var q=new Set(d);function a(a){var c=a.children,d=a.thread,e=a.isMediaOnly,f=a.xstyle;a=a.isDisabled;f=f!==void 0?b("bs_caml_option").valFromOption(f):!1;a=a!==void 0?a:!1;var h=j.useRef(null),k=b("useReStore")();d=d!==void 0?b("MWCMThreadTypes.bs").isBroadcastThread(d.threadType):!1;var r=!b("gkx")("1835569"),s=a||r||h.current==null||d;a=function(a){var b=h.current;if(b==null)return!1;else return!n(a).some(function(a){return q.has(a)})};r=b("useFileDragEvents")(function(a){return!1},void 0,a);d=j.useCallback(function(a){var c=h.current;if(c==null)b("recoverableViolation")("Could not find fileUploadHandlerRef to handle dropped file!","messenger_comet");else{a=Array.from(a);var d=e?a.filter(p):a;a.length!==d.length&&o(k,a.length);!s&&d.length!==0&&b("bs_curry")._1(c,d)}},[s,e]);a=j.useRef(null);b("useFileDragEvents")(d,a.current,function(a){return!0});return j.jsxs("div",{className:(i||(i=b("stylex")))(m.root,f),ref:a,children:[j.jsx(l,{fileUploadHandlerRef:h,children:c}),!s&&r?j.jsx("div",{className:(i||(i=b("stylex")))(m.dropzone),children:j.jsx(b("MWText.react"),{type:"body1",children:g._("__JHASH__t6-mJeiR6At__JHASH__")})}):null]})}e=a;f.context=k;f.ContextProvider=c;f.styles=m;f.getMediaTypes=n;f.ignoredMediaTypes=d;f.ignoredMediaTypesSet=q;f.make=e},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometInteractionTracingQuickLogModule",[],function(a,b,c,d,e,f){a=Object.freeze({APP_COLLECTIONS_TAIL_LOAD:30605376,APP_SECTIONS_FEED_TAILLOAD:30605366,BLUE_ON_COMET_MODAL:30605363,BOOKMARK_ITEM:30613596,CHANNEL_TAB_ALL_VIDEOS_CARD_FETCH_MORE:30605391,CHANNEL_TAB_LATEST_VIDEOS_CARD_HSCROLL_LOAD_MORE:30605392,CHANNEL_TAB_PLAYLISTS_CARD_FETCH_MORE:30605390,CHANNEL_TAB_SERIES_CARD_FETCH_MORE:30605389,CHAT_TAB_OPEN:30605380,CHAT_TAB_SEND_MESSAGE:30605384,COLLECTIONS_TAILLOAD:30605367,COMMUNITY_VIEW_DIALOG_OPEN:30614747,COMPOSER_SUBMIT_PROCESSING:30605375,DIALOG_SHOW:30605362,EVENT_RSVP_WWW:30605345,FEED_COMPOSER_DIALOG_OPEN:30605316,FEED_PREFERENCES_DIALOG_OPEN:30605385,FETCH_MESSAGE_REQUESTS:30607516,GROUP_COMPOSER_DIALOG_OPEN:30605340,GROUP_MALL_FEED_TAILLOAD:30605332,HOMEPAGE_BADGED_NAVIGATION:30632331,HOME_FEED_TAILLOAD:30605313,HOVERCARD_SHOW:30619670,LWI_SECTION_OPTION_CHANGE:30605381,MARKETPLACE_BUY_LOCATION_DIALOG_OPEN:30605342,MARKETPLACE_COMPOSER_CREATE:30605344,MARKETPLACE_DEALS_FEED_PAGINATION:30605371,MARKETPLACE_ECOMM_PRODUCT_FEED_PAGINATION:30605373,MARKETPLACE_FEED_SAVED_PAGINATION:30605347,MARKETPLACE_HOME_FEED_PAGINATION:30605341,MARKETPLACE_SEARCH_FEED_PAGINATION:30605343,NOTIFICATION_PAGINATION:30605314,PAGE_ABOUT_FACEPILES_SEE_ALL_DIALOG_LOAD:30605358,PAGE_ABOUT_OPEN_MAP_VIEW:30605325,PAGE_ADMIN_SELECT_MANAGED_PAGE:30605324,PAGE_APPOINEMENT_SETTING_INITIAL_LOAD:30620522,PAGE_COMMUNITY_FACEPILES_SEE_ALL_DIALOG_LOAD:30605356,PAGE_COMMUNITY_TOP_FANS_CARD_SEE_ALL_DIALOG_LOAD:30605355,PAGE_COMPOSER_DIALOG_OPEN:30605333,PAGE_HOME_CARD_SEE_ALL_DIALOG_LOAD:30605330,PAGE_LIKE:30605317,PAGE_OPEN_VIDEO:30605318,PAGE_PHOTO_TAB_FETCH_MORE:30605331,PAGE_POST_OPEN_DETAILS:30605327,PAGE_REVIEWS_COMPOSER_TRIGGER:30605369,PAGE_REVIEWS_FEED_SORT:30605368,PAGE_REVIEWS_RECOMMENDATION_POST:30605370,PAGE_VIDEO_TAB_FETCH_MORE:30605319,POPOVER_SHOW:30605361,PRIVACY_SELECTOR_DIALOG_LOAD:30605326,PRIVACY_SELECTOR_SAVED_CUSTOM_PAGINATION:30605365,PROFILE_COMPOSER_DIALOG_OPEN:30605360,PROFILE_FOLLOW:30611078,PROFILE_MENTIONS_FEED_TAILLOAD:30616610,PROFILE_PICTURE_MENU_OPEN:30615365,PROFILE_PIC_EDIT_DIALOG_LOAD_MORE:30605386,PROFILE_PIC_EDIT_DIALOG_OPEN:30605387,PROFILE_PIC_OPEN:30605364,PROFILE_RATINGS_REVIEWS_FEED_TAILLOAD:30617968,PROFILE_SWITCHING_TTI:30618615,PROFILE_TILES_TAILLOAD:30605378,PYMK_FEED_PAGINATION:30618398,REELS_VIEWER_VIDEO_TRANSITION:30612548,SEARCH_TYPEAHEAD:30620813,SEE_MORE_FEED_UNIT:30615438,SHOW_COMMUNITIES_TAB:30620417,STORY_VIEWER_BUCKETS_TRANSITION:30613201,STORY_VIEWER_NAV_LIST_LOAD_PAGINATION:30605322,TAHOE_COMMENT_CREATE:30621572,TARGETING_DIALOG_OPEN:30605379,TA_TTRC_COMET:30605354,TIMELINE_FEED_TAILLOAD:30605315,UFI_LOAD_MORE_COMMENTS:30605393,UFI_REACTIONS_DIALOG_OPEN:30605374,VC:30617296,VIDEO_HOME_CATALOG_ALL_SHOWS_PAGINATION:30605336,VIDEO_HOME_CATALOG_MORE_FACEBOOK_ORIGINALS_PAGINATION:30605382,VIDEO_HOME_CATALOG_NAV:30605349,VIDEO_HOME_CHANNEL_PAGINATION:30605372,VIDEO_HOME_CONTEXT_MENU_TRIGGER:30605353,VIDEO_HOME_FEED_NAV:30605352,VIDEO_HOME_FEED_PAGINATION:30605334,VIDEO_HOME_LATEST_NAV:30605351,VIDEO_HOME_LATEST_PAGINATION:30605335,VIDEO_HOME_PLAYLIST_VIDEO_LIST_PAGINATION:30605337,VIDEO_HOME_SAVED_NAV:30605350,VIDEO_HOME_SAVED_PAGINATION:30605339,VIDEO_HOME_SETTINGS_TOGGLE:30605346,VIDEO_HOME_SPORTS_HIGHLIGHTS_PAGINATION:30605359,VIDEO_HOME_WATCHLIST_PAGE_NAV:30605348,VIDEO_HOME_WATCHLIST_PAGINATION:30605338});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWLSDefaultThreadSource.bs",["LSMessagingSource.bs","LSThreadAttributionTypeUtil.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("LSMessagingSource.bs").useHook(void 0);return h.useCallback(function(a){return b("LSThreadAttributionTypeUtil.bs").getSource(a,c)},[c])}f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMediaTraceHandler.bs",["LS.bs","LSAppendDataTraceAddon","LSDataTraceCheckPoint.bs","LSDataTraceType.bs","MAWTimeUtils","WATimeUtils","bs_caml_int64","bs_int64"],function(a,b,c,d,e,f){"use strict";function g(a,c){return a.table("data_trace_meta").add({traceId:c,initTimestampMs:b("MAWTimeUtils").toTimestamp(b("WATimeUtils").unixTime()),foregroundTimestampMs:b("bs_caml_int64").zero,traceType:b("LSDataTraceType.bs").task,shouldFlush:!1,contextOne:void 0,contextTwo:void 0,contextThree:void 0,predefinedId:void 0})}function a(a,c,d,e){return g(a,c).then(function(f){return b("LSAppendDataTraceAddon")(c,b("LSDataTraceCheckPoint.bs").richMediaUploadStart,b("bs_caml_int64").neg_one,void 0,b("bs_int64").to_string(d)+","+b("bs_int64").to_string(e),b("LS.bs").make(a))})}f.logMediaSendStart=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPSendMessageLogger.bs",["MWMediaTraceHandler.bs","MessagingBackend.bs","Promise","SendEventType.bs","bs_curry","requireDeferred"],function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger.bs");function a(a,c,d,e,f,h,i,j,k){g.onReady(function(g){return b("bs_curry").app(g.log,[a,c,d,f,h,e,i,j,k,b("SendEventType.bs").sendAttempt,b("MessagingBackend.bs").messengerInfra,void 0,void 0,void 0,void 0])})}function c(a,c,d,e){if(c!==void 0)return b("MWMediaTraceHandler.bs").logMediaSendStart(a,c,d,e);else return b("Promise").resolve(void 0)}f.$MWLogSend$Deferred=g;f.log=a;f.logMediaSendStart=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2SendOpenMessage.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSDict","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSInt64.bs","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendMessage","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","LSUpdateDraftMessage","LSVec","LsMessageRequestsActions.bs","MAWDualSendPermissionsManager.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWConsole","MWLSDefaultThreadSource.bs","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWPActor.bs","MWPComposerMediaUploadUtil.bs","MWPOpenComposerUtils.bs","MWPReplyContext.bs","MWPSendMessageLogger.bs","MWVersion.bs","MessageRequestsLog.bs","MessagingLoggingUtils.bs","MessagingLoggingUtilsAttachmentTypeInt.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","OfflineThreadingId.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","requireDeferred","useCometInteractionTracing","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWCMLogCommunityConversion.bs").__setRef("MWV2SendOpenMessage.bs");function j(a,c,d){i.onReady(function(e){return b("bs_curry")._4(e.log,a,c,!1,d)})}function k(a,c,d,e){if(c!==void 0)return b("MWMediaTraceHandler.bs").logMediaSendStart(a,c,d,e);else return b("Promise").resolve(void 0)}function l(a,c,d,e,f){if(a===void 0)return;if(!a.startsWith("blob:"))return;var g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("attachments")),{hd:e,tl:0}),function(d,e){if(typeof e==="number")return;if(e.TAG===0)return;d=e._0;if(d.attachmentFbid!==c.toString())return;e=d.playableUrl;if(e!==void 0&&!e.startsWith("blob:")){b("bs_curry")._1(g.contents,void 0);URL.revokeObjectURL(a);return}})}function a(a,c,d,e){var f=b("useReStore")(),g=b("MWPActor.bs").useActor(void 0),i=h.useContext(b("MWPReplyContext.bs").context),m=i.clearReply,n=i.reply,o=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),p=b("MAWDualSendPermissionsManager.bs").useIsThreadEligible(a.threadKey,a.threadType),q=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").splitMultiSendPhoto,a),r=b("useCometInteractionTracing")(b("qpl")._(30605384,"573"),"fast","INTERACTION");i=b("MWCMUseFolder.bs").useHook(a);var s=i!==void 0?b("bs_int64").to_string(i.fbGroupId):"",t=b("MWLSDefaultThreadSource.bs").useHook(void 0);return h.useMemo(function(){return function(h,i,u,v,w,x,y,z,A,B,C){var D=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),E=b("LSMessagingThreadTypeUtil.bs").isMessageRequest(a);return r(function(r){var F=b("bs_curry")._1(t,a.threadKey),G={contents:!0},H=b("LSGenerateTraceId")(),I={contents:b("MessagingLoggingUtilsAttachmentTypeInt.bs").none},J=f.runInTransaction(function(c){var m=b("LS.bs").make(c);return b("LSUpdateDraftMessage")(a.threadKey,"",m).then(function(t){if(z===void 0)return b("ReQL.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("media_staging")),function(c){if(c.isSent)return!1;else return b("bs_caml").i64_eq(c.threadKey,a.threadKey)})).then(function(l){var t=i!==void 0?b("bs_caml_option").some(b("LSDict").fromObject({mention_offsets:i.map(function(a){return String(a.offset)}).join(","),mention_lengths:i.map(function(a){return String(a.length)}).join(","),mention_ids:i.map(function(a){return a.id}).join(","),mention_types:i.length!==0?i.map(function(a){return a.type}).join(","):void 0})):void 0,z=h!==void 0?h.trim()!=="":!1,J=u!==void 0?(I.contents=b("MessagingLoggingUtilsAttachmentTypeInt.bs").sticker,!0):!1,K=x!==void 0?(I.contents=b("MessagingLoggingUtilsAttachmentTypeInt.bs").gif,!0):!1;t=z||J||K?b("LSOptimisticSendMessage")(g,a.threadKey,a.threadType,b("LSMailboxType.bs").messenger,h!==void 0?b("bs_caml_option").valFromOption(h):void 0,void 0,void 0,u!==void 0?b("bs_caml_option").valFromOption(u):void 0,v!==void 0?b("bs_caml_option").valFromOption(v):void 0,x!==void 0?b("bs_caml_option").valFromOption(x):void 0,w!==void 0?b("bs_caml_option").valFromOption(w):void 0,F,void 0,A!==void 0?b("bs_caml_option").valFromOption(A):void 0,b("bs_caml_option").option_get(n!==void 0?n.messageId:void 0),b("bs_caml_option").option_get(n!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(n!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,void 0,t!==void 0?b("bs_caml_option").valFromOption(t):void 0,b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative),!1,y!==void 0?b("bs_caml_option").valFromOption(y):void 0,o!==void 0?b("bs_caml_option").valFromOption(o):void 0,H!==void 0?b("bs_caml_option").valFromOption(H):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,m).then(function(c){b("bs_curry")._1(b("MWLSLogSend.bs").logSentWithHeroInteraction(r,c[0],o,n!==void 0,b("MWVersion.bs").v2,a.threadType)(p),E);d!==void 0&&b("bs_curry")._1(d,{TAG:0,_0:c[0],_1:z,_2:J,_3:K});return b("Promise").resolve(c)}):b("Promise").resolve(void 0);var L=function(a){return a.then(function(a){if(B===void 0)return b("Promise").resolve(void 0);if(a!==void 0){a=a[0];b("bs_curry")._1(B,a);return b("Promise").resolve(a)}b("bs_curry")._1(B,void 0);return b("Promise").resolve(void 0)})};if(l.length===0)return L(t).then(function(c){D&&j(I.contents,b("bs_int64").to_string(a.threadKey),s);b("MWPSendMessageLogger.bs").log(f,a.threadKey,a.threadType,g,c,[],F,I.contents,n!==void 0);return b("Promise").resolve(void 0)});var M=b("bs_caml_array").get(l,0);I.contents=b("MessagingLoggingUtils.bs").convertToAttachmentType(M.attachmentType);return L(t).then(function(e){return b("MWPComposerMediaUploadUtil.bs").createPartitionedAttachments(l,q).reduce(function(h,i){return h.then(function(h){var p=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),q=b("LSGenerateTraceId")();return b("LSLocalApplyOptimisticMessageWithAttachments")(g,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,b("bs_caml_option").option_get(n!==void 0?n.messageId:void 0),b("bs_caml_option").option_get(n!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(n!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,b("LSVec").make(i.map(function(a){return b("LSDict").fromObject(a)})),void 0,m).then(function(e){var f=e[0];return c.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(f),threadKey:a.threadKey,offlineThreadingId:f,messageId:void 0,threadAttributionSource:F,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!1,initiatingSource:o,skipUrlPreviewGen:void 0}).then(function(a){d!==void 0&&b("bs_curry")._1(d,{TAG:2,_0:f,_1:i.length});return b("Promise").resolve(f)})}).then(function(a){return k(c,q,b("bs_caml_int64").of_int32(i.length),I.contents).then(function(b){return[a,q]})}).then(function(d){var h=d[1],k=d[0];return b("Promise").all(i.map(function(d,e){return b("LSInsertNewMediaSend")(d.attachment_fbid,k,b("bs_caml_int64").of_int32(e),d.attachment_type,!1,!1,!1,!1,m).then(function(e){e=l.find(function(a){return b("bs_caml_obj").caml_equal(a.offlineAttachmentId,d.offline_attachment_id)});if(e!==void 0){var f=e.fbid;if(f!==void 0)return b("LSMarkSubJobCompletedV2")(d.attachment_fbid,f,void 0,void 0,void 0,m).then(function(a){return b("MWPOpenComposerUtils.bs").deleteMediaStaging(c,d.attachment_fbid)}).then(function(e){return b("MWPOpenComposerUtils.bs").updateAttachment(c,a.threadKey,k,d.attachment_fbid,function(a){a=b("bs_caml_obj").caml_obj_dup(a);a.previewHeight=void 0;a.previewWidth=void 0;a.attachmentFbid=b("bs_int64").to_string(f);return a})})}G.contents=!1;return b("MWPOpenComposerUtils.bs").updateMediaStaging(c,d.attachment_fbid,function(a){return{offlineAttachmentId:a.offlineAttachmentId,mailboxType:a.mailboxType,attachmentType:a.attachmentType,mimeType:a.mimeType,filename:a.filename,fileSize:a.fileSize,fbid:a.fbid,threadKey:a.threadKey,offlineThreadingId:a.offlineThreadingId,previewUrl:a.previewUrl,previewWidth:a.previewWidth,previewHeight:a.previewHeight,durationMs:a.durationMs,progress:a.progress,isSent:!0,hasError:a.hasError}}).then(function(e){return b("MWPOpenComposerUtils.bs").updateAttachment(c,a.threadKey,k,d.attachment_fbid,function(a){a=b("bs_caml_obj").caml_obj_dup(a);a.previewHeight=void 0;a.previewWidth=void 0;return a})})})})).then(function(c){b("MWPSendMessageLogger.bs").log(f,a.threadKey,a.threadType,g,e,i.map(function(a){return b("LSInt64.bs").ofString(a.attachment_fbid)}),F,I.contents,n!==void 0);p&&j(b("MessagingLoggingUtils.bs").convertToAttachmentType(I.contents),b("bs_int64").to_string(a.threadKey),s);return b("MWPOpenComposerUtils.bs").resumeSendJob(m,k,h)})}).then(function(a){return b("LSFlushDataTrace.bs").updateAndFlushTrace(c,b("bs_belt_Option").getExn(q))})})},b("Promise").resolve(void 0)).then(function(c){c=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey));c=b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)?[c,null]:[null,c];var d=c[1],e=c[0];b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:G.contents?b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_ALL_FILES_UPLOADED:b("MessengerWebEvent").HIT_SEND_MESSAGE_WITH_FILES_PENDING,other_user_fbid:d,thread_fbid:e,extra_data:null}});return b("Promise").resolve(void 0)})})});t=b("OfflineThreadingId.bs").make(void 0);var J=b("MWPComposerMediaUploadUtil.bs").getAudioAttachment(t,z.file,z.duration);return k(c,H,b("bs_caml_int64").one,b("MessagingLoggingUtilsAttachmentTypeInt.bs").fbVoiceMessage).then(function(c){return b("LSLocalApplyOptimisticMessageWithAttachments")(g,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,b("bs_caml_option").option_get(n!==void 0?n.messageId:void 0),b("bs_caml_option").option_get(n!==void 0?b("LSMessageReplySourceType.bs").message:void 0),b("bs_caml_option").option_get(n!==void 0?b("LSMessageReplySourceTypeV2.bs").message:void 0),void 0,b("LSVec").make([b("LSDict").fromObject(J)]),void 0,m)}).then(function(f){var g=f[0];return c.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(g),threadKey:a.threadKey,offlineThreadingId:g,messageId:void 0,threadAttributionSource:F,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!1,initiatingSource:o,skipUrlPreviewGen:e}).then(function(a){d!==void 0&&b("bs_curry")._1(d,{TAG:1,_0:g});return b("Promise").resolve(g)})}).then(function(a){var c=J.attachment_fbid;return b("LSInsertNewMediaSend")(c,a,b("bs_caml_int64").zero,J.attachment_type,!1,!1,!1,!1,m).then(function(d){return b("Promise").resolve([a,c])})}).then(function(c){var d=c[1],e=c[0];c=function(c,h){b("LSTransaction.bs").run(f,function(c){var g=b("LS.bs").make(c);return b("LSMarkSubJobCompletedV2")(d,b("bs_caml_int64").of_float(h),void 0,void 0,void 0,g).then(function(a){return b("MWPOpenComposerUtils.bs").resumeSendJob(g,e,H)}).then(function(c){l(J.playable_url,h,f,a.threadKey,void 0);return b("Promise").resolve(void 0)})},"readWrite");D&&j(J.attachment_type,b("bs_int64").to_string(a.threadKey),s);return b("MWPSendMessageLogger.bs").log(f,a.threadKey,a.threadType,g,e,[b("LSInt64.bs").string(b("bs_caml_int64").of_float(h))],F,b("MessagingLoggingUtils.bs").convertToAttachmentType(J.attachment_type),n!==void 0)};b("MWPComposerMediaUploadUtil.bs").startUpload(void 0,c,void 0,!0,[z.file],[d]);return b("Promise").resolve(void 0)})})},"readwrite","ui").then(function(d){b("bs_curry")._1(c,void 0);b("bs_curry")._2(m,a.threadKey,!1);E&&b("MessageRequestsLog.bs").logActionTapped(a,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").accept),void 0,void 0,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(J,void 0,void 0)})}},[b("bs_int64").to_string(a.threadKey),n,m,c,JSON.stringify(a.authorityLevel),o,r,e])}f.$MWCMLogCommunityConversion$Deferred=i;f.useOnSendOpenMessage=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPOpenTypingState.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","LSSendTypingIndicator","LSTransaction.bs","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_belt_Option","bs_caml","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c,d,e){if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_neq(c,e)){return(d=b("ReQL.bs")).first(d.map(d.filter(d.getKeyRange(d.fromTableAscending(a.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(c){return b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c.contactId,tl:0})),!1,function(a){return b("bs_caml").i64_eq(a.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)})})).then(function(a){return b("Promise").resolve(b("bs_belt_Option").getWithDefault(a,!1))})}else return b("Promise").resolve(!0)}function a(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0);return h.useCallback(function(e){if(!b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative))return;var f=i(c,a.threadKey,a.threadType,d).then(function(d){if(d)return b("LSTransaction.bs").run(c,function(c){return b("LSSendTypingIndicator")(a.threadKey,b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType),e,b("LS.bs").make(c))},"readWrite");else return b("Promise").resolve(void 0)});b("promiseDone")(f,void 0,void 0)},[c,JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),JSON.stringify(a.threadType),d])}f.useOnTypingStateChanged=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPOpenTypingState.re",["MWPOpenTypingState.bs"],function(a,b,c,d,e,f){a=b("MWPOpenTypingState.bs").useOnTypingStateChanged;f.useOnTypingStateChanged=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","MWPOpenTypingState.re","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=function(a){return void 0};function a(a){var b=c("MWPOpenTypingState.re").useOnTypingStateChanged(a),d=c("MWChatViewerChatVisibilityHook")();return h(function(){return d?b:i},[b,d])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2OpenComposer.bs",["MWMediaManager.bs","MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.bs","MWV2ComposerView.bs","MWV2FileDropzone.bs","MWV2SendOpenMessage.bs","bs_curry","react","useMWOnTypingStateChanged"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.forwardRef(function(a,c){var d=a.thread,e=a.isPreviewThread,f=a.afterSendMessage;a=a.onSendEmptyMessage;var g=h.useContext(b("MWPReplyContext.bs").context);g=g.reply;var i=function(a){return function(c){var d,e=!1;return b("MWV2SendOpenMessage.bs").useOnSendOpenMessage(a,c,d,e)}},j=b("MWMediaManager.bs").useMediaManager(d,void 0,void 0),k=j.mediaStaging,l=j.handleFileRemove,m=j.handleFileSelect,n=i(d)(f);j=b("useMWOnTypingStateChanged")(d);h.useImperativeHandle(c,function(){return b("bs_curry").__1(m)},[m]);return h.jsxs("div",{children:[g!==void 0?h.jsx(b("MWV2ComposerReplyView.bs").make,{thread:d,messageId:g.messageId,messageTimestamp:g.timestampMs}):null,h.jsx(b("MWPComposerEditor.bs").make,{thread:d,isPreviewThread:e,mediaStaging:k,onSendMessage:n,onSendEmptyMessage:a,onTypingStateChanged:j,children:function(a,c,e,f,g,i){return h.jsx(b("MWV2ComposerView.bs").make,{thread:d,editor:a,surface:c,policyProduct:e,mediaStaging:k,onSendMessage:n,onAttachmentsAdded:m,onAttachmentRemoved:l,supportedFileTypes:void 0,hasStuffToSend:f,editorElementRef:g,sendMessage:i})},surface:"mwp_mwv2_composer",policyProduct:"messaging_lightswitch"})]})});c={make:i};function j(a){}function a(a){var c=a.thread,d=a.isPreviewThread,e=a.afterSendMessage;a=a.onSendEmptyMessage;e=e!==void 0?e:j;a=a!==void 0?a:j;var f=h.useContext(b("MWV2FileDropzone.bs").context);return h.jsx(i,{thread:c,isPreviewThread:d,afterSendMessage:e,onSendEmptyMessage:a,ref:f})}d=a;f.Inner=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2OpenComposer.re",["MWV2OpenComposer.bs"],function(a,b,c,d,e,f){a=b("MWV2OpenComposer.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSContactReachabilityStatusType",[],function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.height;return h.jsx("div",{className:"r8vnayig",style:{height:a.toString()+"px"}})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(i,{height:a}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MwbActorExperienceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("3231");c=b("FalcoLoggerInternal").create("mwb_actor_experience_event",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPBlockedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil.re","MWLSThreadReportingToken.re","MWPActor.re","MWPComposerPlaceholder.react","MwbActorExperienceEventFalcoEvent","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function k(a){var b=c("LSMessagingThreadTypeUtil.re").isSecure(a.threadType),d=c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType);a=c("LSMessagingThreadTypeUtil.re").isGroup(a.threadType);if(d)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function l(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:d("LSIntEnum").toNumber(a)}function m(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}function a(a){var b=c("useReStore")(),e=d("MWPActor.re").useActor(),f=d("I64").equal(e,a.threadKey),g=d("ReQLSuspense").useFirst(function(){return c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return f||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,f]),n=l(g);i(function(){g!=null&&c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)&&n!==c("LSContactReachabilityStatusType").REACHABLE&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,other_user:{id:d("I64").to_string(g.id),is_fbid:!0},restriction_type:m(n),surface:k(a),thread_id:d("I64").to_string(a.threadKey)}})},[a,g,n]);if(c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)&&g!=null){var o=c("MWLSThreadReportingToken.re").fromThread(a),p=!d("I64").equal(g.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(n!==c("LSContactReachabilityStatusType").REACHABLE)return h.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:h.jsx(j,{fbid:d("I64").to_string(g.id),isReachable:!1,reportingToken:void 0,thread:a})});if(p)return h.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:h.jsx(j,{fbid:d("I64").to_string(g.id),reportingToken:o,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPBusinessSupportCaseClosedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil.re","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBusinessSupportCaseClosedComposer.react").__setRef("useMWPBusinessSupportCaseClosedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return c("LSMessagingThreadTypeUtil.re").isBusinessSupportThread(a)?d("ReQL").fromTableAscending(b.table("business_support_case_details")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a]);e=(e==null?void 0:e.status)==="Completed";if(e)return h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSThreadBitOffset.re",["LSThreadBitOffset.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSThreadBitOffset.bs").has,a,c);return a};f.has=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPCutoverComposerConfiguration",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil.re","LSThreadBitOffset.re","MAWThreadCutover.re","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCutoverComposer.react").__setRef("useMWPCutoverComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a]),f=d("MAWThreadCutover.re").useIsCutoverOpenThread(a.threadKey)||c("LSThreadBitOffset.re").has(d("LSIntEnum").ofNumber(128),a);if(f&&(!c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)||e!=null))return h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2DisabledPageComposer.bs",["fbt","ix","CometLazyPopoverTrigger.react","FBID.bs","JSResource","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWPActor.bs","MessagingThreadType.bs","TetraButton.react","bs_curry","bs_int64","fbicon","promiseDone","react","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=b("useReStore")(),d=b("MWPActor.bs").useActor(void 0),e=b("LSMessagingSource.bs").useHook(void 0);return j.useCallback(function(a){return function(f,g){var h=b("LSTransaction.bs").run(c,function(c){var h=b("LSThreadAttributionTypeUtil.bs").getSource(a,e);return b("LSOptimisticSendMessage")(d,a,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,f,f,!1,void 0,void 0,void 0,void 0,h,void 0,g,void 0,b("LSMessageReplySourceType.bs").message,b("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,b("LS.bs").make(c))},"readWrite");b("promiseDone")(h,void 0,void 0)}},[c,d])}function a(a){a=a.thread;var c=k(void 0),d=a.threadKey,e=function(a){var e=a.title;a=a.id;return b("bs_curry")._3(c,d,e,a)};return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.bs"),popoverProps:{onClose:function(a){},onSelect:e,pageId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))},align:"middle",children:function(a,c,d,e,f,i,k){return j.jsx("div",{className:"e4ay1f3w rj2hsocd aesu6q9g s1m0hq7j lydb6one jroqu855 alzwoclg",ref:a,children:j.jsx(b("TetraButton.react"),{icon:b("fbicon")._(h("512878"),20),label:g._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:function(a){return b("bs_curry")._1(c,void 0)},reduceEmphasis:!0})})}})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2DisabledPageComposer.re",["MWV2DisabledPageComposer.bs"],function(a,b,c,d,e,f){a=b("MWV2DisabledPageComposer.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.re","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return h.jsx(d("MWV2DisabledPageComposer.re").make,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil.re","MAWGating.re","MWLSFeatureLimitedStatus.re","lazyLoadComponent","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPFeatureLimitsBlockedComposer.react").__setRef("useMWPFeatureLimitsBlockedComposerConfiguration"));function a(a){a=c("LSMessagingThreadTypeUtil.re").isSecure(a.threadType);a=c("MWLSFeatureLimitedStatus.re").useIsReadOnlyFeatureLimited()&&(!a||c("MAWGating.re").isFeatureLimitEnabled());if(a)return h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSNullstateCTAType",[],function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3});f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","ReQL","ReQLSuspense","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){return null}a=function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate")).getKeyRange(a.threadKey)},[b,a.threadKey]);e=e!=null&&d("I64").equal(e.ctaType,d("I64").of_float(c("LSNullstateCTAType").GET_STARTED));var f=!d("I64").equal(a.lastActivityTimestampMs,d("I64").zero);if(e&&!f)return h.jsx(i,{})};g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("LSContactBitOffset.re",["LSContactBitOffset.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSContactBitOffset.bs").has,a,c);return a};f.has=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset.re","LSIntEnum","LSMessagingThreadTypeUtil.re","MWPComposerPlaceholder.react","ReQL","ReQLSuspense","gkx","lazyLoadComponent","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a]);if(c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)&&e!=null){var f;f=c("gkx")("3846")&&((f=c("LSContactBitOffset.re").has(d("LSIntEnum").ofNumber(66),e))!=null?f:!1);if(f)return h.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:h.jsx(i,{fbid:d("I64").to_string(e.id),thread:a,threadKey:a.threadKey})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWPUnavailableComposerConfiguration",["I64","LSContactBitOffset.re","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil.re","MWChatUnavailableComposer.re","MWPActor.re","ReQL","ReQLSuspense","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.re").useActor(),f=d("I64").equal(e,a.threadKey),g=d("ReQLSuspense").useFirst(function(){return c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return f||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,f]);if(c("LSMessagingThreadTypeUtil.re").isOneToOne(a.threadType)&&g!=null){var i,j;i=(i=c("LSContactBitOffset.re").has(d("LSIntEnum").ofNumber(0),g))!=null?i:!0;j=(j=c("LSContactBitOffset.re").has(d("LSIntEnum").ofNumber(1),g))!=null?j:!0;var k=d("I64").equal(g.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE));k=!k&&(!i||!j);if(g.blockedSinceTimestampMs==null&&k)return h.jsx(d("MWChatUnavailableComposer.re").make,{})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil.re","MAWDualSendPermissionsManager.re","MWPComposerGating.react","MWV2OpenComposer.re","cr:4218","cr:4219","cr:4220","react","useMWPBlockedComposerConfiguration","useMWPBusinessSupportCaseClosedComposerConfiguration","useMWPCutoverComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPFeatureLimitsBlockedComposerConfiguration","useMWPNullComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPUnavailableComposerConfiguration"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=((h=b("cr:4220"))!=null?h:{}).make,k=((h=(h=b("cr:4218"))!=null?h:b("cr:4219"))!=null?h:{}).make;function l(a){return[c("useMWPNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPFeatureLimitsBlockedComposerConfiguration")(a),c("useMWPCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPUnavailableComposerConfiguration")(a),c("useMWPBusinessSupportCaseClosedComposerConfiguration")(a)]}function m(a){var b=a.afterSendMessage,e=a.isPreviewThread,f=a.onSendEmptyMessage;a=a.thread;var g=c("LSMessagingThreadTypeUtil.re").isSecure(a.threadType),h=c("MAWDualSendPermissionsManager.re").useIsThreadEligible(a.threadKey,a.threadType);if(j!=null&&g)return i.jsx(j,{afterSendMessage:b,isPreviewThread:e,onSendEmptyMessage:f,thread:a});else if(k!=null&&h)return i.jsx(k,{afterSendMessage:b,isPreviewThread:e,onSendEmptyMessage:f,thread:a});else return i.jsx(d("MWV2OpenComposer.re").make,{afterSendMessage:b,isPreviewThread:e,onSendEmptyMessage:f,thread:a})}function a(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=l(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:function(){return i.jsx(m,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}a.displayName=a.name+" [from "+f.id+"]";function e(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=l(f);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return i.jsx(m,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";g.MWChatComposerGating=a;g.MWInboxComposerGating=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatTabComposer.bs",["LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerGating.react","MWPActor.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.thread,d=a.tab,e=a.isPreviewThread,f=a.secureThreadToggle;a=a.afterSendMessage;var g=f!==void 0?f:!1,j=a!==void 0?a:i,k=b("useReStore")(),l=b("MWChatStateV2.bs").useDispatch(void 0);f=d.tabType;var m;m=f.TAG===0?c.clientThreadKey:f._0.clientThreadKey;var n=b("MWPActor.bs").useActor(void 0),o=h.useCallback(function(a){a=d.tabType;if(a.TAG===0)return b("bs_curry")._1(l,b("MWChatStateActions.bs").lockInTab(Date.now(),d.tabId,{threadKey:c.threadKey,clientThreadKey:c.clientThreadKey,threadType:c.threadType}))},[d,c]);a=h.useCallback(function(a){if(!b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType))return b("bs_curry")._1(o,void 0)},[o,c]);f=h.useCallback(function(a){b("bs_curry")._1(j,void 0);b("bs_curry")._1(o,void 0);if(m!==void 0&&b("bs_caml").i64_neq(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(k.table("threads").index("clientThreadKey")),{hd:m,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(e.contents,void 0);return b("bs_curry")._1(l,b("MWChatStateActions.bs").updateThreadKeyDescriptor(d.tabId,a.threadKey,a.clientThreadKey))}})}if((b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)||g)&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)){b("promiseDone")(b("LSTransaction.bs").run(k,function(a){var d;return(d=b("ReQL.bs")).first(d.filter(d.map(d.getKeyRange(d.fromTableAscending(k.table("participants")),{hd:c.threadKey,tl:0}),function(a){return a.contactId}),function(a){return b("bs_caml").i64_neq(a,n)})).then(function(c){if(c!==void 0)return b("LSAddMessengerContact")(c,b("LS.bs").make(a))})},"readWrite"),void 0,void 0);return}},[c,d,l,JSON.stringify(m),j,k,n]);return h.jsx(b("MWComposerGating.react").MWChatComposerGating,{thread:c,isPreviewThread:e,afterSendMessage:f,onSendEmptyMessage:a})}c=a;f.noop=i;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.re","LSMessagingThreadTypeUtil.bs","MWLSInThreadBannerComponent.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;if(b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType))return null;else return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWLSInThreadBannerComponent.bs").make,{})})}c=a;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWV2ChatTab.bs",["CometErrorBoundary.re","CometTransientDialogProvider.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MWChatConnectionStatusCard.bs","MWOpenAndSecureThreadView.bs","MWPThreadIsPage.bs","MWPThreadTheme.bs","MWPVisibleMessageContext.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2TabContainer.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_curry","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.tab;a=a.thread;var d=!b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,a),e=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),f=h.useRef({jumpToMostRecentMessage:function(a){}});return h.jsx(b("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:h.jsx(b("MWPThreadIsPage.bs").make,{threadKey:a.threadKey,children:h.jsx(b("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsx(b("MWSelectedThreadOptionsIdContext.bs").make,{children:h.jsx(b("MWPVisibleMessageContext.bs").Provider.make,{children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(b("MWV2TabContainer.bs").make,{tab:c,thread:a,children:[h.jsx(b("MWV2ChatTabHeader.bs").make,{tab:c,thread:a}),e?h.jsx(b("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:a}):null,h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),h.jsx(b("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(b("MWV2FileDropzone.bs").make,{children:[h.jsx(b("MWOpenAndSecureThreadView.bs").make,{thread:a,messageListRef:f}),h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("MWV2ErrorComposer.bs").make,{})},children:h.jsx(b("MWV2ChatTabComposer.bs").make,{thread:a,tab:c,isPreviewThread:!1,afterSendMessage:function(a){return b("bs_curry")._1(f.current.jumpToMostRecentMessage,void 0)}})})],thread:a,isMediaOnly:d})]})})})}),threadId:a.threadKey})})})})}c={make:i};function a(a){var c=a.tab;a=a.threadKeyDescriptor;var d=b("useReStore")(),e=a.clientThreadKey,f=a.threadKey;b("MWV2EnsureThatChatTabExists.bs").useHook(f,a.threadType);a=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:f,tl:0})},[d,JSON.stringify(f)]));var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(e!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(d.table("threads").index("clientThreadKey")),{hd:e,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(e)]));a=a!==void 0?a:g!==void 0?g:void 0;if(a!==void 0)return h.jsx(i,{tab:c,thread:a});else return null}d=a;f.Impl=c;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandMapping=j;g.commandToRangeType=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){a=i({handle:a.handle});return a};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="s4swhuz0 rifmn7f6";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy"],function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){a=a.text;return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:a})});b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new j(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("497885"),20);d={icon:c};e=a._(g("477826"),20);b={icon:e};c=a._(g("485091"),20);e={icon:c};c=a._(g("481761"),20);a={icon:c};f.AddPeople=d;f.EditName=b;f.Members=e;f.Link=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],function(a,b,c,d,e,f){"use strict";c=(a=b("cr:808")).AddPeople;d=a.EditName;e=a.Members;b=a.Link;f.$MDSContextBannerQuickActionsIcons$OR$FDSContextBannerQuickActionsIcons$requireCond=a;f.AddPeople=c;f.EditName=d;f.Members=e;f.Link=b},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWContextBannerQuickActions.bs",["fbt","CommunityMessagingEnableState.bs","GroupsCometChatImagePersonalizationDialog.entrypoint","JSResourceForInteraction","LS.bs","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","LSIssueSetThreadImageTask","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","MDSCircleButton.react","MWAddMemberToGroupDialogTrigger.bs","MWCMBulkInviteDialog.entrypoint","MWCMEditChatInfoDialogTrigger.bs","MWCMLinkShare.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWContextBannerQuickActionsIcons.bs","MWEditThreadNameDialogTrigger.bs","MWGroupLimitContainer.bs","MWInboxInfoMembersSection.bs","MWInboxInfoQuickActionIcons.bs","MWInboxPersistedUIState","MWPBumpEntityKey.bs","MWText.react","MWVerticalRhythm.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","bs_int64","promiseDone","react","stylex","useCometEntryPointDialog","useCometLazyDialog","useCommunityMembers","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{alignItems:"i85zmo3j",display:"alzwoclg",justifyContent:"jcxyg2ei",paddingBottom:"rj2hsocd",paddingTop:"q46jt4gp"},item:{alignItems:"i85zmo3j",display:"alzwoclg",flexDirection:"cqf1kptm",width:"sm1paabj"}};function a(a){var c=a.thread,d=b("MWCMThreadTypes.bs").isAnyCMThread(c.threadType),e=b("MWCMUseFolder.bs").useHook(c),f=b("useReStore")();a=j.useMemo(function(){if(e!==void 0&&d)return[e.enableState,b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").postThreadCreationActions,e)&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").communityMessagingChannelInvite,c),b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").postThreadCreationActions,e),e.fbGroupId];else return[void 0,!1,!1,b("bs_caml_int64").zero]},[c.threadKey]);var h=a[3],l=a[2],m=d&&b("bs_caml").i64_eq(b("bs_belt_Option").getWithDefault(a[0],b("CommunityMessagingEnableState.bs").enabled),b("CommunityMessagingEnableState.bs").disableRequested),n=b("useCometEntryPointDialog")(b("MWCMBulkInviteDialog.entrypoint"),{}),o=n[0];n=b("MWInboxPersistedUIState").usePersistedUIState(!1,b("MWInboxInfoMembersSection.bs").storageKey);var p=n[0];n=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{name:"MWLSGroupMembershipDialog","class":"fluid"}).__setRef("MWContextBannerQuickActions.bs"));var q=n[0];n=j.useRef(null);var r=b("useCommunityMembers").useClearMemberList(),s=b("useCometEntryPointDialog")(b("GroupsCometChatImagePersonalizationDialog.entrypoint"),{}),t=s[0];s=g._("__JHASH__4Z6iwQf0KqP__JHASH__");var u=g._("__JHASH__wbjG_Ndmw32__JHASH__"),v=g._("__JHASH__723IGVyt9lZ__JHASH__"),w=j.useMemo(function(){return[d?g._("__JHASH__6ygymPD56Yw__JHASH__"):g._("__JHASH__5q5wieIjbh7__JHASH__"),d?g._("__JHASH__um66LGyp2bC__JHASH__"):g._("__JHASH___jI2RJo8mJV__JHASH__"),g._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[d]),x=w[2],y=w[1],z=w[0];w=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadNameCustomization,c);var A=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDescriptionCustomization,c),B=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,c),C=j.useCallback(function(a){return function(d){b("promiseDone")(b("LSTransaction.bs").run(f,function(e){return b("LSIssueSetThreadImageTask")(c.threadKey,void 0,a,d.join(","),b("LS.bs").make(e))},"readWrite"),void 0,void 0)}},[f,JSON.stringify(c.threadKey)]);return j.jsxs("ul",{className:(i||(i=b("stylex")))(k.container),children:[d&&!m?a[1]?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MDSCircleButton.react"),{icon:b("MWInboxInfoQuickActionIcons.bs").Invite.icon,size:36,label:s,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return o({fbThreadId:b("bs_int64").to_string(c.threadKey),onClose:function(a){}},function(a){return a})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:s})]}):j.jsx(b("MWCMLinkShare.bs").make,{thread:c,children:function(a,c){return j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").Link.icon,size:36,label:z,onPress:c}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:z})]})}}):null,!d&&B?j.jsx(b("MWGroupLimitContainer.bs").make,{children:j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:c,children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").AddPeople.icon,size:36,label:z,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:z})]}),groupLimitReachedContent:null,thread:c}):null,d&&w&&A&&!m?l?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MDSCircleButton.react"),{icon:b("MWInboxInfoQuickActionIcons.bs").$$Image.icon,size:36,label:u,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","quick_actions_change_image");return t({threadID:b("bs_int64").to_string(c.threadKey),onClose:function(a){},groupID:b("bs_int64").to_string(h),initialThreadImage:{aspectRatio:1,url:c.threadPictureUrl},withBackButton:!1,withCloseButton:!0},function(a){a==null||b("bs_curry")._2(C,a.emoji,a.gradient)})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:u})]}):j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWCMEditChatInfoDialogTrigger.bs").make,{thread:c,children:function(a){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:y,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:y})]}):null,!d&&w?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWEditThreadNameDialogTrigger.bs").make,{thread:c,children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:y,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:y})]}):null,d&&A&&!m&&l?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWCMEditChatInfoDialogTrigger.bs").make,{thread:c,children:function(a){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:v,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:v})]}):j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").Members.icon,size:36,label:x,onPress:function(a){return q({onClose:function(a){}},function(a){if(d&&!p)return b("bs_curry")._1(r,void 0)})},ref:n}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MWText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:x})]})]})}c=a;f.styles=k;f.make=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWMessageListProtectedMedia.bs",["fbt","CometPressable.react","MWLSThreadDisplayContext.bs","MWText.react","MWVerticalRhythm.bs","bs_caml_obj","bs_caml_option","bs_caml_splice_call","bs_curry","react","setTimeout","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pressable:{alignItems:"i85zmo3j",display:"alzwoclg",justifyContent:"jcxyg2ei",position:"om3e55n1",overflowX:"lq84ybu9",overflowY:"hf30pyar"},container:{alignItems:"i85zmo3j",display:"alzwoclg",justifyContent:"jcxyg2ei",minHeight:"oxso7kmt",minWidth:"qciq7cho",position:"om3e55n1"},containerForInbox:{minWidth:"fixvnt9j"},containerUncoverable:{minWidth:"qciq7cho"},overlay:{maxWidth:"gvxzyvdx",":before":{content:"d3omg2j1",height:"njs9n4y5",start:"pway3j0n",position:"c7o6lo2u",top:"epbtvbgf",width:"ipe6ebli",zIndex:"n33zname"}},overlayBlurred:{filter:"kn8xr1ii"},overlayDisabled:{pointerEvents:"l10tt5db"},sneezeguard:{backgroundColor:"m35y9np2",height:"pytsy3co",start:"myo4itp8",position:"s8sjc6am",top:"ekq1a7f9",width:"mfclru0v",zIndex:"b0ur3jhr"},sneezeguardTransparent:{backgroundColor:"m8jr9q61"}},l={container:{alignItems:"i85zmo3j",boxSizing:"bdao358l",display:"alzwoclg",flexDirection:"cqf1kptm",height:"pytsy3co",justifyContent:"jcxyg2ei",start:"myo4itp8",paddingTop:"g4qalytl",paddingEnd:"r227ecj6",paddingBottom:"ez8dtbzv",paddingStart:"gt60zsk1",position:"s8sjc6am",top:"ekq1a7f9",width:"mfclru0v",zIndex:"j7qd3pol"},inner:{display:"alzwoclg",flexDirection:"cqf1kptm",textAlign:"hsphh064",maxWidth:"ew8qtlsp"}};function m(a){var c=a.state;a=a.uncoverable;a=a!==void 0?a:!0;var d;switch(c){case 0:d=b("bs_caml_option").some(j.jsxs(j.Fragment,{children:[j.jsx(b("MWText.react"),{color:"white",type:"body3",children:g._("__JHASH__SmhjEO8LZM7__JHASH__"),testid:"covered-image-label"}),a?j.jsxs(j.Fragment,{children:[j.jsx(b("MWVerticalRhythm.bs").make,{height:25}),j.jsx(b("MWText.react"),{color:"white",type:"bodyLink3",children:g._("__JHASH__grSMjsZRe9-__JHASH__"),testid:"reveal-blurred-image-label"})]}):null]}));break;case 1:d=b("bs_caml_option").some(j.jsxs(j.Fragment,{children:[j.jsx(b("MWText.react"),{color:"white",type:"body3",children:g._("__JHASH__SmhjEO8LZM7__JHASH__"),testid:"covered-image-label"}),j.jsx(b("MWVerticalRhythm.bs").make,{height:25}),j.jsx(b("MWText.react"),{color:"white",type:"bodyLink3",children:g._("__JHASH__cegqh2566-V__JHASH__"),testid:"reveal-full-image-label"})]}));break;case 2:d=void 0;break}if(d===void 0)return null;var e;switch(c){case 0:e="0";break;case 1:e="1";break;case 2:e=void 0;break}return j.jsx("div",{className:(i||(i=b("stylex")))(l.container),key:e,"aria-live":"polite","aria-relevant":"all",children:j.jsx("div",{className:i(l.inner),children:b("bs_caml_option").valFromOption(d)})})}c={styles:l,make:m};function n(a){}function a(a){var c=a.url,d=a.type_,e=a.onPress,f=a.children,g=a.xstyle,h=a.overlayDisabled,l=a.testid,o=a.ariaLabel,p=a.linkProps_;a=a.uncoverable;var q=e!==void 0?e:n;e=h!==void 0?h:!1;h=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var r=j.useMemo(function(){return g.concat([k.pressable])},[g]),s=j.useState(function(){return 0}),t=s[1],u=s[0],v=j.useRef(null);s=j.useMemo(function(){return{url:"#"}},[]);var w=j.useMemo(function(){if(d===0)return{};else if(c!==void 0)return{backgroundImage:"url("+c+")",height:"100%",left:"0",position:"absolute",right:"0",width:"100%",backgroundSize:"cover",transform:"scale(1.2)",filter:"blur(10px)"};else return{}},[c,d]);a=j.jsxs("div",{className:(i||(i=b("stylex")))(k.container,b("bs_caml_obj").caml_equal(a,"Inbox")?k.containerForInbox:!1,h?k.containerUncoverable:!1),children:[j.jsx("div",{style:w}),j.jsx("div",{"aria-hidden":u!==2,className:i(k.overlay,u!==2?k.overlayDisabled:!1,u===1?k.overlayBlurred:!1),children:f}),u===2?null:j.jsx("div",{className:(i||(i=b("stylex")))(k.sneezeguard,u===1?k.sneezeguardTransparent:!1)}),j.jsx(m,{state:u,uncoverable:h})]});if(!h)return j.jsx("div",{"data-testid":l,className:b("bs_caml_splice_call").spliceApply(i||(i=b("stylex")),[r]),children:a});w={ref:v,onPress:function(a){if(u===2)return b("bs_curry")._1(q,void 0);else return b("bs_curry")._1(t,function(a){switch(a){case 0:return 1;case 1:var c=function(a){b("setTimeout")(function(a){a=v.current;if(!(a==null))return a.focus()},0)};c(void 0);return 2;case 2:return a}})},overlayDisabled:e,xstyle:function(a){return r},children:a};f=u===2?o:void 0;f!==void 0&&(w["aria-label"]=b("bs_caml_option").valFromOption(f));h=u===2?p:s;h!==void 0&&(w.linkProps=b("bs_caml_option").valFromOption(h));l!==void 0&&(w.testid=b("bs_caml_option").valFromOption(l));return j.jsx(b("CometPressable.react"),w)}d=a;f.styles=k;f.$$Text=c;f.defaultOnPress=n;f.make=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMAEventFacepiles.react",["CometFacepile.react","I64","ReQL","ReQLSuspense","react","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.count,e=a.ctaId;a=a.urls;var f=e?d("I64").to_string(e):"",g=c("useReStore")();f=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(g.table("attachment_ctas")).getKeyRange(e):d("ReQL").empty()},[g,f]);var i=b!=null?d("I64").le(b,d("I64").of_int32(9)):!1;f=i?void 0:{target:"_blank",url:f==null?void 0:f.actionUrl};i=i?a.map(function(a){return{source:{uri:a}}}):a.slice(0,9).map(function(a){return{source:{uri:a}}});return i.length>0?h.jsx("div",{className:"jcxyg2ei alzwoclg","data-testid":void 0,children:h.jsx("div",{className:"n68fow1o pvreidsc gvxzyvdx cqf1kptm alzwoclg",role:"gridcell",children:h.jsx(c("CometFacepile.react"),{count:b!=null?d("I64").to_int32(b):a.length,isOverlapping:!0,items:i,linkProps:f,size:32})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWXMAEventFacepiles.bs",["MWXMAEventFacepiles.react"],function(a,b,c,d,e,f){"use strict";a=b("MWXMAEventFacepiles.react");f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatBlockQuote.react",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"n3t5jt4f gt60zsk1 r227ecj6 laatuukc i0rxk2l3 kmwttqpk l7ghb35v iv31pflw bf1zulr9 p11e2u4j",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("getRingbackUrl",["URI"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MakeRoomRingback.bs",["FBID.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","RTWebPreCallHooks","ReQL.bs","bs_caml","bs_int64","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("getRingbackUrl");function a(a){var c=b("RTWebPreCallHooks").useJoinMeetupCallback(),d=b("useReStore")(),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){var f=a.linkUrl;a=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:e,tl:0})).then(function(a){if(a!==void 0){a=b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").oneToOne)?i(f,b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))):(b("recoverableViolation")("Cannot ring a non user thread","rtc_www"),f);return b("Promise").resolve(c(a))}b("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,function(a){b("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[c,e,d])}f.getRingbackUrl=i;f.useHook=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XMNCommerceCTAPostProcessController",["XController"],function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})},null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor","bs_caml_option"],function(a,b,c,d,e,f){"use strict";function a(a){b("MNCommerceCTAProcessor").logCTAClick(a)}function c(a,c){b("MNCommerceCTAProcessor").process(a,c!==void 0?b("bs_caml_option").valFromOption(c):void 0)}f.logCTAClick=a;f.$$process=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);