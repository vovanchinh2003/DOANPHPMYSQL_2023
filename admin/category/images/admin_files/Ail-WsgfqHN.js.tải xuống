if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWChatSearchTypeaheadLightspeedDataSource",["FBLogger","LSSearchType.bs","MAWGating.re","MNetRankType.bs","MWChatSearchIssueLightspeedQuery.re","MWChatSearchResultType","MWChatSearchThreadCutover","MWLSSearchIssueSearchQuerySupportedTypes.re","Promise","cr:2752","cr:3071","createMWChatSearchTypeaheadDataEntry","gkx","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","qex","regeneratorRuntime"],function(a,b,c,d,e,f,g){"use strict";var h=d("MAWGating.re").isArmadillo()&&d("MAWGating.re").isTlcSearchEnabled();a=c("gkx")("4164");var i=a&&((e=c("qex")._("73"))!=null?e:!1),j=(f=c("qex")._("962"))!=null?f:a?10:0,k=(e=c("qex")._("963"))!=null?e:a?10:0,l=[c("LSSearchType.bs").contact];function m(a,d,e,f){if(b("cr:2752")==null)return b("Promise").resolve([]);return d.length>0&&!d.includes("secure")?b("Promise").resolve([]):b("cr:2752").fetchResults(a,e,!0,f).then(function(a){a=a.map(c("createMWChatSearchTypeaheadDataEntry"));return k<=0?a:a.slice(0,k)})["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults");return[]})}function n(a,d,e){if(!i&&d===c("MWChatSearchIssueLightspeedQuery.re").Surfaces.broadcast)return b("Promise").resolve([]);if(b("cr:3071")==null)return b("Promise").resolve([]);return a.length>0&&!a.includes("offline")?b("Promise").resolve([]):b("cr:3071").search(e.query,!0).then(function(a){a=a.map(c("createMWChatSearchTypeaheadDataEntry"));return j<=0?a:a.slice(0,j)})}function o(a,c,d,e){a=m(a,c,d,e);c=n(c,d,e);return b("Promise").all([a,c])}f=function(){function a(a){var b=a.excludedIDs;b=b===void 0?[]:b;var d=a.lightspeedSupportedTypes;d=d===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:d;var e=a.source;e=e===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:e;var f=a.includeGroupSearch;f=f===void 0?!1:f;var g=a.excludeNonSecureThreadSearch;g=g===void 0?!1:g;var h=a.nullStateRankType;h=h===void 0?c("MNetRankType.bs").messengerUserSearchNullstate:h;var i=a.subDataSources;i=i===void 0?[]:i;a=a.database;this.$1=[];this.$2=[];this.$2=b;this.$3=d;this.$4=e;this.$5=f;this.$6=g;this.$7=h;this.$8=i;this.$9=a;this.$10=d.includes(c("LSSearchType.bs").integratedMessageSearchThread)}var e=a.prototype;e.fetchNetwork=function(a){var e=this,f,g,i,j,k,m,n;return b("regeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$1);g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$2);if(!(a.query.length===0)){p.next=4;break}return p.abrupt("return",c("MWChatSearchIssueLightspeedQuery.re").fetchRecommendations(this.$3,this.$4,a,this.$7).then(function(d){d=d.map(c("createMWChatSearchTypeaheadDataEntry"));return b("Promise").resolve({entries:d,params:a})}));case 4:i=[];this.$10&&!this.$6&&i.push({key:a.query,label:'Search messages for "'+a.query+'"',rawData:{displayName:'Search messages for "'+a.query+'"',id:a.query,imageUrl:"",isContact:!1,isE2e:!1,resultType:"messages",secondaryImageUrl:"",subtext:""},type:"entry"});p.next=8;return b("regeneratorRuntime").awrap(o(this.$3,this.$8,this.$4,a));case 8:j=p.sent;k=j[0];m=j[1];n=this.$6?l:this.$3;return p.abrupt("return",c("MWChatSearchIssueLightspeedQuery.re").fetchResults(n,this.$8,this.$4,this.$5,a).then(function(b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=i.concat(m,k,b);b=h?b.filter(function(a){var b=a.key;a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER)return!0;if(e.$9==null)return!0;a=d("MWChatSearchThreadCutover").isCutoverOpenThread(e.$9,b);return!a}):b;b=c("mwChatSearchPayloadEnumerate")(g(f({entries:b,params:a})));return b}));case 13:case"end":return p.stop()}},null,this)};return a}();g["default"]=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWChatSearchFetchContactRecommendations.re",["MWChatSearchFetchContactRecommendations.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWChatSearchFetchContactRecommendations.bs").useHook,a.rankType,c);return a};f.useHook=a;c=b("MWChatSearchFetchContactRecommendations.bs").useActiveContactCount;f.useActiveContactCount=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useMWLightSpeedChatSearchSuggestedContacts",["MWChatSearchFetchContactRecommendations.re","createMWChatSearchTypeaheadDataEntry","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={};function a(){var a=d("MWChatSearchFetchContactRecommendations.re").useHook(i);return h(function(){return a.map(function(a,b){a=a[0];return c("createMWChatSearchTypeaheadDataEntry")(a,b)})},[a])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MWJewelSearchTypeahead.react",["fbt","BaseTypeahead.react","CometRelay","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","LsUniversalSearchEndFalcoEvent","LsUniversalSearchQueryChangedFalcoEvent","LsUniversalSearchStartFalcoEvent","MAWGating.re","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedDataSource","MWLSSearchIssueSearchQuerySupportedTypes.re","MWLSThreadDisplayContext.re","MWPSearchSystem.re","MWSearchLogging","clearTimeout","createMWJewelSearchTypeaheadViewStrategy.react","gkx","react","setTimeout","useMWLightSpeedChatSearchSuggestedContacts","useReStore","uuid"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useRef,m=b.useState,n={searchInput:{marginTop:"th51lws0",marginEnd:"l7ghb35v",marginBottom:"mfn553m3",marginStart:"kmwttqpk",paddingTop:"srn514ro",paddingEnd:"r227ecj6",paddingBottom:"rl78xhln",paddingStart:"gt60zsk1"},searchView:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",boxShadow:"rcrnfkcx",display:"alzwoclg",minHeight:"rom5iyca"}},o=c("createMWJewelSearchTypeaheadViewStrategy.react")(),p=["1001"],q=c("gkx")("6395");function a(a){var b=a.onBlur,e=a.onChange,f=a.onFocus,g=a.onPressEntry,r=a.onSelectFreeformQuery,s=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry","onSelectFreeformQuery"]);a=m(null);var t=a[0],u=a[1],v=d("CometRelay").useRelayEnvironment(),w=l(null),x=c("useReStore")(),y=c("MWLSThreadDisplayContext.re").useHook();a=k(function(){return new(c("MWChatSearchTypeaheadLightspeedDataSource"))({excludedIDs:[],includeGroupSearch:y!=="ChatTab"&&c("gkx")("1902857"),includeRecommendations:!0,lightspeedSupportedTypes:c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypesWithMessageSearch,limit:20,relayEnvironment:v,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})},[v,y]);var z=j(function(){u(null),t!=null&&c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:0,instance_id:t,recipient_ids:p}}),e("")},[e,t]),A=j(function(a){var b=function(){w.current!=null&&(c("clearTimeout")(w.current),w.current=null),g!=null&&g(a)};if(t==null){b();return}d("MWSearchLogging").logResultSelected(t,s.queryString,a,p);b()},[g,t,s.queryString]),B=j(function(){q&&c("MWPSearchSystem.re").clearAll(x);var a=c("uuid")();u(a);c("LsUniversalSearchStartFalcoEvent").log(function(){return{instance_id:a}});w.current=c("setTimeout")(function(){c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:3,instance_id:a,recipient_ids:p}})},3e4)},[x]),C=j(function(a){t!=null&&c("LsUniversalSearchQueryChangedFalcoEvent").log(function(){return{instance_id:t,query_string:a}}),e(a)},[e,t]),D=c("useMWLightSpeedChatSearchSuggestedContacts")();return i.jsx(c("BaseTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:{},emptyEntries_DO_NOT_USE:D,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:t?i.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onBlur:b,onChange:C,onClose:z,onFocus:f,onOpen:B,onPressEntry:A,onSelectFreeformQuery:r,placeholder:h._("__JHASH__ktsKn3dbNLm__JHASH__"),queryString:s.queryString,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:o,xstyles:{inputXStyle:n.searchInput,viewXStyle_DO_NOT_USE:n.searchView}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometReshareDialogTargetSection.react",["CometUnit.react","CometUnitHeader.react","TetraList.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.sectionTitle;return h.jsx(c("CometUnit.react"),{header:h.jsx(c("CometUnitHeader.react"),{headline:a,level:3}),children:h.jsx(c("TetraList.react"),{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometResharesConstants",[],function(a,b,c,d,e,f){"use strict";a=3e3;f.UNDO_DELAY_MS=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometResharesMultiStepWrapper.react",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"mxgm9ixh m4dgto6m iqt7750m",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometResharesSearchInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","MWPSearchSystem.re","emptyFunction","gkx","qex","react","useCometPreloader","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var d=c("useReStore")(),e=i(function(){var a=c("gkx")("4164");a=a&&((a=c("qex")._("73"))!=null?a:!1);a&&c("MWPSearchSystem.re").makeAll(d)},[d]);e=c("useCometPreloader")("button_aggressive",c("emptyFunction"),e);var f=e[0];e=e[1];return h.jsx("div",{onMouseEnter:f,onMouseLeave:e,children:h.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{ref:b}))})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MwbBreadthForwardingLimitReachedBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("801");c=b("FalcoLoggerInternal").create("mwb_breadth_forwarding_limit_reached_banner_shown",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometResharesSearchTargetsArea.react",["fbt","BaseTypeahead.react","CometResharesSearchInputStrategy.react","CometScrollableArea.react","CometTypeaheadLayoutInlineStrategy.react","CometTypeaheadViewEmptyState.react","MWPSearchSystem.re","MwbBreadthForwardingLimitReachedBannerShownFalcoEvent","TetraText.react","gkx","qex","react","stylex","useReStore"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useState,m=5,n={input:{marginBottom:"qjfq86k5",marginEnd:"rj0o91l8",marginStart:"p9ctufpz",marginTop:"ihx95mk1"},view:{borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",height:"lkv1wu1z"},withTopDivider:{borderTop:"aiyajaxl",marginTop:"r6ydv39a"}},o={forwardBanner:{animationDuration:"ps47xuy1",animationFillMode:"qofk9iq9",animationIterationCount:"ky037zt3",animationName:"jhsyp4ch",animationTimingFunction:"eoehjaqn",backgroundColor:"mqmwp7yo",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c",height:"h7q9eq3y",marginStart:"p9ctufpz",marginTop:"th51lws0",paddingStart:"gt60zsk1",paddingTop:"g4qalytl",position:"s8sjc6am",width:"fikjcmo8",zIndex:"b0ur3jhr"}};function a(a){var b=a.canForward,d=a.dataSource;a.dropSecureThreadToggle;var e=a.initialQueryString;e=e===void 0?"":e;var f=a.noSearchResultsText,g=a.placeholder,p=a.renderResults,q=a.suggestedTargets;a=a.withTopDivider;a=a===void 0?!0:a;e=l((e=e)!=null?e:"");var r=e[0];e=e[1];var s=l(!1),t=s[0];s=s[1];var u=c("useReStore")(),v=j(function(){var a=c("gkx")("4164");a=a&&((a=c("qex")._("73"))!=null?a:!1);a===!0&&c("MWPSearchSystem.re").makeAll(u)},[u]),w=k(function(){return function(a){var b=a.entries;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:n.view,children:q});return b.length===0?i.jsx(c("CometTypeaheadViewEmptyState.react"),{children:f}):i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:n.view,children:p({entries:b})})}},[q,p,f]);if(!b){t||(c("MwbBreadthForwardingLimitReachedBannerShownFalcoEvent").log(function(){return{limit:m.toString()}}),s(!0));return i.jsxs("div",{className:c("stylex")(a&&n.withTopDivider),"data-testid":void 0,children:[i.jsx("div",{className:c("stylex")(o.forwardBanner),"data-testid":void 0,children:i.jsxs(c("TetraText.react"),{color:"primary",type:"headline3",children:[h._("__JHASH__ziMwr5yUHFi__JHASH__")," "]})}),i.jsx(c("BaseTypeahead.react"),{dataSource:d,inputStrategyRenderer:c("CometResharesSearchInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:e,onFocus:v,placeholder:g,queryString:r,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:w,xstyles:{inputXStyle:n.input,viewXStyle_DO_NOT_USE:n.view}})]})}return i.jsx("div",{className:c("stylex")(a&&n.withTopDivider),"data-testid":void 0,children:i.jsx(c("BaseTypeahead.react"),{dataSource:d,inputStrategyRenderer:c("CometResharesSearchInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:e,onFocus:v,placeholder:g,queryString:r,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:w,xstyles:{inputXStyle:n.input,viewXStyle_DO_NOT_USE:n.view}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometPageResharesComposerQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5359769584070588"},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);