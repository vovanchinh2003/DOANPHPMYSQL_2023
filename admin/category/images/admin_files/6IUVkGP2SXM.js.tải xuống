if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCreateOfflineThreadingID","LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return c.i64.neq(a[1],f)?c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[f,f],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[f,f],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],f)?c.seq([function(e){return c.i64.neq(d[1],f)?c.i64.gt(a[2],d[1])?c.seq([function(b){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})})},function(a){return d[3]=new c.Map(),d[3].set("thread_fbid",d[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",[0,95]),d[3].set("metadata_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,209],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):c.resolve():c.resolve()},function(a){return d[2]=d[0]}]):c.seq([function(e){return c.i64.neq(a[1],f)?c.seq([function(e){return c.i64.neq(a[2],[0,20])?(d[7]=new c.Map(),d[7].set("thread_fbid",a[1]),d[7].set("force_upsert",!1),d[7].set("use_open_messenger_transport",!1),d[7].set("sync_group",[0,95]),d[7].set("metadata_only",!1),d[8]=d[7].get("thread_fbid"),d[7],d[9]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[8]),[0,209],d[9],f,f,[0,0],[0,0],f,f,[0,0])):c.resolve()},function(b){return d[3]=a[1]}]):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[3]=d[7]}])},function(b){return d[4]=[64,1083495710],d[5]=[0,0],d[6]=[0,0],c.fe(c.ftr(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:[0,4096],threadType:a[0],folderName:"inbox",lastActivityTimestampMs:[-1,4294967295],lastReadWatermarkTimestampMs:[-1,4294967295],removeWatermarkTimestampMs:[-1,4294967295],ongoingCallState:[0,0],parentThreadKey:[0,0],authorityLevel:a[2],capabilities:d[4],capabilities2:d[5],capabilities3:d[6],unsendLimitMs:[-1,4294967295],syncGroup:[0,95]})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}e.exports=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWJids",["WAJids"],function(a,b,c,d,e,f,g){"use strict";a=d("WAJids").createJidUtils({platform:"msgr"});b=a.toUserJid;c=function(a){return a};e=function(a){return a};g.jidUtils=a;g.toDeviceJid=d("WAJids").toDeviceJid;g.toUserJid=b;g.toGroupJid=d("WAJids").toGroupJid;g.userIdFromJid=d("WAJids").userIdFromJid;g.interpretAsDeviceId=d("WAJids").interpretAsDeviceId;g.interpretAsNumber=d("WAJids").interpretAsNumber;g.groupIdFromJid=d("WAJids").groupIdFromJid;g.defaultDeviceJidForUser=d("WAJids").defaultDeviceJidForUser;g.unsafeCoerceToMsgrDeviceJid=c;g.unsafeCoerceToPhoneUserJid=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbThread",["MAWHexUtils","MAWJids","WATimeUtils"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+b}e=a(d("WATimeUtils").castToMillisTime(0),d("MAWJids").toUserJid("0"));function b(a){return a}function c(a){return a}g.craftThreadOrder=a;g.MIN_THREAD_ORDER=e;g.unsafeCoerceToChatId=b;g.convertNumbersToChatIds=c},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("OfflineThreadingId.re",["OfflineThreadingId.bs"],function(a,b,c,d,e,f){a=b("OfflineThreadingId.bs").make;f.make=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbMsg",["FBLogger","MAWDbThread","MAWHexUtils","OfflineThreadingId.re","WAMsgType"],function(a,b,c,d,e,f,g){"use strict";var h=[d("WAMsgType").MSG_TYPE.REVOKED,d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,d("WAMsgType").MSG_TYPE.GROUP_INVITE,d("WAMsgType").MSG_TYPE.SK_DISTRIBUTION];function a(a){return p(a)?a:null}var i="futureproof",j="toBeRead",k="spam",l="futureproof_spam",m=void 0,n="e2ee_admin_msg";function o(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function p(a){var b=a.indexOf("_");if(b<=0)return!1;b=a.indexOf("_",b+2);return b!==a.length-2?!1:a.charAt(a.length-1)==="m"}function b(a){return a+"_"+j}function e(a){return a+"_"+n}function q(a){a=a.split("_");a=a[0];return d("MAWDbThread").unsafeCoerceToChatId(d("MAWHexUtils").reverseOrderPreservingHex(a))}function r(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function f(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function s(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function t(a){try{var b=q(a);a=r(a);return o(b,a+1)+"_o"}catch(a){return c("OfflineThreadingId.re").make()}}function u(a){switch(a.type){case d("WAMsgType").MSG_TYPE.XMA:return!0;case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:return!1}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function v(a){switch(a.type){case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:return!0;case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.XMA:return!1}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function w(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.XMA:return!0;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.SK_DISTRIBUTION:return!1}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function x(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.XMA:return!0;case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.SK_DISTRIBUTION:return!1}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function y(a){return z(a.type)}function z(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"}function A(a){return a.serverTs!=null?a.serverTs:a.ts}function B(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return A(a)*1e3}function C(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function D(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.XMA:return}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=h;g.toMsgId=a;g.FUTUREPROOF_ALT_INDEX=i;g.TO_BE_READ_ALT_INDEX_SUFFIX=j;g.SPAM_ALT_INDEX=k;g.FUTUREPROOF_SPAM_ALT_INDEX=l;g.UNDEFINED_ALT_INDEX=m;g.E2EE_ADMIN_MSG_ALT_INDEX=n;g.craftMsgId=o;g.isValidMsgId=p;g.craftToBeReadAltIndex=b;g.craftE2eeAdminMsgAltIndex=e;g.getThreadIdFromMsgId=q;g.getInChatMsgIdFromMsgId=r;g.msgIdsInChatLowerBound=f;g.msgIdsInChatUpperBound=s;g.getNextOptimisticId=t;g.isXMAMsg=u;g.isMediaMsg=v;g.isContentMsg=w;g.isMsgEligibleForTriggeringEphemeralSyncResponse=x;g.isUnrenderedMsg=y;g.isUnrenderedMsgType=z;g.getCanonicalTsFromMsg=A;g.getSortOrderWithFallback=B;g.getSortOrderFromPrevious=C;g.getMsgContent=D},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("SignalDbTypes",[],function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a+"_"+b+"_"+c}b={abProps:"abProps",cat:"cat",clockSkew:"clockSkew",deviceId:"deviceId",deviceUUID:"deviceUUID",edgeInfo:"edgeInfo",fbid:"fbid",identityKeyPair:"identityKeyPair",lastPrekeyGenerationId:"lastPrekeyGenerationId",lastPrekeyId:"lastPrekeyId",lastSignedPrekeyId:"lastSignedPrekeyId",regId:"regId"};c={msgrDeviceId:"msgrDeviceId"};f.buildSenderKeySessionId=a;f.MetaKeysEnum=b;f.DEPRECATED_MetaKeys=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWTransactionMode",[],function(a,b,c,d,e,f){"use strict";a="r";b="rw";f.READONLY=a;f.READWRITE=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWErrorObject",["err"],function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWCryptoConsts",[],function(a,b,c,d,e,f){a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2;b=b*30*6;var k=3,l="AES-GCM",m="HKDF",n="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=k;f.AES_GCM=l;f.HKDF=m;f.SHA256=n},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbMutationMiddleware",["FBLogger","MAWDbMiddlewareMutations"],function(a,b,c,d,e,f,g){function a(a){return{stack:"dbcore",name:"MAWDbMutationMiddleware",create:function(b){return babelHelpers["extends"]({},b,{table:function(e){var f=b.table(e);try{return babelHelpers["extends"]({},f,{mutate:function(b){var c=null;switch(b.type){case"add":case"put":c=b.values.map(function(b){return d("MAWDbMiddlewareMutations").mutateValue(b,e,a)});break;case"delete":break;case"deleteRange":break}if(b.type==="delete"||b.type==="deleteRange"||c==null)return f.mutate(b);b.values=c;return f.mutate(b).then(function(a){return a})},get:function(b){return f.get(b).then(function(b){if(b===void 0)return void 0;b=d("MAWDbMiddlewareMutations").getValue(b,e,a);return b})},getMany:function(b){return f.getMany(b).then(function(b){b=b.map(function(b){return b===void 0?void 0:d("MAWDbMiddlewareMutations").getValue(b,e,a)});return b})},query:function(b){return f.query(b).then(function(b){if(b.result.length===0||typeof b.result[0]!=="object")return b;var c=b.result.map(function(b){return d("MAWDbMiddlewareMutations").getValue(b,e,a)});b.result=c;return b})},openCursor:function(b){return f.openCursor(b).then(function(b){return b==null||b.value==null?b:h(b,e,a)})}})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Error applying MAWDbMiddleware");return f}}})}}}function h(a,b,c){var e,f=Object.create(a,{key:{get:function(){return a.key}},primaryKey:{get:function(){return a.primaryKey}},continuePrimaryKey:{get:function(){return a.continuePrimaryKey}},"continue":{get:function(){return a["continue"]}},start:{value:function(f){return a.start(function(){e=d("MAWDbMiddlewareMutations").getValue(a.value,b,c),a.value=e,f()})}},value:{get:function(){return e}}});return f}g.getMAWDbMutationMiddleware=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAProtoConst",[],function(a,b,c,d,e,f){a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloAppDataTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null),i=babelHelpers["extends"]({},null),j=babelHelpers["extends"]({},null),k=babelHelpers["extends"]({},null),l=babelHelpers["extends"]({},null),m=babelHelpers["extends"]({},null),n=babelHelpers["extends"]({},null),o=babelHelpers["extends"]({},null),p=babelHelpers["extends"]({},null),q=babelHelpers["extends"]({},null),r=babelHelpers["extends"]({},null),s=babelHelpers["extends"]({},null);a.internalSpec={externalId:[1,d("WAProtoConst").TYPES.STRING],author:[2,d("WAProtoConst").TYPES.STRING],chat:[3,d("WAProtoConst").TYPES.STRING]};b.internalSpec={fromMe:[1,d("WAProtoConst").TYPES.BOOL],id:[2,d("WAProtoConst").TYPES.STRING]};c.internalSpec={key:[1,d("WAProtoConst").TYPES.MESSAGE,b],ts:[2,d("WAProtoConst").TYPES.INT64]};e.internalSpec={lastMessageTimestamp:[1,d("WAProtoConst").TYPES.INT64],lastSystemMessageTimestamp:[2,d("WAProtoConst").TYPES.INT64],messages:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,c]};f.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],chatJid:[2,d("WAProtoConst").TYPES.STRING],archived:[3,d("WAProtoConst").TYPES.BOOL],ts:[4,d("WAProtoConst").TYPES.INT64],messageRange:[5,d("WAProtoConst").TYPES.MESSAGE,e],read:[6,d("WAProtoConst").TYPES.BOOL]};h.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],protocolMsgId:[2,d("WAProtoConst").TYPES.MESSAGE,a]};i.internalSpec={chatAction:[1,d("WAProtoConst").TYPES.MESSAGE,f],messageAction:[2,d("WAProtoConst").TYPES.MESSAGE,h],__oneofs__:{action:["chatAction","messageAction"]}};j.internalSpec={actions:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,i]};k.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT64],anonId:[2,d("WAProtoConst").TYPES.BYTES],rootKey:[3,d("WAProtoConst").TYPES.BYTES],status:[4,d("WAProtoConst").TYPES.INT32]};l.internalSpec={backupId:[1,d("WAProtoConst").TYPES.UINT64],serverDataId:[2,d("WAProtoConst").TYPES.UINT64],epoch:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,k],tempOcmfClientState:[4,d("WAProtoConst").TYPES.BYTES],mailboxRootKey:[5,d("WAProtoConst").TYPES.BYTES],obliviousValidationToken:[6,d("WAProtoConst").TYPES.BYTES]};m.internalSpec={currentIndex:[1,d("WAProtoConst").TYPES.UINT32],deviceIndexes:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.UINT32],rawId:[3,d("WAProtoConst").TYPES.UINT32]};n.internalSpec={keyId:[1,d("WAProtoConst").TYPES.BYTES],keyData:[2,d("WAProtoConst").TYPES.BYTES],keyEpoch:[3,d("WAProtoConst").TYPES.UINT32],timestamp:[4,d("WAProtoConst").TYPES.INT64],fingerprint:[5,d("WAProtoConst").TYPES.MESSAGE,m]};o.internalSpec={keys:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,n],orphanKeys:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.BYTES]};p.internalSpec={keyIds:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.BYTES]};q.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],actions:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,i],encryptedBackupsSecrets:[3,d("WAProtoConst").TYPES.MESSAGE,l],syncKeyShare:[4,d("WAProtoConst").TYPES.MESSAGE,o],syncKeyRequest:[5,d("WAProtoConst").TYPES.MESSAGE,p]};r.internalSpec={deviceJid:[1,d("WAProtoConst").TYPES.STRING],serializedPubKey:[2,d("WAProtoConst").TYPES.BYTES],baseKey:[3,d("WAProtoConst").TYPES.BYTES]};s.internalSpec={externalId:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],contents:[3,d("WAProtoConst").TYPES.MESSAGE,q],permittedIdentitiesPerDevice:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,r],ack:[5,d("WAProtoConst").TYPES.INT32],appDataId:[6,d("WAProtoConst").TYPES.INT32],recipientDevices:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],sendPartial:[8,d("WAProtoConst").TYPES.BOOL]};g.ProtocolMsgIdSpec=a;g.MetaSyncMessageKeyProtoSpec=b;g.MetaSyncMessageProtoSpec=c;g.MetaSyncMessageRangeProtoSpec=e;g.MetaSyncChatActionProtoSpec=f;g.MetaSyncMessageActionProtoSpec=h;g.MetaSyncActionProtoSpec=i;g.MetaSyncAppDataProtoSpec=j;g.EncryptedBackupsSecretsEpochProtoSpec=k;g.EncryptedBackupsSecretsProtoSpec=l;g.FingerprintProtoSpec=m;g.SyncKeyDataProtoSpec=n;g.SyncKeyShareProtoSpec=o;g.SyncKeyRequestProtoSpec=p;g.AppDataProtoSpec=q;g.IdentitiesPerDeviceProtoSpec=r;g.AppDataTableSchemaProtoSpec=s},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloAppMetaTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);a.internalSpec={msgTypeVersion:[1,d("WAProtoConst").TYPES.INT32],hmacKey:[2,d("WAProtoConst").TYPES.BYTES],allowSecurityAlert:[3,d("WAProtoConst").TYPES.BOOL],hotlikeSticker:[4,d("WAProtoConst").TYPES.BYTES],isBackfilledForOccamadillo:[5,d("WAProtoConst").TYPES.BOOL],allowSecurityAlertForSelf:[11,d("WAProtoConst").TYPES.BOOL]};b.internalSpec={key:[1,d("WAProtoConst").TYPES.STRING],value:[2,d("WAProtoConst").TYPES.MESSAGE,a]};g.DbAppMetaValuesProtoSpec=a;g.AppMetaTableSchemaProtoSpec=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloCollectionVersionsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={collection:[1,d("WAProtoConst").TYPES.STRING],version:[2,d("WAProtoConst").TYPES.INT32],state:[3,d("WAProtoConst").TYPES.STRING],finiteFailureStartTime:[4,d("WAProtoConst").TYPES.INT64],ltHash:[5,d("WAProtoConst").TYPES.BYTES],isCollectionInMacMismatchFatal:[6,d("WAProtoConst").TYPES.BOOL]};g.CollectionVersionsTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloContactsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);a.internalSpec={ephemeralExpirationInSec:[1,d("WAProtoConst").TYPES.INT32],ephemeralLastUpdatedOrSetTimestamp:[2,d("WAProtoConst").TYPES.INT64]};b.internalSpec={syncResponseRetries:[1,d("WAProtoConst").TYPES.INT32],syncResponseSentTs:[2,d("WAProtoConst").TYPES.INT64]};c.internalSpec={sequence:[1,d("WAProtoConst").TYPES.INT64],timestamp:[2,d("WAProtoConst").TYPES.INT64],devices:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.BYTES],signingDeviceIndex:[4,d("WAProtoConst").TYPES.INT64],dirty:[5,d("WAProtoConst").TYPES.BOOL]};e.internalSpec={timeBucket:[1,d("WAProtoConst").TYPES.INT64],alert:[2,d("WAProtoConst").TYPES.BOOL]};f.internalSpec={contactJid:[1,d("WAProtoConst").TYPES.STRING],devices:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],dhash:[3,d("WAProtoConst").TYPES.STRING],nameForSearch:[4,d("WAProtoConst").TYPES.STRING],ephemeralSetting:[5,d("WAProtoConst").TYPES.MESSAGE,a],isBlocked:[6,d("WAProtoConst").TYPES.BOOL],lastSyncTs:[7,d("WAProtoConst").TYPES.INT64],icdcInfo:[8,d("WAProtoConst").TYPES.MESSAGE,c],ephemeralSyncResponseBackoffInfo:[9,d("WAProtoConst").TYPES.MESSAGE,b],icdcFails:[10,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e],relationship:[11,d("WAProtoConst").TYPES.INT32],isRestricted:[12,d("WAProtoConst").TYPES.BOOL]};g.EphemeralSettingProtoSpec=a;g.EphemeralSyncResponseBackoffInfoSpec=b;g.ICDCInfoProtoSpec=c;g.ICDCCheckFailSpec=e;g.ContactsTableSchemaProtoSpec=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloDyiBatchTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={batchId:[1,d("WAProtoConst").TYPES.INT32],numMessages:[2,d("WAProtoConst").TYPES.INT32],oldestTs:[3,d("WAProtoConst").TYPES.INT64],threadId:[4,d("WAProtoConst").TYPES.STRING],isThread:[5,d("WAProtoConst").TYPES.BOOL]};g.DyiBatchTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloGroupInfoTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={groupJid:[1,d("WAProtoConst").TYPES.STRING],threadId:[2,d("WAProtoConst").TYPES.INT32],creator:[3,d("WAProtoConst").TYPES.STRING],creationTs:[4,d("WAProtoConst").TYPES.INT64],name:[5,d("WAProtoConst").TYPES.STRING],nameOwner:[6,d("WAProtoConst").TYPES.STRING],nameTs:[7,d("WAProtoConst").TYPES.INT64],msgExpiration:[8,d("WAProtoConst").TYPES.INT32],participantVersion:[9,d("WAProtoConst").TYPES.STRING],inviter:[10,d("WAProtoConst").TYPES.STRING]};g.GroupInfoSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloGroupInvitesTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={inviterJid:[1,d("WAProtoConst").TYPES.STRING],invitedParticipantId:[2,d("WAProtoConst").TYPES.STRING],inviteCode:[3,d("WAProtoConst").TYPES.STRING],inviteExpirationTs:[4,d("WAProtoConst").TYPES.INT64],caption:[5,d("WAProtoConst").TYPES.STRING]};g.GroupInvitesTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloMediaTablesSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null);a.internalSpec={plaintextHash:[1,d("WAProtoConst").TYPES.STRING],blobData:[2,d("WAProtoConst").TYPES.BYTES],mimetype:[3,d("WAProtoConst").TYPES.STRING],hashedPlaintextHash:[4,d("WAProtoConst").TYPES.STRING],chunkId:[5,d("WAProtoConst").TYPES.INT32]};b.internalSpec={msgId:[1,d("WAProtoConst").TYPES.STRING],mediaEntryData:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],width:[2,d("WAProtoConst").TYPES.INT32],height:[3,d("WAProtoConst").TYPES.INT32],mimetype:[4,d("WAProtoConst").TYPES.STRING],jpegThumbnail:[5,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[6,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[7,d("WAProtoConst").TYPES.INT32]};e.internalSpec={width:[1,d("WAProtoConst").TYPES.INT32],height:[2,d("WAProtoConst").TYPES.INT32],jpegThumbnail:[3,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[4,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[5,d("WAProtoConst").TYPES.INT32]};f.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],mimetype:[2,d("WAProtoConst").TYPES.STRING],played:[3,d("WAProtoConst").TYPES.BOOL]};h.internalSpec={mediaType:[1,d("WAProtoConst").TYPES.STRING],plaintextHash:[2,d("WAProtoConst").TYPES.STRING],size:[3,d("WAProtoConst").TYPES.INT32],mediaEntries:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,b],ts:[5,d("WAProtoConst").TYPES.INT64],validatedVideoInfo:[6,d("WAProtoConst").TYPES.MESSAGE,c],validatedImageInfo:[7,d("WAProtoConst").TYPES.MESSAGE,e],validatedAudioInfo:[8,d("WAProtoConst").TYPES.MESSAGE,f],hashedPlaintextHash:[9,d("WAProtoConst").TYPES.STRING],mediaId:[10,d("WAProtoConst").TYPES.INT32],msgIds:[11,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],objectId:[12,d("WAProtoConst").TYPES.STRING],fbid:[13,d("WAProtoConst").TYPES.STRING]};g.ChunkTableSchemaProtoSpec=a;g.MediaEntriesProtoSpec=b;g.VideoMsgContentProtoSpec=c;g.ImageMsgContentProtoSpec=e;g.AudioMsgContentProtoSpec=f;g.MediaTableSchemaProtoSpec=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloMessagesTableSchema.pb",["MAWArmadilloContactsTableSchema.pb","WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null),i=babelHelpers["extends"]({},null),j=babelHelpers["extends"]({},null),k=babelHelpers["extends"]({},null);a.internalSpec={content:[1,d("WAProtoConst").TYPES.STRING],adminMsgContent:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],adminType:[3,d("WAProtoConst").TYPES.STRING],obsoleteExpiration:[4,d("WAProtoConst").TYPES.INT32],obsoleteTs:[5,d("WAProtoConst").TYPES.INT64],subtype:[6,d("WAProtoConst").TYPES.STRING],protobuf:[7,d("WAProtoConst").TYPES.BYTES],screenshotActionType:[8,d("WAProtoConst").TYPES.INT32],authorName:[9,d("WAProtoConst").TYPES.STRING],version:[10,d("WAProtoConst").TYPES.INT32]};b.internalSpec={frankingTag:[1,d("WAProtoConst").TYPES.BYTES],frankingVersion:[2,d("WAProtoConst").TYPES.INT32],reportingContent:[3,d("WAProtoConst").TYPES.BYTES],reportingTag:[4,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={remoteJid:[1,d("WAProtoConst").TYPES.STRING],content:[2,d("WAProtoConst").TYPES.MESSAGE,j]};e.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],width:[2,d("WAProtoConst").TYPES.INT32],height:[3,d("WAProtoConst").TYPES.INT32],mimetype:[4,d("WAProtoConst").TYPES.STRING],jpegThumbnail:[5,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[6,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[7,d("WAProtoConst").TYPES.INT32]};f.internalSpec={width:[1,d("WAProtoConst").TYPES.INT32],height:[2,d("WAProtoConst").TYPES.INT32],jpegThumbnail:[3,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[4,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[5,d("WAProtoConst").TYPES.INT32]};h.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],mimetype:[2,d("WAProtoConst").TYPES.STRING],played:[3,d("WAProtoConst").TYPES.BOOL]};i.internalSpec={mediaType:[1,d("WAProtoConst").TYPES.STRING],plaintextHash:[2,d("WAProtoConst").TYPES.STRING],size:[3,d("WAProtoConst").TYPES.INT32],ts:[4,d("WAProtoConst").TYPES.INT64],mediaEntry:[5,d("WAProtoConst").TYPES.BYTES],validatedVideoInfo:[6,d("WAProtoConst").TYPES.MESSAGE,e],validatedImageInfo:[7,d("WAProtoConst").TYPES.MESSAGE,f],validatedAudioInfo:[8,d("WAProtoConst").TYPES.MESSAGE,h]};j.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],externalId:[3,d("WAProtoConst").TYPES.STRING],author:[4,d("WAProtoConst").TYPES.STRING],msgContent:[5,d("WAProtoConst").TYPES.MESSAGE,a],obsoleteMedia:[6,d("WAProtoConst").TYPES.MESSAGE,i],msgId:[7,d("WAProtoConst").TYPES.STRING],mediaId:[8,d("WAProtoConst").TYPES.INT32],sourceId:[9,d("WAProtoConst").TYPES.STRING],xmaMessageType:[10,d("WAProtoConst").TYPES.INT32],specialTextSize:[11,d("WAProtoConst").TYPES.INT32]};k.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],externalId:[3,d("WAProtoConst").TYPES.STRING],msgId:[4,d("WAProtoConst").TYPES.STRING],author:[5,d("WAProtoConst").TYPES.STRING],ack:[6,d("WAProtoConst").TYPES.INT32],resendCount:[7,d("WAProtoConst").TYPES.INT32],msgContent:[8,d("WAProtoConst").TYPES.MESSAGE,a],altIndex:[9,d("WAProtoConst").TYPES.STRING],forwardingScore:[10,d("WAProtoConst").TYPES.INT32],quote:[11,d("WAProtoConst").TYPES.MESSAGE,c],messageExpirationTs:[12,d("WAProtoConst").TYPES.INT64],ephemeralSetting:[13,d("WAProtoConst").TYPES.MESSAGE,d("MAWArmadilloContactsTableSchema.pb").EphemeralSettingProtoSpec],revokedExternalId:[14,d("WAProtoConst").TYPES.STRING],isForwarded:[15,d("WAProtoConst").TYPES.BOOL],serverTs:[16,d("WAProtoConst").TYPES.INT64],originalTs:[17,d("WAProtoConst").TYPES.INT64],sortOrderMs:[18,d("WAProtoConst").TYPES.INT64],reportingMeta:[19,d("WAProtoConst").TYPES.MESSAGE,b],messageDeleteTs:[20,d("WAProtoConst").TYPES.INT64],ephemeralCounterStarted:[21,d("WAProtoConst").TYPES.BOOL],quoteExternalId:[22,d("WAProtoConst").TYPES.STRING],unsendMsgContentDeleteTs:[23,d("WAProtoConst").TYPES.INT64],rowId:[24,d("WAProtoConst").TYPES.INT32],thread:[25,d("WAProtoConst").TYPES.INT32],mediaId:[26,d("WAProtoConst").TYPES.INT32],ephemeralMsgDisappeared:[27,d("WAProtoConst").TYPES.BOOL],threadJid:[28,d("WAProtoConst").TYPES.STRING],xmaId:[29,d("WAProtoConst").TYPES.INT32],specialTextSize:[30,d("WAProtoConst").TYPES.INT32],xmaMessageType:[31,d("WAProtoConst").TYPES.INT32],isExpiredXmaMsg:[32,d("WAProtoConst").TYPES.BOOL]};g.MsgContentProtoSpec=a;g.ReportingMetaProtoSpec=b;g.DbQuotedMsgProtoSpec=c;g.VideoMsgContentProtoSpec=e;g.ImageMsgContentProtoSpec=f;g.AudioMsgContentProtoSpec=h;g.QuotedDbMediaProtoSpec=i;g.DbQuotedMsgContentProtoSpec=j;g.MessagesTableSchemaProtoSpec=k},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloMetaRowTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null),i=babelHelpers["extends"]({},null),j=babelHelpers["extends"]({},null);a.internalSpec={encryptedSerializedCat:[1,d("WAProtoConst").TYPES.STRING],expirationTimeInSeconds:[2,d("WAProtoConst").TYPES.INT32]};b.internalSpec={publicKey:[1,d("WAProtoConst").TYPES.BYTES],privateKey:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={intValue:[1,d("WAProtoConst").TYPES.INT32],strValue:[2,d("WAProtoConst").TYPES.STRING],boolValue:[3,d("WAProtoConst").TYPES.BOOL],__oneofs__:{value:["intValue","strValue","boolValue"]}};e.internalSpec={name:[1,d("WAProtoConst").TYPES.STRING],value:[2,d("WAProtoConst").TYPES.MESSAGE,c]};f.internalSpec={expoKey:[1,d("WAProtoConst").TYPES.INT32],value:[2,d("WAProtoConst").TYPES.STRING]};h.internalSpec={abKey:[1,d("WAProtoConst").TYPES.STRING],abHash:[2,d("WAProtoConst").TYPES.STRING],lastSyncTime:[3,d("WAProtoConst").TYPES.INT64],expoKeyStr:[4,d("WAProtoConst").TYPES.STRING],refresh:[5,d("WAProtoConst").TYPES.INT64],internalExpoKeys:[6,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],propExpoKeys:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f],propValues:[8,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e]};i.internalSpec={cat:[1,d("WAProtoConst").TYPES.MESSAGE,a],deviceUUID:[2,d("WAProtoConst").TYPES.STRING],regId:[3,d("WAProtoConst").TYPES.INT32],identityKeyPair:[4,d("WAProtoConst").TYPES.MESSAGE,b],fbid:[5,d("WAProtoConst").TYPES.STRING],deviceId:[6,d("WAProtoConst").TYPES.INT32],lastSignedPrekeyId:[7,d("WAProtoConst").TYPES.INT32],lastPrekeyId:[8,d("WAProtoConst").TYPES.INT32],lastPrekeyGenerationId:[9,d("WAProtoConst").TYPES.INT32],edgeInfo:[10,d("WAProtoConst").TYPES.BYTES],clockSkew:[11,d("WAProtoConst").TYPES.INT32],msgrDeviceId:[12,d("WAProtoConst").TYPES.STRING],abProps:[13,d("WAProtoConst").TYPES.MESSAGE,h],__oneofs__:{value:["cat","deviceUUID","regId","identityKeyPair","fbid","deviceId","lastSignedPrekeyId","lastPrekeyId","lastPrekeyGenerationId","edgeInfo","clockSkew","msgrDeviceId","abProps"]}};j.internalSpec={key:[1,d("WAProtoConst").TYPES.STRING],value:[2,d("WAProtoConst").TYPES.MESSAGE,i]};g.ValidCatProtoSpec=a;g.KeyPairProtoSpec=b;g.AbPropTypeSpec=c;g.AbPropValueSpec=e;g.ExpoKeyMapSpec=f;g.AbPropsConfigSpec=h;g.ValueProtoSpec=i;g.MetaRowTableSchemaProtoSpec=j},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloMissingKeysTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);a.internalSpec={deviceId:[1,d("WAProtoConst").TYPES.INT32],deviceResponse:[2,d("WAProtoConst").TYPES.BOOL]};b.internalSpec={keyHex:[1,d("WAProtoConst").TYPES.STRING],keyId:[2,d("WAProtoConst").TYPES.BYTES],timestamp:[3,d("WAProtoConst").TYPES.INT64],deviceResponses:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,a]};g.DeviceResponseSpec=a;g.MissingKeysTableSchemaProtoSpec=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloParticipantsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={id:[1,d("WAProtoConst").TYPES.STRING],userJid:[2,d("WAProtoConst").TYPES.STRING],deliveredWatermarkTs:[3,d("WAProtoConst").TYPES.INT64],lastReadWatermarkTs:[4,d("WAProtoConst").TYPES.INT64],type:[5,d("WAProtoConst").TYPES.STRING],addressable:[6,d("WAProtoConst").TYPES.BOOL],lastReadActionTs:[7,d("WAProtoConst").TYPES.INT64],nickname:[8,d("WAProtoConst").TYPES.STRING],threadId:[9,d("WAProtoConst").TYPES.INT32]};g.ParticipantsTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloPendingMutationsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a={SET:0,REMOVE:1};b=babelHelpers["extends"]({},null);b.internalSpec={id:[1,d("WAProtoConst").TYPES.INT32],collection:[2,d("WAProtoConst").TYPES.STRING],index:[3,d("WAProtoConst").TYPES.STRING],binarySyncAction:[4,d("WAProtoConst").TYPES.BYTES],version:[5,d("WAProtoConst").TYPES.INT32],operation:[6,d("WAProtoConst").TYPES.ENUM,a],timestamp:[7,d("WAProtoConst").TYPES.INT64],action:[8,d("WAProtoConst").TYPES.STRING]};g.SYNCD_MUTATION_SYNCD_OPERATION=a;g.PendingMutationsTableSchemaProtoSpec=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={groupJid:[1,d("WAProtoConst").TYPES.STRING],senderKeyId:[2,d("WAProtoConst").TYPES.INT32],rotateSenderKey:[4,d("WAProtoConst").TYPES.BOOL],senderKeyTs:[5,d("WAProtoConst").TYPES.INT64],hasSenderKey:[6,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING]};g.PersonalSenderKeyStatusTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloReactionsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={ack:[1,d("WAProtoConst").TYPES.INT32],author:[2,d("WAProtoConst").TYPES.STRING],externalId:[3,d("WAProtoConst").TYPES.STRING],reactionId:[4,d("WAProtoConst").TYPES.STRING],reactToExternalId:[5,d("WAProtoConst").TYPES.STRING],reactToAuthor:[6,d("WAProtoConst").TYPES.STRING],reactToMsgId:[7,d("WAProtoConst").TYPES.STRING],threadJid:[8,d("WAProtoConst").TYPES.STRING],reaction:[9,d("WAProtoConst").TYPES.STRING],groupingKey:[10,d("WAProtoConst").TYPES.STRING],ts:[11,d("WAProtoConst").TYPES.INT64],rowId:[12,d("WAProtoConst").TYPES.INT32]};g.ReactionsTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloReceiptTablesSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null);a.internalSpec={deliveredTs:[1,d("WAProtoConst").TYPES.INT64],readTs:[2,d("WAProtoConst").TYPES.INT64]};b.internalSpec={userJid:[1,d("WAProtoConst").TYPES.STRING],dbUserStatusTs:[2,d("WAProtoConst").TYPES.MESSAGE,a]};c.internalSpec={deviceJid:[1,d("WAProtoConst").TYPES.STRING],serializedPubKey:[2,d("WAProtoConst").TYPES.BYTES],baseKey:[3,d("WAProtoConst").TYPES.BYTES]};e.internalSpec={msgId:[1,d("WAProtoConst").TYPES.STRING],statusTsPerUser:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,b],permittedIdentitiesPerDevice:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,c],recipientDevices:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING]};f.internalSpec={device:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64]};h.internalSpec={pendingReceiptId:[1,d("WAProtoConst").TYPES.STRING],thread:[2,d("WAProtoConst").TYPES.STRING],externalId:[3,d("WAProtoConst").TYPES.STRING],author:[4,d("WAProtoConst").TYPES.STRING],deliveryReceipts:[5,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f],readReceipts:[6,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f]};g.DbUserStatusTsProtoSpec=a;g.StatusTsPerUserProtoSpec=b;g.IdentitiesPerDeviceProtoSpec=c;g.ReceiptsTableSchemaProtoSpec=e;g.ReceiptsSpec=f;g.PendingReceiptsTableSchemaProtoSpec=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloSignalTablesSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null);a.internalSpec={deviceJid:[1,d("WAProtoConst").TYPES.STRING],identity:[2,d("WAProtoConst").TYPES.BYTES],firstSeenTs:[3,d("WAProtoConst").TYPES.INT64],deviceName:[4,d("WAProtoConst").TYPES.STRING],platform:[5,d("WAProtoConst").TYPES.STRING],userJid:[6,d("WAProtoConst").TYPES.STRING]};b.internalSpec={keyId:[1,d("WAProtoConst").TYPES.INT32],encoded:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={generationId:[1,d("WAProtoConst").TYPES.INT32],startingId:[2,d("WAProtoConst").TYPES.INT32],endingId:[3,d("WAProtoConst").TYPES.INT32],createdTs:[4,d("WAProtoConst").TYPES.INT64]};e.internalSpec={id:[1,d("WAProtoConst").TYPES.STRING],session:[2,d("WAProtoConst").TYPES.BYTES]};f.internalSpec={keyId:[1,d("WAProtoConst").TYPES.INT32],encoded:[2,d("WAProtoConst").TYPES.BYTES]};h.internalSpec={id:[1,d("WAProtoConst").TYPES.STRING],groupJid:[2,d("WAProtoConst").TYPES.STRING],userJid:[3,d("WAProtoConst").TYPES.STRING],deviceId:[4,d("WAProtoConst").TYPES.INT32],record:[5,d("WAProtoConst").TYPES.BYTES]};g.IdentityTableSchemaProtoSpec=a;g.PrekeyTableSchemaProtoSpec=b;g.PrekeyGenerationTableSchemaProtoSpec=c;g.SessionTableSchemaProtoSpec=e;g.SignedPrekeyTableSchemaProtoSpec=f;g.SenderKeySessionsTableSchemaProtoSpec=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloSyncActionsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={index:[1,d("WAProtoConst").TYPES.STRING],binarySyncData:[2,d("WAProtoConst").TYPES.BYTES],actionState:[3,d("WAProtoConst").TYPES.STRING],version:[4,d("WAProtoConst").TYPES.INT32],keyId:[5,d("WAProtoConst").TYPES.BYTES],modelId:[6,d("WAProtoConst").TYPES.STRING],modelType:[7,d("WAProtoConst").TYPES.STRING],indexMac:[8,d("WAProtoConst").TYPES.BYTES],valueMac:[9,d("WAProtoConst").TYPES.BYTES],collection:[10,d("WAProtoConst").TYPES.STRING],timestamp:[11,d("WAProtoConst").TYPES.INT64],action:[12,d("WAProtoConst").TYPES.STRING]};g.SyncActionsTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloSyncKeysTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);a.internalSpec={currentIndex:[1,d("WAProtoConst").TYPES.INT32],deviceIndexes:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.INT32],rawId:[3,d("WAProtoConst").TYPES.INT64]};b.internalSpec={id:[1,d("WAProtoConst").TYPES.BYTES],keyId:[2,d("WAProtoConst").TYPES.BYTES],keyData:[3,d("WAProtoConst").TYPES.BYTES],keyEpoch:[4,d("WAProtoConst").TYPES.INT64],timestamp:[5,d("WAProtoConst").TYPES.INT64],fingerprint:[6,d("WAProtoConst").TYPES.MESSAGE,a]};g.SyncKeyFingerprintSpec=a;g.SyncKeysTableSchemaProtoSpec=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloTasksTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={taskName:[1,d("WAProtoConst").TYPES.STRING],scheduledTime:[2,d("WAProtoConst").TYPES.INT64]};g.TasksTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloThreadsTableSchema.pb",["WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={jid:[1,d("WAProtoConst").TYPES.STRING],threadOrder:[2,d("WAProtoConst").TYPES.STRING],nextInChatMsgId:[3,d("WAProtoConst").TYPES.INT32],folder:[4,d("WAProtoConst").TYPES.INT32],newestMsg:[5,d("WAProtoConst").TYPES.STRING],oldestMsg:[6,d("WAProtoConst").TYPES.STRING],lastReadMsg:[7,d("WAProtoConst").TYPES.STRING],lastReadMsgReceiptSent:[8,d("WAProtoConst").TYPES.STRING],lastReadMsgTs:[9,d("WAProtoConst").TYPES.INT64],newestMsgTs:[10,d("WAProtoConst").TYPES.INT64],muteExpireTimeMs:[11,d("WAProtoConst").TYPES.INT64],muteCallsExpireTimeMs:[12,d("WAProtoConst").TYPES.INT64],archived:[13,d("WAProtoConst").TYPES.BOOL],cannotReplyReason:[14,d("WAProtoConst").TYPES.STRING],chatId:[15,d("WAProtoConst").TYPES.INT32],optimisticThreadKey:[16,d("WAProtoConst").TYPES.STRING],isMigratedLocally:[17,d("WAProtoConst").TYPES.BOOL],snippetMsg:[18,d("WAProtoConst").TYPES.STRING]};g.ThreadsTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWArmadilloUnrenderedMessagesTableSchema.pb",["MAWArmadilloContactsTableSchema.pb","MAWArmadilloMessagesTableSchema.pb","WAProtoConst"],function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},null);a.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],externalId:[3,d("WAProtoConst").TYPES.STRING],msgId:[4,d("WAProtoConst").TYPES.STRING],author:[5,d("WAProtoConst").TYPES.STRING],ack:[6,d("WAProtoConst").TYPES.INT32],resendCount:[7,d("WAProtoConst").TYPES.INT32],ephemeralSetting:[8,d("WAProtoConst").TYPES.MESSAGE,d("MAWArmadilloContactsTableSchema.pb").EphemeralSettingProtoSpec],messageDeleteForMeTs:[9,d("WAProtoConst").TYPES.INT64],rowId:[10,d("WAProtoConst").TYPES.INT32],thread:[11,d("WAProtoConst").TYPES.INT32],mediaId:[12,d("WAProtoConst").TYPES.INT32],msgContent:[13,d("WAProtoConst").TYPES.STRING],threadJid:[14,d("WAProtoConst").TYPES.STRING],reportingMeta:[15,d("WAProtoConst").TYPES.MESSAGE,d("MAWArmadilloMessagesTableSchema.pb").ReportingMetaProtoSpec],invitedParticipantUserJid:[16,d("WAProtoConst").TYPES.STRING],groupName:[17,d("WAProtoConst").TYPES.STRING],quote:[18,d("WAProtoConst").TYPES.MESSAGE,d("MAWArmadilloMessagesTableSchema.pb").DbQuotedMsgProtoSpec],xmaMessageType:[19,d("WAProtoConst").TYPES.INT32],sortOrderMs:[20,d("WAProtoConst").TYPES.INT64]};g.UnrenderedMessagesTableSchemaProtoSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAServerSync.pb",["$InternalEnum","WAProtoConst"],function(a,b,c,d,e,f,g){a=b("$InternalEnum")({SET:0,REMOVE:1});c=babelHelpers["extends"]({},null);e=babelHelpers["extends"]({},null);f=babelHelpers["extends"]({},null);b=babelHelpers["extends"]({},null);var h=babelHelpers["extends"]({},null),i=babelHelpers["extends"]({},null),j=babelHelpers["extends"]({},null),k=babelHelpers["extends"]({},null),l=babelHelpers["extends"]({},null),m=babelHelpers["extends"]({},null),n=babelHelpers["extends"]({},null);c.internalSpec={version:[1,d("WAProtoConst").TYPES.UINT64]};e.internalSpec={code:[1,d("WAProtoConst").TYPES.UINT64],text:[2,d("WAProtoConst").TYPES.STRING]};f.internalSpec={blob:[1,d("WAProtoConst").TYPES.BYTES]};b.internalSpec={blob:[1,d("WAProtoConst").TYPES.BYTES]};h.internalSpec={id:[1,d("WAProtoConst").TYPES.BYTES]};i.internalSpec={index:[1,d("WAProtoConst").TYPES.MESSAGE,f],value:[2,d("WAProtoConst").TYPES.MESSAGE,b],keyId:[3,d("WAProtoConst").TYPES.MESSAGE,h]};j.internalSpec={mediaKey:[1,d("WAProtoConst").TYPES.BYTES],directPath:[2,d("WAProtoConst").TYPES.STRING],handle:[3,d("WAProtoConst").TYPES.STRING],fileSizeBytes:[4,d("WAProtoConst").TYPES.UINT64],fileSha256:[5,d("WAProtoConst").TYPES.BYTES],fileEncSha256:[6,d("WAProtoConst").TYPES.BYTES]};k.internalSpec={version:[1,d("WAProtoConst").TYPES.MESSAGE,c],records:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,i],mac:[3,d("WAProtoConst").TYPES.BYTES],keyId:[4,d("WAProtoConst").TYPES.MESSAGE,h]};l.internalSpec={mutations:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,m]};m.internalSpec={operation:[1,d("WAProtoConst").TYPES.ENUM,a],record:[2,d("WAProtoConst").TYPES.MESSAGE,i]};n.internalSpec={version:[1,d("WAProtoConst").TYPES.MESSAGE,c],mutations:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,m],externalMutations:[3,d("WAProtoConst").TYPES.MESSAGE,j],snapshotMac:[4,d("WAProtoConst").TYPES.BYTES],patchMac:[5,d("WAProtoConst").TYPES.BYTES],keyId:[6,d("WAProtoConst").TYPES.MESSAGE,h],exitCode:[7,d("WAProtoConst").TYPES.MESSAGE,e],deviceIndex:[8,d("WAProtoConst").TYPES.UINT32]};g.SyncdMutation$SyncdOperation=a;g.SyncdVersionSpec=c;g.ExitCodeSpec=e;g.SyncdIndexSpec=f;g.SyncdValueSpec=b;g.KeyIdSpec=h;g.SyncdRecordSpec=i;g.ExternalBlobReferenceSpec=j;g.SyncdSnapshotSpec=k;g.SyncdMutationsSpec=l;g.SyncdMutationSpec=m;g.SyncdPatchSpec=n},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WABinary",["WAHex"],function(a,b,c,d,e,f,g){var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(var f=b-1;f>=c;f--)e[f+d]=e[f];for(var b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw new Error("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw new Error(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,c,d){c=Math.min(d,i);d=0;var e=128;while(d<c&&e&128)e=a[b+d++];if(d===i&&e>1)throw new Error("ParseError: varint exceeds 64 bits");else if(e&128)return d+1;return d}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(var d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(var b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(var b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,c,d){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=c)throw new TypeError(typeof a==="string"?'WriteError: string "'+a+'" is not a valid '+d:"WriteError: "+String(a)+" is not a valid "+d)}function T(a,b,c){var d=o(a,b,c),e;b>=0?e=b:e=a?b:4294967296+b;a=c>=0?c:4294967296+c;b=e*4294967296+a;if(!d)throw new Error("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAHasProperty",[],function(a,b,c,d,e,f){function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAProtoCompile",["WAProtoConst"],function(a,b,c,d,e,f,g){var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];n=o[1];var p=o[0];g.push(p);j.push(n);if((n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((n&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){p=o[2];if(typeof p.cast==="function")f[m]=p;else{n=!0;o=0;for(var q in p)n&&q!==o++&&(n=!1);q=void 0;if(n){q=[];for(var n=0;n<o;n++)q.push(!0)}else{q={};for(var n in p)q[p[n]]=!0}f[m]=q}}else f[m]=null}var r={};o=function(a){l[a].forEach(function(b){r[b]||(r[b]=[]),r[b].push(a)})};for(var n in l)o(n);p=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];m=new h(e,g,j,k,f,l,r,p,q);a.internalCompiledSpec=m;return m}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAProtoUtils",["WAProtoConst"],function(a,b,c,d,e,f,g){function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q];if(r===void 0)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(var o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);o=j[n];o&&o.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field name is reserved"})}};for(var n=0;n<c.length&&!m;n++)b(n);return m}g.checkRequirements=n;g.checkValid=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("decodeProtobuf",["WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],function(a,b,c,d,e,f,g){function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e){var f=d("WAProtoCompile").compileSpec(a),g=f.names,k=f.fields,l=f.types,m=f.meta,o=f.oneofToFields,p=f.fieldToOneof,q=f.reservedTags,r=f.reservedFields;f=a.internalDefaults;var s=c||babelHelpers["extends"]({},f)||{};s.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(var f=0;f<g.length;f++)l[f]&d("WAProtoConst").FLAGS.REPEATED&&(s[g[f]]=[]);var t=0;c=k.length>0;a=k[0];while(b.size()){f=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var u=f&7,v=f>>>3;if(c&&v!==a){f=t;do++t===k.length&&(t=0),a=k[t];while(v!==a&&t!==f)}if(c&&v===a)(function(){var a=g[t],c=l[t];h(u,c,a);var f=c&d("WAProtoConst").TYPE_MASK,j=m[t];if(c&d("WAProtoConst").FLAGS.PACKED){var k=b.readVarInt(d("WABinary").parseUint64OrThrow);k=b.readBinary(k);while(k.size()){var w=i(a,f,k);(f!==d("WAProtoConst").TYPES.ENUM||j[w]||(j.cast==null?void 0:j.cast(w))!==void 0)&&s[a].push(w)}}else if(f===d("WAProtoConst").TYPES.MESSAGE){w=b.readVarInt(d("WABinary").parseUint64OrThrow);k=b.readBinary(w);if(c&d("WAProtoConst").FLAGS.REPEATED)s[a].push(n(j,k,void 0,e));else{w=s[a];s[a]=n(j,k,w,e)}}else{k=i(a,f,b);(f!==d("WAProtoConst").TYPES.ENUM||j[k]||(j.cast==null?void 0:j.cast(k))!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?s[a].push(k):s[a]=k)}w=p[a];w&&typeof s[a]!=="undefined"&&w.forEach(function(b){b=o[b].filter(function(b){return b!==a});b.forEach(function(a){delete s[a]})});(q[v]||r[a])&&delete s[a]})();else{s.$$unknownFieldCount++;if(e){s.$$unsafeUnknownFields||(s.$$unsafeUnknownFields={});f=void 0;switch(u){case d("WAProtoConst").ENC.VARINT:f=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:f=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:f=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:f=b.readBinary(4);break}s.$$unsafeUnknownFields[v]=f}else u===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):u===d("WAProtoConst").ENC.BIT64?b.advance(8):u===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):u===d("WAProtoConst").ENC.BIT32&&b.advance(4)}}return s}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithUnknowns=b;g.getUnknownFields=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbObjDecode",["MAWArmadilloAppDataTableSchema.pb","MAWArmadilloAppMetaTableSchema.pb","MAWArmadilloCollectionVersionsTableSchema.pb","MAWArmadilloContactsTableSchema.pb","MAWArmadilloDyiBatchTableSchema.pb","MAWArmadilloGroupInfoTableSchema.pb","MAWArmadilloGroupInvitesTableSchema.pb","MAWArmadilloMediaTablesSchema.pb","MAWArmadilloMessagesTableSchema.pb","MAWArmadilloMetaRowTableSchema.pb","MAWArmadilloMissingKeysTableSchema.pb","MAWArmadilloParticipantsTableSchema.pb","MAWArmadilloPendingMutationsTableSchema.pb","MAWArmadilloPersonalSenderKeyStatusTableSchema.pb","MAWArmadilloReactionsTableSchema.pb","MAWArmadilloReceiptTablesSchema.pb","MAWArmadilloSignalTablesSchema.pb","MAWArmadilloSyncActionsTableSchema.pb","MAWArmadilloSyncKeysTableSchema.pb","MAWArmadilloTasksTableSchema.pb","MAWArmadilloThreadsTableSchema.pb","MAWArmadilloUnrenderedMessagesTableSchema.pb","WAMsgType","WAServerSync.pb","decodeProtobuf","err"],function(a,b,c,d,e,f,g){var h={messages:function(a){return l(a)},unrenderedMessages:function(a){return m(a)},groupInfo:function(a){return o(a)},meta:function(a){return p(a)},identity:function(a){return q(a)},prekey:function(a){return r(a)},prekeyGeneration:function(a){return s(a)},session:function(a){return t(a)},signedPrekey:function(a){return u(a)},senderKeySessions:function(a){return v(a)},receipts:function(a){return x(a)},pendingReceipts:function(a){return y(a)},threads:function(a){return z(a)},contacts:function(a){return A(a)},participants:function(a){return B(a)},tasks:function(a){return D(a)},personalSenderKeyStatuses:function(a){return E(a)},appData:function(a){return F(a)},appMeta:function(a){return G(a)},chunk:function(a){return H(a)},media:function(a){return I(a)},reactions:function(a){return J(a)},groupInvites:function(a){return C(a)},dyiBatch:function(a){return K(a)},syncActions:function(a){return L(a)},missingKeys:function(a){return M(a)},pendingMutations:function(a){return N(a)},collectionVersions:function(a){return O(a)},syncKeys:function(a){return P(a)},browserEncryptionMeta:function(a){throw c("err")("unexpected table for decryption")},dualSendMedia:function(a){throw c("err")("unexpected table for decryption")},existingUsers:function(a){throw c("err")("unexpected table for decryption")},ftsBackloggedMessages:function(a){throw c("err")("unexpected table for decryption")},ftsEncryptionMeta:function(a){throw c("err")("unexpected table for decryption")},ftsIndexV3:function(a){throw c("err")("unexpected table for decryption")},historySyncQRCodeData:function(a){throw c("err")("unexpected table for decryption")},historySyncQRCodeSecretKey:function(a){throw c("err")("unexpected table for decryption")},isDualSend:function(a){throw c("err")("unexpected table for decryption")},jobs:function(a){throw c("err")("unexpected table for decryption")},pendingStanzas:function(a){throw c("err")("unexpected table for decryption")},xma:function(a){throw c("err")("unexpected table for decryption")}};function a(a,b){if(Object.prototype.hasOwnProperty.call(h,b))b=h[b](a);else throw c("err")("not a valid table name");return b}function i(a){a=a.quote;var b;if(a!=null){if(a.content==null)throw c("err")("QuotedMsgContent missing upon decoding");var d=a.content,e=d.type,f=d.ts,g=d.externalId,h=d.author,i=d.msgContent,j=d.msgId,k=d.mediaId,l=d.sourceId,m=d.xmaMessageType;d=d.specialTextSize;b={remoteJid:a.remoteJid,content:babelHelpers["extends"]({},a.content,{type:e,ts:f,externalId:g,author:h,msgContent:i,msgId:j,mediaId:k,sourceId:l,xmaMessageType:m,specialTextSize:d})}}return b}function j(a){if(a==null)return a;else return new Uint8Array(a)}function k(a){if(a==null||a.length===0)return new Set();else return new Set(a)}function l(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMessagesTableSchema.pb").MessagesTableSchemaProtoSpec,a);var b=a.msgContent;if(a.type===d("WAMsgType").MSG_TYPE.FUTUREPROOF){if(b==null)throw c("err")("MsgContent missing upon decoding futureproof message");b.subtype=b.subtype}var e=i(a),f=n(a.reportingMeta);return babelHelpers["extends"]({},a,{msgContent:b,reportingMeta:f,quote:e})}function m(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloUnrenderedMessagesTableSchema.pb").UnrenderedMessagesTableSchemaProtoSpec,a);var b=i(a),c=n(a.reportingMeta);return babelHelpers["extends"]({},a,{reportingMeta:c,quote:b})}function n(a){if(a==null)return;return{frankingTag:a.frankingTag!=null?new Uint8Array(a.frankingTag):a.frankingTag,frankingVersion:a.frankingVersion,reportingTag:a.reportingTag!=null?new Uint8Array(a.reportingTag):a.reportingTag,reportingContent:a.reportingContent}}function o(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloGroupInfoTableSchema.pb").GroupInfoSchemaProtoSpec,a);return{creator:a.creator,creationTs:a.creationTs,name:a.name,nameOwner:a.nameOwner,nameTs:a.nameTs,msgExpiration:a.msgExpiration,participantVersion:a.participantVersion,inviter:a.inviter}}function p(a){var b,e;a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMetaRowTableSchema.pb").MetaRowTableSchemaProtoSpec,a);b=(b=a.value)==null?void 0:b.cat;if(b==null)b=b;else{var f;b={encrypted_serialized_cat:(f=a.value)==null?void 0:(f=f.cat)==null?void 0:f.encryptedSerializedCat,expiration_time_in_seconds:(f=a.value)==null?void 0:(f=f.cat)==null?void 0:f.expirationTimeInSeconds}}f=(f=a.value)==null?void 0:f.edgeInfo;f=j(f);var g;e=(e=a.value)==null?void 0:e.identityKeyPair;if(e==null)g=e;else{var h=e.privateKey;e=e.publicKey;if(h==null||e==null)throw c("err")("Decoding identityKeyPair private or public key missing");g={privateKey:new Uint8Array(h),publicKey:new Uint8Array(e)}}return{value:{cat:b,deviceUUID:(h=a.value)==null?void 0:h.deviceUUID,regId:(e=a.value)==null?void 0:e.regId,identityKeyPair:g,fbid:(b=a.value)==null?void 0:b.fbid,deviceId:(h=a.value)==null?void 0:h.deviceId,lastSignedPrekeyId:(e=a.value)==null?void 0:e.lastSignedPrekeyId,lastPrekeyId:(g=a.value)==null?void 0:g.lastPrekeyId,lastPrekeyGenerationId:(b=a.value)==null?void 0:b.lastPrekeyGenerationId,edgeInfo:f,clockSkew:(h=a.value)==null?void 0:h.clockSkew,abProps:(e=a.value)==null?void 0:e.abProps}}}function q(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").IdentityTableSchemaProtoSpec,a);var b=a.identity,c=a.firstSeenTs;b=j(b);return{identity:b,firstSeenTs:c,deviceName:a.deviceName,platform:a.platform}}function r(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyTableSchemaProtoSpec,a);a=a.encoded;a=j(a);return{encoded:a}}function s(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyGenerationTableSchemaProtoSpec,a)}function t(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SessionTableSchemaProtoSpec,a);a=a.session;a=j(a);return{session:a}}function u(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SignedPrekeyTableSchemaProtoSpec,a);a=a.encoded;a=j(a);return{encoded:a}}function v(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SenderKeySessionsTableSchemaProtoSpec,a);var b=a.record;b=j(b);return{deviceId:a.deviceId,record:b}}function w(a){if(a.length===0)return null;else return new Map(a.map(function(a){var b=a.deviceJid;if(b==null||a.serializedPubKey==null)throw c("err")("Expected deviceJid or serializedPubKey are missing ");var d=new Uint8Array(a.serializedPubKey);a=j(a.baseKey);d={pubKey:d,baseKey:a};return[b,d]}))}function x(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").ReceiptsTableSchemaProtoSpec,a);var b,e=a.statusTsPerUser;e==null?b=new Map():b=new Map(e.map(function(a){if(a.userJid==null||a.dbUserStatusTs==null)throw c("err")("Expected userJid or dbUserStatus are missing ");return[a.userJid,a.dbUserStatusTs]}));e=a.recipientDevices;e=k(e);return{statusTsPerUser:b,permittedIdentitiesPerDevice:w(a.permittedIdentitiesPerDevice),recipientDevices:e}}function y(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").PendingReceiptsTableSchemaProtoSpec,a)}function z(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloThreadsTableSchema.pb").ThreadsTableSchemaProtoSpec,a);return{nextInChatMsgId:a.nextInChatMsgId,folder:a.folder,newestMsg:a.newestMsg,oldestMsg:a.oldestMsg,lastReadMsg:a.lastReadMsg,lastReadMsgReceiptSent:a.lastReadMsgReceiptSent,lastReadMsgTs:a.lastReadMsgTs,newestMsgTs:a.newestMsgTs,muteExpireTimeMs:a.muteExpireTimeMs,muteCallsExpireTimeMs:a.muteCallsExpireTimeMs,archived:a.archived,cannotReplyReason:a.cannotReplyReason,optimisticThreadKey:a.optimisticThreadKey,isMigratedLocally:a.isMigratedLocally,snippetMsg:a.snippetMsg}}function A(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloContactsTableSchema.pb").ContactsTableSchemaProtoSpec,a);var b=a.icdcInfo,c;b!=null&&(c={sequence:b.sequence,timestamp:b.timestamp,devices:b.devices.map(function(a){return new Uint8Array(a)}),signingDeviceIndex:b.signingDeviceIndex,dirty:b.dirty});return{devices:a.devices,dhash:a.dhash,nameForSearch:a.nameForSearch,ephemeralSetting:a.ephemeralSetting,isBlocked:a.isBlocked,isRestricted:a.isRestricted,lastSyncTs:a.lastSyncTs,icdcInfo:c,icdcFails:[],relationship:a.relationship,ephemeralSyncResponseBackoffInfo:a.ephemeralSyncResponseBackoffInfo}}function B(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloParticipantsTableSchema.pb").ParticipantsTableSchemaProtoSpec,a)}function C(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloGroupInvitesTableSchema.pb").GroupInvitesTableSchemaProtoSpec,a)}function D(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloTasksTableSchema.pb").TasksTableSchemaProtoSpec,a)}function E(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb").PersonalSenderKeyStatusTableSchemaProtoSpec,a);var b=a.hasSenderKey;b=k(b);return{senderKeyId:a.senderKeyId,hasSenderKey:b,rotateSenderKey:a.rotateSenderKey,senderKeyTs:a.senderKeyTs}}function F(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloAppDataTableSchema.pb").AppDataTableSchemaProtoSpec,a);return{ts:a.ts,contents:a.contents,permittedIdentitiesPerDevice:w(a.permittedIdentitiesPerDevice),recipientDevices:new Set(a.recipientDevices),ack:a.ack,sendPartial:a.sendPartial}}function G(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloAppMetaTableSchema.pb").AppMetaTableSchemaProtoSpec,a)}function H(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").ChunkTableSchemaProtoSpec,a)}function I(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaTableSchemaProtoSpec,a);var b,e=a.mediaEntries;e==null?b=new Map():b=new Map(e.map(function(a){if(a.msgId==null||a.mediaEntryData==null)throw c("err")("Expected msgId or mediaEntryData are missing ");return[a.msgId,new Uint8Array(a.mediaEntryData)]}));return{mediaType:a.mediaType,size:a.size,mediaEntries:b,ts:a.ts,validatedVideoInfo:a.validatedVideoInfo,validatedImageInfo:a.validatedImageInfo,validatedAudioInfo:a.validatedAudioInfo,plaintextHash:a.plaintextHash}}function J(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReactionsTableSchema.pb").ReactionsTableSchemaProtoSpec,a);return{ack:a.ack,author:a.author,reactToAuthor:a.reactToAuthor,reaction:a.reaction,groupingKey:a.groupingKey,ts:a.ts}}function K(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloDyiBatchTableSchema.pb").DyiBatchTableSchemaProtoSpec,a);return{numMessages:a.numMessages,oldestTs:a.oldestTs,threadId:a.threadId,isThread:a.isThread}}function L(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSyncActionsTableSchema.pb").SyncActionsTableSchemaProtoSpec,a);return{binarySyncData:a.binarySyncData,version:a.version,keyId:a.keyId,valueMac:a.valueMac,timestamp:a.timestamp}}function M(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMissingKeysTableSchema.pb").MissingKeysTableSchemaProtoSpec,a);var b;a.deviceResponses==null?b=new Map():b=new Map(a.deviceResponses.map(function(a){if(a.deviceId==null)throw c("err")("Expected deviceId is missing");else return[a.deviceId,a.deviceResponse]}));return{keyId:a.keyId,timestamp:a.timestamp,deviceResponses:b}}function N(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloPendingMutationsTableSchema.pb").PendingMutationsTableSchemaProtoSpec,a);var b;switch(a.operation){case d("MAWArmadilloPendingMutationsTableSchema.pb").SYNCD_MUTATION_SYNCD_OPERATION.SET:b=d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET;break;case d("MAWArmadilloPendingMutationsTableSchema.pb").SYNCD_MUTATION_SYNCD_OPERATION.REMOVE:b=d("WAServerSync.pb").SyncdMutation$SyncdOperation.REMOVE;break;default:throw c("err")("operation missing when decoding PendingMutation")}return{binarySyncAction:a.binarySyncAction,version:a.version,operation:b,timestamp:a.timestamp}}function O(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloCollectionVersionsTableSchema.pb").CollectionVersionsTableSchemaProtoSpec,a);return{version:a.version,state:a.state,finiteFailureStartTime:a.finiteFailureStartTime,ltHash:a.ltHash,isCollectionInMacMismatchFatal:a.isCollectionInMacMismatchFatal}}function P(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSyncKeysTableSchema.pb").SyncKeysTableSchemaProtoSpec,a);return{keyData:a.keyData,timestamp:a.timestamp,fingerprint:a.fingerprint}}g.decodeDbObj=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WASyncdConst",["$InternalEnum","WATimeUtils"],function(a,b,c,d,e,f,g){a=1e3;c=1e3*60*60;e=2;f=d("WATimeUtils").DAY_MILLISECONDS*2;d=100;var h=2e3,i=10,j=100,k=0,l=3,m=7,n=(b=b("$InternalEnum"))({Star:"star",Contact:"contact",Mute:"mute",PinDEPRECATED:"pin",Pin:"pin_v1",SettingPushName:"setting_pushName",LabelEdit:"label_edit",LabelMessage:"label_message",LabelJid:"label_jid",QuickReply:"quick_reply",LocaleSetting:"setting_locale",Archive:"archive",MarkChatAsRead:"markChatAsRead",ClearChat:"clearChat",DeleteMessageForMe:"deleteMessageForMe",Sentinel:"sentinel",UnarchiveChatsSetting:"setting_unarchiveChats",DeleteChat:"deleteChat",AndroidUnsupportedActions:"android_unsupported_actions",PrimaryFeature:"primary_feature",Subscription:"subscription",Nux:"nux",Agent:"deviceAgent",TimeFormat:"time_format",UserStatusMute:"userStatusMute",PrimaryVersion:"primary_version",RemoveRecentSticker:"removeRecentSticker",ChatAssignment:"agentChatAssignment",ChatAssignmentOpenedStatus:"agentChatAssignmentOpenedStatus"}),o=b({Regular:"regular",RegularLow:"regular_low",RegularHigh:"regular_high",CriticalBlock:"critical_block",CriticalUnblockLow:"critical_unblock_low"}),p=b.Mirrored(["Success","SuccessHasMore","Conflict","ConflictHasMore","ErrorRetry","ErrorFatal","Blocked"]),q=b.Mirrored(["UpToDate","Dirty","FailingFiniteRetry","Fatal","Blocked"]),r=b.Mirrored(["Success","Malformed","Orphan","Unsupported","Skipped","Failed"]),s=b({Msg:"Msg",Chat:"Chat",Agent:"Agent",ChatAssignment:"ChatAssignment",UserStatusMute:"UserStatusMute"}),t=b.Mirrored(["ApplyRemoteAndDropLocal","SkipRemote","SkipRemoteAndDropLocal"]);b=b.Mirrored(["Patch","Snapshot","Local"]);g.BACKOFF_MIN_TIMEOUT=a;g.BACKOFF_MAX_TIMEOUT=c;g.BACKOFF_BASE=e;g.FINITE_FAILURE_EXPIRY_DURATION=f;g.MIN_INLINE_MUTATIONS=d;g.MAX_INLINE_MUTATIONS=h;g.MIN_PATCH_SIZE=i;g.MAX_PATCH_SIZE=j;g.DEFAULT_COLLECTION_VERSION=k;g.LABEL_ASSOCIATION_SYNC_VERSION=l;g.CHAT_ASSIGNMENT_SYNC_VERSION=m;g.Actions=n;g.CollectionName=o;g.CollectionState=p;g.CollectionSyncState=q;g.SyncActionState=r;g.SyncModelType=s;g.ConflictResolutionState=t;g.SyncDataType=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WASyncdKeyTypes",[],function(a,b,c,d,e,f){function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}f.toSyncKeyId=a;f.fromSyncKeyId=b;f.toSyncKeyData=c;f.fromSyncKeyData=d},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],function(a,b,c,d,e,f,g){var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(var g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(var r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else{a.writeVarInt(k);o=m[p];o(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbObjEncode",["MAWArmadilloAppDataTableSchema.pb","MAWArmadilloAppMetaTableSchema.pb","MAWArmadilloCollectionVersionsTableSchema.pb","MAWArmadilloContactsTableSchema.pb","MAWArmadilloDyiBatchTableSchema.pb","MAWArmadilloGroupInfoTableSchema.pb","MAWArmadilloGroupInvitesTableSchema.pb","MAWArmadilloMediaTablesSchema.pb","MAWArmadilloMessagesTableSchema.pb","MAWArmadilloMetaRowTableSchema.pb","MAWArmadilloMissingKeysTableSchema.pb","MAWArmadilloParticipantsTableSchema.pb","MAWArmadilloPendingMutationsTableSchema.pb","MAWArmadilloPersonalSenderKeyStatusTableSchema.pb","MAWArmadilloReactionsTableSchema.pb","MAWArmadilloReceiptTablesSchema.pb","MAWArmadilloSignalTablesSchema.pb","MAWArmadilloSyncActionsTableSchema.pb","MAWArmadilloSyncKeysTableSchema.pb","MAWArmadilloTasksTableSchema.pb","MAWArmadilloThreadsTableSchema.pb","MAWArmadilloUnrenderedMessagesTableSchema.pb","WAMsgType","WAServerSync.pb","WASyncdConst","WASyncdKeyTypes","encodeProtobuf","err"],function(a,b,c,d,e,f,g){var h={messages:e,unrenderedMessages:f,groupInfo:i,meta:j,identity:k,prekey:l,prekeyGeneration:m,session:n,signedPrekey:o,senderKeySessions:p,receipts:r,pendingReceipts:s,threads:t,contacts:u,participants:v,tasks:x,personalSenderKeyStatuses:y,appData:z,appMeta:A,chunk:B,media:C,reactions:D,groupInvites:w,dyiBatch:E,syncActions:F,missingKeys:H,pendingMutations:J,collectionVersions:L,syncKeys:M,browserEncryptionMeta:a,dualSendMedia:a,existingUsers:a,ftsBackloggedMessages:a,ftsEncryptionMeta:a,ftsIndexV3:a,historySyncQRCodeData:a,historySyncQRCodeSecretKey:a,isDualSend:a,jobs:a,pendingStanzas:a,xma:a};function a(a){throw c("err")("unexpected table for encryption")}function b(a,b){if(Object.prototype.hasOwnProperty.call(h,b))b=h[b](a);else throw c("err")("not a valid table name");return b}function e(a){a.altIndex;a.externalId;a.messageDeleteTs;a.messageExpirationTs;a.msgId;a.quoteExternalId;a.revokedExternalId;a.rowId;a.thread;a.threadJid;a.unsendMsgContentDeleteTs;a.sortOrderMs;a=babelHelpers.objectWithoutPropertiesLoose(a,["altIndex","externalId","messageDeleteTs","messageExpirationTs","msgId","quoteExternalId","revokedExternalId","rowId","thread","threadJid","unsendMsgContentDeleteTs","sortOrderMs"]);a=a;var b;if(a.quote==null)b=a.quote;else{var c;c={type:a.quote.content.type,ts:a.quote.content.ts,externalId:(c=a.quote)==null?void 0:c.content.externalId,author:a.quote.content.author,msgContent:a.quote.content.msgContent,msgId:a.quote.content.msgId,mediaId:a.quote.content.mediaId,sourceId:a.quote.content.sourceId,xmaMessageType:a.quote.content.xmaMessageType,specialTextSize:a.quote.content.specialTextSize};c={remoteJid:a.quote.remoteJid,content:c};b=c}c=a.msgContent;a.type===d("WAMsgType").MSG_TYPE.FUTUREPROOF&&(c={subtype:a.msgContent.subtype,protobuf:a.msgContent.protobuf});c={type:a.type,ts:a.ts,author:a.author,ack:a.ack,resendCount:a.resendCount,msgContent:c,forwardingScore:a.forwardingScore,quote:b,ephemeralSetting:a.ephemeralSetting,isForwarded:a.isForwarded,serverTs:a.serverTs,originalTs:a.originalTs,reportingMeta:a.reportingMeta,ephemeralCounterStarted:a.ephemeralCounterStarted,mediaId:a.mediaId,ephemeralMsgDisappeared:a.ephemeralMsgDisappeared,specialTextSize:a.specialTextSize,xmaMessageType:a.xmaMessageType,isExpiredXmaMsg:a.isExpiredXmaMsg};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMessagesTableSchema.pb").MessagesTableSchemaProtoSpec,c).readByteArray(),encodedFields:c}}function f(a){var b;if(a.quote==null)b=a.quote;else{var c;c={type:a.quote.content.type,ts:a.quote.content.ts,externalId:(c=a.quote)==null?void 0:c.content.externalId,author:a.quote.content.author,msgContent:a.quote.content.msgContent,msgId:a.quote.content.msgId,mediaId:a.quote.content.mediaId,sourceId:a.quote.content.sourceId,xmaMessageType:a.quote.content.xmaMessageType};c={remoteJid:a.quote.remoteJid,content:c};b=c}c={type:a.type,ts:a.ts,author:a.author,ack:a.ack,resendCount:a.resendCount,ephemeralSetting:a.ephemeralSetting,mediaId:a.mediaId,msgContent:a.msgContent,reportingMeta:a.reportingMeta,invitedParticipantUserJid:a.invitedParticipantUserJid,groupName:a.groupName,quote:b,xmaMessageType:a.xmaMessageType};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloUnrenderedMessagesTableSchema.pb").UnrenderedMessagesTableSchemaProtoSpec,c).readByteArray(),encodedFields:c}}function i(a){a={creator:a.creator,creationTs:a.creationTs,name:a.name,nameOwner:a.nameOwner,nameTs:a.nameTs,msgExpiration:a.msgExpiration,participantVersion:a.participantVersion,inviter:a.inviter};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloGroupInfoTableSchema.pb").GroupInfoSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function j(a){var b=a.value.cat==null?a.value.cat:{encryptedSerializedCat:a.value.cat.encrypted_serialized_cat,expirationTimeInSeconds:a.value.cat.expiration_time_in_seconds};b={value:{cat:b,deviceUUID:a.value.deviceUUID,regId:a.value.regId,identityKeyPair:a.value.identityKeyPair,fbid:a.value.fbid,deviceId:a.value.deviceId,lastSignedPrekeyId:a.value.lastSignedPrekeyId,lastPrekeyId:a.value.lastPrekeyId,lastPrekeyGenerationId:a.value.lastPrekeyGenerationId,edgeInfo:a.value.edgeInfo,clockSkew:a.value.clockSkew,abProps:a.value.abProps}};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMetaRowTableSchema.pb").MetaRowTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function k(a){a={identity:a.identity,firstSeenTs:a.firstSeenTs,deviceName:a.deviceName,platform:a.platform};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").IdentityTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function l(a){a={encoded:a.encoded};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function m(a){a={startingId:a.startingId,endingId:a.endingId,createdTs:a.createdTs};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyGenerationTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function n(a){a={session:a.session};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SessionTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function o(a){a={encoded:a.encoded};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SignedPrekeyTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function p(a){a={deviceId:a.deviceId,record:a.record};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SenderKeySessionsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function q(a){if(a==null)return a;else return Array.from(a,function(a){var b=a[0];a=a[1];return{deviceJid:b,serializedPubKey:a.pubKey,baseKey:a.baseKey}})}function r(a){var b=Array.from(a.statusTsPerUser,function(a){var b=a[0];a=a[1];return{userJid:b,dbUserStatusTs:a}}),c=Array.from(a.recipientDevices);b={statusTsPerUser:b,permittedIdentitiesPerDevice:q(a.permittedIdentitiesPerDevice),recipientDevices:c};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").ReceiptsTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function s(a){a={thread:a.thread,externalId:a.externalId,author:a.author,deliveryReceipts:a.deliveryReceipts,readReceipts:a.readReceipts};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").PendingReceiptsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function t(a){a={nextInChatMsgId:a.nextInChatMsgId,folder:a.folder,newestMsg:a.newestMsg,oldestMsg:a.oldestMsg,lastReadMsg:a.lastReadMsg,lastReadMsgReceiptSent:a.lastReadMsgReceiptSent,lastReadMsgTs:a.lastReadMsgTs,newestMsgTs:a.newestMsgTs,muteExpireTimeMs:a.muteExpireTimeMs,muteCallsExpireTimeMs:a.muteCallsExpireTimeMs,archived:a.archived,cannotReplyReason:a.cannotReplyReason,optimisticThreadKey:a.optimisticThreadKey,isMigratedLocally:a.isMigratedLocally,snippetMsg:a.snippetMsg};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloThreadsTableSchema.pb").ThreadsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function u(a){a={devices:a.devices,dhash:a.dhash,nameForSearch:a.nameForSearch,ephemeralSetting:a.ephemeralSetting,isBlocked:a.isBlocked,isRestricted:a.isRestricted,lastSyncTs:a.lastSyncTs,icdcInfo:a.icdcInfo,icdcFails:a.icdcFails,relationship:a.relationship,ephemeralSyncResponseBackoffInfo:a.ephemeralSyncResponseBackoffInfo};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloContactsTableSchema.pb").ContactsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function v(a){a={deliveredWatermarkTs:a.deliveredWatermarkTs,lastReadWatermarkTs:a.lastReadWatermarkTs,type:a.type,addressable:a.addressable,lastReadActionTs:a.lastReadActionTs,nickname:a.nickname};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloParticipantsTableSchema.pb").ParticipantsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function w(a){a={inviteCode:a.inviteCode,inviteExpirationTs:a.inviteExpirationTs,caption:a.caption};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloGroupInvitesTableSchema.pb").GroupInvitesTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function x(a){a={scheduledTime:a.scheduledTime};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloTasksTableSchema.pb").TasksTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function y(a){var b=Array.from(a.hasSenderKey);b={senderKeyId:a.senderKeyId,hasSenderKey:b,rotateSenderKey:a.rotateSenderKey,senderKeyTs:a.senderKeyTs};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb").PersonalSenderKeyStatusTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function z(a){var b;switch(a.contents.type){case"meta_sync":var e=[];for(var f=a.contents.actions,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i.chatAction?e.push({chatAction:i.chatAction}):i.messageAction&&e.push({messageAction:i.messageAction})}b={type:"meta_sync",actions:e};break;case"backups_secrets":b={type:"backups_secrets",encryptedBackupsSecrets:a.contents.encryptedBackupsSecrets};break;case"sync_key_share":b={type:"sync_key_share",syncKeyShare:{keys:a.contents.syncKeyShare.keys,orphanKeys:(i=a.contents.syncKeyShare)==null?void 0:(h=i.orphanKeys)==null?void 0:h.map(d("WASyncdKeyTypes").fromSyncKeyId)}};break;case"sync_key_request":b={type:"sync_key_request",syncKeyRequest:{keyIds:a.contents.syncKeyRequest.keyIds.map(d("WASyncdKeyTypes").fromSyncKeyId)}};break;default:a.contents.type;throw c("err")("Unknown appdata type: "+a.contents.type)}g={ts:a.ts,contents:b,permittedIdentitiesPerDevice:q(a.permittedIdentitiesPerDevice),recipientDevices:Array.from(a.recipientDevices),ack:a.ack,sendPartial:a.sendPartial};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloAppDataTableSchema.pb").AppDataTableSchemaProtoSpec,g).readByteArray(),encodedFields:g}}function A(a){a={value:a.value};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloAppMetaTableSchema.pb").AppMetaTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function B(a){a={blobData:a.blobData,mimetype:a.mimetype,plaintextHash:a.plaintextHash};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").ChunkTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function C(a){var b=Array.from(a.mediaEntries,function(a){var b=a[0];a=a[1];return{msgId:b,mediaEntryData:a}});b={mediaType:a.mediaType,size:a.size,mediaEntries:b,ts:a.ts,plaintextHash:a.plaintextHash,validatedVideoInfo:a.validatedVideoInfo,validatedImageInfo:a.validatedImageInfo,validatedAudioInfo:a.validatedAudioInfo};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function D(a){a={ack:a.ack,author:a.author,reactToAuthor:a.reactToAuthor,reaction:a.reaction,groupingKey:a.groupingKey,ts:a.ts};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReactionsTableSchema.pb").ReactionsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function E(a){a={numMessages:a.numMessages,oldestTs:a.oldestTs,threadId:a.threadId,isThread:a.isThread};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloDyiBatchTableSchema.pb").DyiBatchTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function F(a){a={binarySyncData:a.binarySyncData,version:a.version,keyId:d("WASyncdKeyTypes").fromSyncKeyId(a.keyId),valueMac:a.valueMac,timestamp:a.timestamp};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSyncActionsTableSchema.pb").SyncActionsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function G(a){return Array.from(a,function(a){var b=a[0];a=a[1];return{deviceId:b,deviceResponse:a}})}function H(a){a={keyId:d("WASyncdKeyTypes").fromSyncKeyId(a.keyId),timestamp:a.timestamp,deviceResponses:G(a.deviceResponses)};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMissingKeysTableSchema.pb").MissingKeysTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function I(a){switch(a){case d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET:return d("MAWArmadilloPendingMutationsTableSchema.pb").SYNCD_MUTATION_SYNCD_OPERATION.SET;case d("WAServerSync.pb").SyncdMutation$SyncdOperation.REMOVE:return d("MAWArmadilloPendingMutationsTableSchema.pb").SYNCD_MUTATION_SYNCD_OPERATION.REMOVE}}function J(a){a={binarySyncAction:a.binarySyncAction,version:a.version,operation:I(a.operation),timestamp:a.timestamp};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloPendingMutationsTableSchema.pb").PendingMutationsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function K(a){switch(a){case d("WASyncdConst").CollectionSyncState.UpToDate:return"UpToDate";case d("WASyncdConst").CollectionSyncState.Dirty:return"Dirty";case d("WASyncdConst").CollectionSyncState.FailingFiniteRetry:return"FailingFiniteRetry";case d("WASyncdConst").CollectionSyncState.Fatal:return"Fatal";case d("WASyncdConst").CollectionSyncState.Blocked:return"Blocked"}}function L(a){a={version:a.version,state:K(a.state),finiteFailureStartTime:a.finiteFailureStartTime,ltHash:a.ltHash,isCollectionInMacMismatchFatal:a.isCollectionInMacMismatchFatal};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloCollectionVersionsTableSchema.pb").CollectionVersionsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function M(a){a={keyData:d("WASyncdKeyTypes").fromSyncKeyData(a.keyData),timestamp:a.timestamp,fingerprint:a.fingerprint};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSyncKeysTableSchema.pb").SyncKeysTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}g.encodeDbObj=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWKeychainUtil",[],function(a,b,c,d,e,f){function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWSubtleCrypto",[],function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WABase64",["WALogger"],function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""]);h=function(){return a};return a}var i=43,j=47,k=61,l=45,m=95,n=3e3,o="data:image/jpeg;base64,",p=function(a){return typeof a==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};function a(a){return q(a,i,j,!0)}function b(a,b){b===void 0&&(b=!1);return q(a,l,m,b)}function q(a,b,c,d){a=Array.isArray(a)||a instanceof ArrayBuffer?new Uint8Array(a):a;if(a.length<=n)return r(a,b,c,d);else{var e=[];for(var f=0;f<a.length;f+=n)e.push(r(a.subarray(f,f+n),b,c,d));return e.join("")}}function r(a,b,c,d){var e=Math.ceil(a.length*4/3),f=4*Math.ceil(a.length/3),g=new Array(f);for(var h=0,i=0;h<f;h+=4,i+=3){var j=a[i]<<16|a[i+1]<<8|a[i+2];g[h]=j>>18;g[h+1]=j>>12&63;g[h+2]=j>>6&63;g[h+3]=j&63}for(var j=0;j<e;j++){a=g[j];a<26?g[j]=65+a:a<52?g[j]=71+a:a<62?g[j]=a-4:a===62?g[j]=b:g[j]=c}for(var h=e;h<f;h++)g[h]=61;i=String.fromCharCode.apply(String,g);return d?i:i.substring(0,e)}function s(a,b,c,e){var f=a.length,g=new Int32Array(f+f%4);for(var i=0;i<f;i++){var j=a.charCodeAt(i);if(65<=j&&j<=90)g[i]=j-65;else if(97<=j&&j<=122)g[i]=j-71;else if(48<=j&&j<=57)g[i]=j+4;else if(j===b)g[i]=62;else if(j===c)g[i]=63;else if(j===e){f=i;break}else{self.ERROR!=null&&d("WALogger").ERROR(h(),i,f,j);return null}}j=g.length/4;for(var b=0,c=0;b<j;b++,c+=4)g[b]=g[c]<<18|g[c+1]<<12|g[c+2]<<6|g[c+3];e=Math.floor(f*3/4);i=new Uint8Array(e);a=0;b=0;for(;b+3<=e;a++,b+=3){j=g[a];i[b]=j>>16;i[b+1]=j>>8&255;i[b+2]=j&255}switch(e-b){case 2:i[b]=g[a]>>16;i[b+1]=g[a]>>8&255;break;case 1:i[b]=g[a]>>16}return i}function c(a){a=s(a,i,j,k);if(a)return a.buffer;else throw new Error("Base64.decode given invalid string")}function e(a,b){b===void 0&&(b=!1);a=s(a,l,m,b?k:-1);if(a)return a.buffer;else throw new Error("Base64.decode given invalid string")}function f(a){a=a instanceof ArrayBuffer?new Uint8Array(a):s(a,i,j,k);return a&&Array.from(a)}function t(a){return Math.floor(a.length*3/4)}g.BASE64_DATA_URL_SCHEME=o;g.isBase64=p;g.encodeB64=a;g.encodeB64UrlSafe=b;g.decodeB64=c;g.decodeB64UrlSafe=e;g.decodeB64ToJsArray=f;g.sizeWhenB64Decoded=t},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWKeychainCrypto",["MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MessengerWebInitData","WABase64","err"],function(a,b,c,d,e,f,g){"use strict";var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,c){var e=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),f=c?c:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:f,iv:new Uint8Array(e),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([f,e,a]);a=d("WABase64").encodeB64(a);return a})}function b(a,b){b=new Uint8Array(d("WABase64").decodeB64(b));var c=b.subarray(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES),e=b.subarray(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES+d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES+d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:c,iv:e,name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b)}function e(){var a=d("MAWKeychainUtil").fromHexString(c("MessengerWebInitData").accountKey);if(a==null)throw c("err")("Invalid value for account key");return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a.buffer,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function i(a){a=d("WABase64").decodeB64(a);return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"])}function j(){var a=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES);return a}function k(a,b){return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:d("MAWCryptoConsts").SHA256},info:d("MAWCryptoConsts").HKDF_INFO,name:d("MAWCryptoConsts").HKDF,salt:b},a,{length:d("MAWCryptoConsts").AES_GCM_KEY_LENGTH,name:d("MAWCryptoConsts").AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function l(a){a=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return new DataView(a).getUint8(0)}function m(a){return l(d("WABase64").decodeB64(a))}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=b;g.genAccountKey=e;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=i;g.genDatabaseEncryptionSeed=j;g.genDatabaseEncryptionKey=k;g.getKeyVersionFromCipherData=l;g.getKeyVersionFromCipherDataString=m},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(var a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}else b&&b.randomBytes&&a.setPRNG(function(a,c){var d,e=b.randomBytes(c);for(d=0;d<c;d++)a[d]=e[d];Ia(e)})})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a},null);
__d("tweetnacl",["tweetnacl-1.0.3"],function(a,b,c,d,e,f){e.exports=b("tweetnacl-1.0.3")()},null);
__d("MAWKeychainNaClCrypto",["MAWCryptoConsts","MAWKeychainCrypto","WABase64","tweetnacl"],function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=c?c:d("MAWKeychainCrypto").ADDITIONAL_DATA;c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length+b.length);a.set(c);a.set(e,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);a.set(b,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c))}function k(a,b,c){b.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);var e=b.slice(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+d("tweetnacl").secretbox.nonceLength);b=b.slice(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+d("tweetnacl").secretbox.nonceLength,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+d("tweetnacl").secretbox.nonceLength+4*Math.ceil(b.byteLength/3));b=d("tweetnacl").secretbox.open(new Uint8Array(b),new Uint8Array(e),new Uint8Array(a));if(b==null){throw new h("Encrypted dexie was unable to decrypt an entity. Attempting to use key version : "+((e=c)!=null?e:"non-provided")+".")}return b}function l(a,b,c){return k(a,d("WABase64").decodeB64(b),c)}function a(a,b,c){return j(a,b,c)}function b(a,b,c){a=l(a,b,c);return a}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbObjEncryption",["MAWCryptoConsts","MAWDbObjDecode","MAWDbObjEncode","MAWGating.re","MAWIndexedDb","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MAWQplProxy","err","qpl"],function(a,b,c,d,e,f,g){var h=1/100,i="_encryptedContent";function a(a,b,e){if(!d("MAWGating.re").isEncryptionAtRestEnabled()||!d("MAWIndexedDb").TABLES_TO_ENCRYPT.includes(b))return a;var f=Math.random()<h;f=f?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25300256,"115")):null;try{var g=babelHelpers["extends"]({},a);e=e();var j=e.key;e=e.version;e=d("MAWKeychainUtil").makeAAD(e,d("MAWCryptoConsts").CIPHER_ID);var k=d("MAWDbObjEncode").encodeDbObj(a,b),l=k.encodedFields;k=k.proto;Object.keys(l).forEach(function(b){Object.prototype.hasOwnProperty.call(a,b)&&delete g[b]});l=d("MAWKeychainNaClCrypto").encrypt(j,k,e);g[i]=l;f==null?void 0:f.endSuccess();return g}catch(a){f==null?void 0:f.endFail("ear_encrypt_fail");throw c("err")(a.message+" - Encrypted dexie was unable to encrypt an entity for table "+b)}}function b(a,b,e){if(!d("MAWIndexedDb").TABLES_TO_ENCRYPT.includes(b)||!Object.prototype.hasOwnProperty.call(a,i))return a;var f=Math.random()<h;f=f?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25313004,"118")):null;try{var g=a[i];a=babelHelpers["extends"]({},a);var j=d("MAWKeychainCrypto").getKeyVersionFromCipherDataString(g);e=e(j);e=e.key;var k={};e=d("MAWKeychainNaClCrypto").decrypt(e,g,j);var l=d("MAWDbObjDecode").decodeDbObj(e,b);Object.keys(l).forEach(function(a){k[a]=l[a]});delete a[i];g=babelHelpers["extends"]({},a,k);f==null?void 0:f.endSuccess();return g}catch(a){f==null?void 0:f.endFail("ear_decrypt_fail");a instanceof d("MAWKeychainNaClCrypto").EARDecryptionError&&d("MAWGating.re").isDbCleanupEnabled()&&d("MAWIndexedDb").deleteDb();throw c("err")(a.message+" - Encrypted dexie was unable to decrypt an entity for table "+b)}}g.ENCRYPTED_COLUMN_NAME=i;g.encryptDbObj=a;g.decryptDbObj=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAArrayBufferUtils",["Promise"],function(a,b,c,d,e,f){function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function c(a,c){c===void 0&&(c=5e5);return new(b("Promise"))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;requestAnimationFrame(i);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}requestAnimationFrame(i)}})}function d(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var g=8388607;function e(a,b){a=new Uint8Array(a);if(b>g)throw new Error("Divisor is too big");var c=0;for(var d=0;d<a.length;++d)c=((c<<8)+a[d])%b;return c}function h(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function i(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return j(a,b)}function j(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}f.stringToArrayBuffer=a;f.largeStringToArrayBuffer=c;f.arrayBufferToString=d;f.arrayBufferMod=e;f.concatBuffers=h;f.arrayBuffersEqualUNSAFE=i;f.uint8ArraysEqualUNSAFE=j},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWVaultMaterials",["WAArrayBufferUtils","WALogger","err","randomInt","tweetnacl"],function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Setting vault materials -- vaultMaterials=",", previouslySetup=",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}var k={encryptionKey:null,prefixAndSuffix:null};function l(a){k.prefixAndSuffix=a}function m(){return k.encryptionKey}function n(a){k.encryptionKey=a}function a(){k.encryptionKey=null,k.prefixAndSuffix=null}function o(){return q()!=null&&m()!=null}function p(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function q(){return k.prefixAndSuffix}function r(){if(!o()){var a="Vault materials are null";d("WALogger").ERROR(j(),a);throw c("err")(a)}return babelHelpers["extends"]({},k)}function b(a){var b=o();d("WALogger").LOG(i(),Boolean(a).toString(),b);if(!b){s((b=a)!=null?b:{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:p()})}return r()}function s(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null){var e="Cannot set null values for encryption key and prefix";d("WALogger").ERROR(h(),e);throw c("err")(e)}n(b);l(a)}function e(){return t(r())}function t(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function f(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("err")("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=o;g.getVaultPrefixAndSuffix=q;g.getVaultMaterials=r;g.initializeVaultMaterials=b;g.materialsToString=e;g.fromMaterialsToString=t;g.fromStringToMaterials=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWVault",["MAWGating.re","MAWKeychainNaClCrypto","MAWVaultMaterials","WALogger","err"],function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to vault value that's already been vaulted"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to vault value while materials were not setup"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);m=function(){return a};return a}function n(a){if(!d("MAWGating.re").isVaultingEnabled())return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();if(b==null)return!1;b=new RegExp(b+".*"+b);return b.test(a)}function o(a){if(!d("MAWGating.re").isVaultingEnabled())return a;if(n(a)){var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null){var f="Vault prefix and suffix should not be null when unvaulting";d("WALogger").ERROR(m(),f);throw c("err")(f)}f=new RegExp(b+"(.*)"+b);f=a.match(f);if(f==null||f.length!=2){var g="Could not retrieve inner value to unvault";d("WALogger").ERROR(l(),g);throw c("err")(g)}if(e==null){g="Vault encryption key was null before unvault";d("WALogger").ERROR(k(),g);throw c("err")(g)}g=f[1];f=""+b+g+b;var h=q(e,g);b=a.replace(f,function(){return h});return b}return a}function a(a){if(!d("MAWGating.re").isVaultingEnabled())return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){d("WALogger").ERROR(j());return a}if(n(a)){d("WALogger").ERROR(i());return a}var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null){var f="Cannot vault before vault materials are set";d("WALogger").ERROR(h(),f);throw c("err")(f)}f=p(e,a);return""+b+f+b}function b(a){if(!n(a))throw c("err")("Value should be vaulted");return o(a)}function p(a,b){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(b))}function q(a,b){a=d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b);b=new TextDecoder().decode(a);return b}g.isVaulted=n;g.unvault=o;g.vault=a;g.unvaultOrThrow=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("isObject",[],function(a,b,c,d,e,f){function a(a){var b=typeof a;return b==="function"||b==="object"&&!!a}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWVaultDb",["MAWGating.re","MAWQplProxy","MAWVault","err","isObject","qpl"],function(a,b,c,d,e,f,g){"use strict";var h=1/10;function i(a,b){return b[a]!=null}function a(a,b,e){if(!d("MAWGating.re").isVaultingEnabled()||!i(b,e)||a==null)return a;var f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301509,"119")):null;try{a=babelHelpers["extends"]({},a);e=e[b];j(a,e,!0);f==null?void 0:f.endSuccess();return a}catch(a){f==null?void 0:f.endFail("vault_fail");throw c("err")(a.message+" - Failed to vault an entity in the table: "+b)}}function b(a,b,e){if(!d("MAWGating.re").isVaultingEnabled()||!i(b,e)||a==null)return a;var f=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25313217,"120"));try{a=babelHelpers["extends"]({},a);e=e[b];j(a,e,!1);f.endSuccess();return a}catch(a){f.endFail("unvault_fail");throw c("err")(a.message+" - Unvaulting failed for an entity in the table: "+b)}}function j(a,b,e){if(a==null||b==null)return!1;if(!c("isObject")(a)&&!c("isObject")(b)&&a!=null&&b===!0)return!0;for(var f in a)if(a[f]!=null&&b[f]!=null&&j(a[f],b[f],e)){var g=a[f];e?a[f]=d("MAWVault").vault(g):d("MAWVault").isVaulted(g)&&(a[f]=d("MAWVault").unvault(g))}return!1}g.vaultDbRow=a;g.unvaultDbRow=b;g.maybeVaultOrUnvaultColumns=j},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWVaultDefinitions",[],function(a,b,c,d,e,f){"use strict";a={messages:{msgContent:{content:!0},quote:{content:{msgContent:{content:!0}}}},unrenderedMessages:{msgContent:!0}};f.ARMADILLO_IDB_VAULT_DEFINITIONS=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDbMiddlewareMutations",["MAWDbObjEncryption","MAWGating.re","MAWVaultDb","MAWVaultDefinitions"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(!d("MAWGating.re").isVaultingEnabled()&&!d("MAWGating.re").isEncryptionAtRestEnabled())return a;a=babelHelpers["extends"]({},a);a=d("MAWVaultDb").unvaultDbRow(a,b,d("MAWVaultDefinitions").ARMADILLO_IDB_VAULT_DEFINITIONS);a=d("MAWDbObjEncryption").encryptDbObj(a,b,c);return a}function b(a,b,c){a=babelHelpers["extends"]({},a);a=d("MAWDbObjEncryption").decryptDbObj(a,b,c);if(!d("MAWGating.re").isVaultingEnabled())return a;a=d("MAWVaultDb").vaultDbRow(a,b,d("MAWVaultDefinitions").ARMADILLO_IDB_VAULT_DEFINITIONS);return a}g.mutateValue=a;g.getValue=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDataSyncMiddlewareDeferred",["cr:3830"],function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3830")},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("dexie_alpha",["dexie-3.2.2"],function(a,b,c,d,e,f){e.exports=b("dexie-3.2.2")()},null);
__d("MAWDexieTable",["Promise","dexie_alpha","gkx"],function(a,b,c,d,e,f,g){"use strict";function h(a){return b("Promise").resolve(a)}function a(a){return a.reduce(function(a,b,c){return a.then(function(a){return b(c).then(function(b){a.push(b);return a})})},l([]))}function e(a){return c("dexie_alpha").Promise.all(a)}function f(a){return c("dexie_alpha").Promise.PSD[a]}function i(a,b){c("dexie_alpha").Promise.PSD[a]=b}function j(a){c("dexie_alpha").Promise.PSD[a]=void 0}var k=function(){function a(a,b,d){d===void 0&&(d=!0);var e=new(c("dexie_alpha"))(a,{chromeTransactionDurability:c("gkx")("6746")?"relaxed":"default"});b(e);this.name=a;this.stores=e;d&&this.open()}var b=a.prototype;b.open=function(){this.stores.open()};b.close=function(){this.stores.close()};b.transact=function(a,b,c){var d=this;return h(this.stores.transaction(a,b.map(function(a){return d.stores[a]}),function(){return c()}))};return a}();function l(a){return c("dexie_alpha").Promise.resolve(a)}function m(a){return c("dexie_alpha").waitFor(a)}g.DEXIE_MIN_KEY=d("dexie_alpha").Dexie.minKey;g.DEXIE_MAX_KEY=d("dexie_alpha").Dexie.maxKey;g.undexify=h;g.dexieSequentialAll=a;g.dexieAll=e;g.getDexiePSDItem=f;g.setDexiePSDItem=i;g.clearDexiePSDItem=j;g.DexieTable=k;g.dexieResolve=l;g.dexieExpensiveAwait=m},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWIDbSetupQpl",["MAWQplProxy","qpl"],function(a,b,c,d,e,f,g){"use strict";a=d("MAWQplProxy").startQplUserFlow(c("qpl")._(1056836116,"905"));b=a;g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDexieError",[],function(a,b,c,d,e,f){"use strict";a="ModifyError";b="BulkError";c="OpenFailedError";d="VersionChangeError";e="SchemaError";var g="UpgradeError",h="InvalidTableError",i="MissingAPIError",j="NoSuchDatabaseError",k="InvalidArgumentError",l="SubTransactionError",m="UnsupportedError",n="InternalError",o="DatabaseClosedError",p="PrematureCommitError",q="ForeignAwaitError",r="UnknownError",s="ConstraintError",t="DataError",u="TransactionInactiveError",v="ReadOnlyError",w="VersionError",x="NotFoundError",y="InvalidStateError",z="InvalidAccessError",A="AbortError",B="TimeoutError",C="QuotaExceededError",D="SyntaxError",E="DataCloneError";A={AbortError:A,BulkError:b,ConstraintError:s,DatabaseClosedError:o,DataCloneError:E,DataError:t,ForeignAwaitError:q,InternalError:n,InvalidAccessError:z,InvalidArgumentError:k,InvalidStateError:y,InvalidTableError:h,MissingAPIError:i,ModifyError:a,NoSuchDatabaseError:j,NotFoundError:x,OpenFailedError:c,PrematureCommitError:p,QuotaExceededError:C,ReadOnlyError:v,SchemaError:e,SubTransactionError:l,SyntaxError:D,TimeoutError:B,TransactionInactiveError:u,UnknownError:r,UnsupportedError:m,UpgradeError:g,VersionChangeError:d,VersionError:w};f.DEXIE_ERROR=A},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWIDbSetupQplEventListener",["MAWDexieError"],function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=new Set(Object.keys(d("MAWDexieError").DEXIE_ERROR));b.has(a.reason)&&h!=null&&h.endFail(a.reason)}b=function(b){h=b,a.addEventListener("unhandledrejection",i)};g.iDbSetupQplEventListener=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWIndexedDBDeletion",["FBLogger","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(a){if(window.indexedDB!=null&&a!=null){a=window.indexedDB.deleteDatabase(a);a.onsuccess=function(){c("FBLogger")("messenger_e2ee_web").warn("Encryption db was deleted")};a.onblocked=function(){c("recoverableViolation")("[maw ear db] Cannot delete db: blocked","messenger_e2ee_web")};a.onerror=function(){c("recoverableViolation")("[maw ear db] Cannot delete db","messenger_e2ee_web")}}}g.deleteDB=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWIndexedDbMetadata",[],function(a,b,c,d,e,f){"use strict";c="v1";d="v1";var g="messenger_web_"+c,h="messenger_web_encryption_"+d;function a(a){return g+"_"+a}function b(a){return h+"_"+a}f.DB_NAME=g;f.ENCRYPTION_DB_NAME=h;f.dbName=a;f.encryptionDbName=b},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWLocalizationType",[],function(a,b,c,d,e,f){"use strict";a="emptySnippet";b="currentUserCreatedGroup";c="participantCreatedGroup";d="unknownUserCreatedGroup";e="currentUserNamedGroup";var g="unkonwnUserNamedGroup",h="participantNamedGroup",i="currentUserAddedDevice",j="participantAddedDevice",k="currentUserRemovedDevice",l="participantRemovedDevice",m="currentUserUpdatedDevice",n="participantUpdatedDevice",o="currentUserAddedOneParticipant",p="currentUserAddedTwoParticipant",q="currentUserAddedMoreThanTwoParticipant",r="participantAddedYou",s="participantAddedYouAndOneUser",t="participantAddedYouAndMoreThanOneUsers",u="unknowUserAddedYou",v="unknowUserAddedYouAndOneUser",w="unknowUserAddedYouAndMoreThanOneUser",x="unknownUserAddedOneUser",y="unknownUserAddedTwoUser",z="unknownUserAddedMoreThanTwoUser",A="participantAddedOneUser",B="participantAddedTwoUser",C="participantAddedMoreThanTwoUser",D="currentUserRemovedOneParticipant",E="currentUserRemovedTwoParticipant",F="currentUserRemovedMoreThanTwoParticipant",G="participantRemovedYou",H="participantRemovedYouAndOneUser",I="participantRemovedYouAndMoreThanOneUsers",J="unknowUserRemovedYou",K="unknowUserRemovedYouAndOneUser",L="unknowUserRemovedYouAndMoreThanOneUser",M="unknownUserRemovedOneUser",N="unknownUserRemovedTwoUser",O="unknownUserRemovedMoreThanTwoUser",P="participantRemovedOneUser",Q="participantRemovedTwoUser",R="participantRemovedMoreThanTwoUser",S="participantLeftGroup",T="currentUserLeftGroup",U="currentUserGotPromoted",V="currentUserGotDemoted",W="participantGotPromoted",X="participantGotDemoted",Y="participantPromotedYou",Z="participantDemotedYou",$="currentUserPromotedParticipant",aa="currentUserDemotedParticipant",ba="participantDemotedParticipant",ca="participantPromotedParticipant",da="participantSelfDemoted",ea="currentUserSelfDemoted",fa="currentUserSendText",ga="currentUserSendImage",ha="currentUserSendVideo",ia="currentUserSendAudio",ja="currentUserSendGif",ka="currentUserSendSticker",la="participantSendText",ma="participantSendTextInGroup",na="participantSendImage",oa="participantSendVideo",pa="participantSendAudio",qa="participantSendGif",ra="participantSendSticker",sa="unavailableSnippet",ta="twoUsersConnected",ua="reachabilityError",va="unknownUserEphemeralSettingTurnedOnSeconds",wa="unknownUserEphemeralSettingTurnedOnMinutes",xa="unknownUserEphemeralSettingTurnedOnHours",ya="unknownUserEphemeralSettingTurnedOnDays",za="youEphemeralSettingTurnedOnSeconds",Aa="youEphemeralSettingTurnedOnMinutes",Ba="youEphemeralSettingTurnedOnHours",Ca="youEphemeralSettingTurnedOnDays",Da="participantEphemeralSettingTurnedOnSeconds",Ea="participantEphemeralSettingTurnedOnMinutes",Fa="participantEphemeralSettingTurnedOnHours",Ga="participantEphemeralSettingTurnedOnDays",Ha="unknownUserEphemeralSettingChangeSeconds",Ia="unknownUserEphemeralSettingChangeMinutes",Ja="unknownUserEphemeralSettingChangeHours",Ka="unknownUserEphemeralSettingChangeDays",La="youEphemeralSettingChangeSeconds",Ma="youEphemeralSettingChangeMinutes",Na="youEphemeralSettingChangeHours",Oa="youEphemeralSettingChangeDays",Pa="participantEphemeralSettingChangeSeconds",Qa="participantEphemeralSettingChangeMinutes",Ra="participantEphemeralSettingChangeHours",Sa="participantEphemeralSettingChangeDays",Ta="unknownUserEphemeralSettingTurnedOff",Ua="youEphemeralSettingTurnedOff",Va="participantEphemeralSettingTurnedOff",Wa="currentUserUnsentMessage",Xa="participantUnsentMessage",Ya="participantReactMessage",Za="participantReactMessageInGroup",$a="unknownUserEphemeralTakeScreenshot",ab="unknownUserEphemeralRecordScreen",bb="youEphemeralTakeScreenshot",cb="youEphemeralRecordScreen",db="participantEphemeralTakeScreenshot",eb="participantEphemeralRecordScreen",fb="icdcAlertAdminMessage",gb="yourDeviceICDCAlertAdminMessage",hb="cutoverThreadAdminMessage",ib="currentUserSendAttachment",jb="participantSendAttachment",kb="currentUserSentStory",lb="participantSentStory",mb="e2eeThreadDescription",nb={CURRENT_USER_ADDED_DEVICE:i,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:q,CURRENT_USER_ADDED_ONE_PARTICIPANT:o,CURRENT_USER_ADDED_TWO_PARTICIPANTS:p,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_DEMOTED_PARTICIPANT:aa,CURRENT_USER_GOT_DEMOTED:V,CURRENT_USER_GOT_PROMOTED:U,CURRENT_USER_LEFT_GROUP:T,CURRENT_USER_NAMED_GROUP:e,CURRENT_USER_PROMOTED_PARTICIPANT:$,CURRENT_USER_REMOVED_DEVICE:k,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:F,CURRENT_USER_REMOVED_ONE_PARTICIPANT:D,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:E,CURRENT_USER_SELF_DEMOTED:ea,CURRENT_USER_SEND_ATTACHMENT:ib,CURRENT_USER_SEND_AUDIO:ia,CURRENT_USER_SEND_GIF:ja,CURRENT_USER_SEND_IMAGE:ga,CURRENT_USER_SEND_STICKER:ka,CURRENT_USER_SEND_TEXT:fa,CURRENT_USER_SEND_VIDEO:ha,CURRENT_USER_SENT_STORY:kb,CURRENT_USER_UNSENT_MESSAGE:Wa,CURRENT_USER_UPDATED_DEVICE:m,CUTOVER_THREAD_ADMIN_MESSAGE:hb,E2EE_THREAD_DESCRIPTION:mb,EMPTY_SNIPPET:a,ICDC_ALERT_ADMIN_MESSAGE:fb,PARTICIPANT_ADDED_DEVICE:j,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:C,PARTICIPANT_ADDED_ONE_USER:A,PARTICIPANT_ADDED_TWO_USER:B,PARTICIPANT_ADDED_YOU:r,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:t,PARTICIPANT_ADDED_YOU_AND_ONE_USER:s,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_DEMOTED_PARTICIPANT:ba,PARTICIPANT_DEMOTED_YOU:Z,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:eb,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:Sa,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:Ra,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:Qa,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:Pa,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:Va,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:Ga,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Fa,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Ea,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:Da,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:db,PARTICIPANT_GOT_DEMOTED:X,PARTICIPANT_GOT_PROMOTED:W,PARTICIPANT_LEFT_GROUP:S,PARTICIPANT_NAMED_GROUP:h,PARTICIPANT_PROMOTED_PARTICIPANT:ca,PARTICIPANT_PROMOTED_YOU:Y,PARTICIPANT_REACT_MESSAGE:Ya,PARTICIPANT_REACT_MESSAGE_IN_GROUP:Za,PARTICIPANT_REMOVED_DEVICE:l,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:R,PARTICIPANT_REMOVED_ONE_USER:P,PARTICIPANT_REMOVED_TWO_USER:Q,PARTICIPANT_REMOVED_YOU:G,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:I,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:H,PARTICIPANT_SELF_DEMOTED:da,PARTICIPANT_SEND_ATTACHMENT:jb,PARTICIPANT_SEND_AUDIO:pa,PARTICIPANT_SEND_GIF:qa,PARTICIPANT_SEND_IMAGE:na,PARTICIPANT_SEND_STICKER:ra,PARTICIPANT_SEND_TEXT:la,PARTICIPANT_SEND_TEXT_IN_GROUP:ma,PARTICIPANT_SEND_VIDEO:oa,PARTICIPANT_SENT_STORY:lb,PARTICIPANT_UNSENT_MESSAGE:Xa,PARTICIPANT_UPDATED_DEVICE:n,REACHABILITY_ERROR:ua,TWO_USERS_CONNECTED:ta,UNAVAILABLE_SNIPPET:sa,UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:z,UNKNOW_USER_ADDED_ONE_USER:x,UNKNOW_USER_ADDED_TWO_USER:y,UNKNOW_USER_ADDED_YOU:u,UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:w,UNKNOW_USER_ADDED_YOU_AND_ONE_USER:v,UNKNOW_USER_REMOVED_MORE_THAN_TWO_USER:O,UNKNOW_USER_REMOVED_ONE_USER:M,UNKNOW_USER_REMOVED_TWO_USER:N,UNKNOW_USER_REMOVED_YOU:J,UNKNOW_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:L,UNKNOW_USER_REMOVED_YOU_AND_ONE_USER:K,UNKNOWN_USER_CREATED_GROUP:d,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:ab,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:Ka,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:Ja,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:Ia,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:Ha,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:Ta,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:ya,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:xa,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:wa,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:va,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:$a,UNKNOWN_USER_NAMED_GROUP:g,YOU_EPHEMERAL_RECORD_SCREEN:cb,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:Oa,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:Na,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:Ma,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:La,YOU_EPHEMERAL_SETTING_TURNED_OFF:Ua,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:Ca,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:Ba,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:Aa,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:za,YOU_EPHEMERAL_TAKE_SCREENSHOT:bb,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:gb};f.EMPTY_SNIPPET=a;f.CURRENT_USER_CREATED_GROUP=b;f.PARTICIPANT_CREATED_GROUP=c;f.UNKNOWN_USER_CREATED_GROUP=d;f.CURRENT_USER_NAMED_GROUP=e;f.UNKNOWN_USER_NAMED_GROUP=g;f.PARTICIPANT_NAMED_GROUP=h;f.CURRENT_USER_ADDED_DEVICE=i;f.PARTICIPANT_ADDED_DEVICE=j;f.CURRENT_USER_REMOVED_DEVICE=k;f.PARTICIPANT_REMOVED_DEVICE=l;f.CURRENT_USER_UPDATED_DEVICE=m;f.PARTICIPANT_UPDATED_DEVICE=n;f.CURRENT_USER_ADDED_ONE_PARTICIPANT=o;f.CURRENT_USER_ADDED_TWO_PARTICIPANTS=p;f.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS=q;f.PARTICIPANT_ADDED_YOU=r;f.PARTICIPANT_ADDED_YOU_AND_ONE_USER=s;f.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS=t;f.UNKNOW_USER_ADDED_YOU=u;f.UNKNOW_USER_ADDED_YOU_AND_ONE_USER=v;f.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER=w;f.UNKNOW_USER_ADDED_ONE_USER=x;f.UNKNOW_USER_ADDED_TWO_USER=y;f.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER=z;f.PARTICIPANT_ADDED_ONE_USER=A;f.PARTICIPANT_ADDED_TWO_USER=B;f.PARTICIPANT_ADDED_MORE_THAN_TWO_USER=C;f.CURRENT_USER_REMOVED_ONE_PARTICIPANT=D;f.CURRENT_USER_REMOVED_TWO_PARTICIPANTS=E;f.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS=F;f.PARTICIPANT_REMOVED_YOU=G;f.PARTICIPANT_REMOVED_YOU_AND_ONE_USER=H;f.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS=I;f.UNKNOW_USER_REMOVED_YOU=J;f.UNKNOW_USER_REMOVED_YOU_AND_ONE_USER=K;f.UNKNOW_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER=L;f.UNKNOW_USER_REMOVED_ONE_USER=M;f.UNKNOW_USER_REMOVED_TWO_USER=N;f.UNKNOW_USER_REMOVED_MORE_THAN_TWO_USER=O;f.PARTICIPANT_REMOVED_ONE_USER=P;f.PARTICIPANT_REMOVED_TWO_USER=Q;f.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER=R;f.PARTICIPANT_LEFT_GROUP=S;f.CURRENT_USER_LEFT_GROUP=T;f.CURRENT_USER_GOT_PROMOTED=U;f.CURRENT_USER_GOT_DEMOTED=V;f.PARTICIPANT_GOT_PROMOTED=W;f.PARTICIPANT_GOT_DEMOTED=X;f.PARTICIPANT_PROMOTED_YOU=Y;f.PARTICIPANT_DEMOTED_YOU=Z;f.CURRENT_USER_PROMOTED_PARTICIPANT=$;f.CURRENT_USER_DEMOTED_PARTICIPANT=aa;f.PARTICIPANT_DEMOTED_PARTICIPANT=ba;f.PARTICIPANT_PROMOTED_PARTICIPANT=ca;f.PARTICIPANT_SELF_DEMOTED=da;f.CURRENT_USER_SELF_DEMOTED=ea;f.CURRENT_USER_SEND_TEXT=fa;f.CURRENT_USER_SEND_IMAGE=ga;f.CURRENT_USER_SEND_VIDEO=ha;f.CURRENT_USER_SEND_AUDIO=ia;f.CURRENT_USER_SEND_GIF=ja;f.CURRENT_USER_SEND_STICKER=ka;f.PARTICIPANT_SEND_TEXT=la;f.PARTICIPANT_SEND_TEXT_IN_GROUP=ma;f.PARTICIPANT_SEND_IMAGE=na;f.PARTICIPANT_SEND_VIDEO=oa;f.PARTICIPANT_SEND_AUDIO=pa;f.PARTICIPANT_SEND_GIF=qa;f.PARTICIPANT_SEND_STICKER=ra;f.UNAVAILABLE_SNIPPET=sa;f.TWO_USERS_CONNECTED=ta;f.REACHABILITY_ERROR=ua;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=va;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES=wa;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS=xa;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS=ya;f.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS=za;f.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES=Aa;f.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS=Ba;f.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS=Ca;f.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS=Da;f.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES=Ea;f.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS=Fa;f.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS=Ga;f.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS=Ha;f.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES=Ia;f.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS=Ja;f.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS=Ka;f.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS=La;f.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES=Ma;f.YOU_EPHEMERAL_SETTING_CHANGE_HOURS=Na;f.YOU_EPHEMERAL_SETTING_CHANGE_DAYS=Oa;f.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS=Pa;f.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES=Qa;f.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS=Ra;f.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS=Sa;f.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF=Ta;f.YOU_EPHEMERAL_SETTING_TURNED_OFF=Ua;f.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF=Va;f.CURRENT_USER_UNSENT_MESSAGE=Wa;f.PARTICIPANT_UNSENT_MESSAGE=Xa;f.PARTICIPANT_REACT_MESSAGE=Ya;f.PARTICIPANT_REACT_MESSAGE_IN_GROUP=Za;f.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=$a;f.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN=ab;f.YOU_EPHEMERAL_TAKE_SCREENSHOT=bb;f.YOU_EPHEMERAL_RECORD_SCREEN=cb;f.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT=db;f.PARTICIPANT_EPHEMERAL_RECORD_SCREEN=eb;f.ICDC_ALERT_ADMIN_MESSAGE=fb;f.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE=gb;f.CUTOVER_THREAD_ADMIN_MESSAGE=hb;f.CURRENT_USER_SEND_ATTACHMENT=ib;f.PARTICIPANT_SEND_ATTACHMENT=jb;f.CURRENT_USER_SENT_STORY=kb;f.PARTICIPANT_SENT_STORY=lb;f.E2EE_THREAD_DESCRIPTION=mb;f.LOCALIZATION_TYPE=nb},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWTimeUtils.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";function a(a){if(!(a==null))if(a>2147483647)return a;else return a*1e3}c=2147483647;d=[2328,1316134911];e=b("bs_caml_int64").zero;f.maxUnixTime=c;f.maxTimestampMs=d;f.minTimestampMs=e;f.getMillisTime=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWTimeUtils.re",["MAWTimeUtils.bs"],function(a,b,c,d,e,f){a=b("MAWTimeUtils.bs").maxTimestampMs;f.maxTimestampMs=a;c=b("MAWTimeUtils.bs").minTimestampMs;f.minTimestampMs=c;d=b("MAWTimeUtils.bs").getMillisTime;f.getMillisTime=d},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAOdsEnums",["$InternalEnum"],function(a,b,c,d,e,f){a=b("$InternalEnum")({MSG_ENCRYPTION:"armadillo_message_encryption",MSG_DECRYPTION:"armadillo_message_decryption",GET_DEVICES:"armadillo_get_devices",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING"});f.Entity=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAStanzaUtils",[],function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWIndexedDb",["CurrentUserInitialData","MAWBridge","MAWDataSyncMiddlewareDeferred","MAWDbMsg","MAWDbMutationMiddleware","MAWDbThread","MAWDexieTable","MAWFolderTypes","MAWGating.re","MAWIDbSetupQpl","MAWIDbSetupQplEventListener","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWLocalizationType","MAWTimeUtils.re","MAWTransactor","MAWWaitForBackendSetup","Promise","SignalDbTypes","WAJids","WALogger","WAMsgType","WAOdsEnums","WAStanzaUtils","WATimeUtils","dexie_alpha","err","promiseDone","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[afterTransaction] afterTransactionForThreadEvent called outside of dexie transaction"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[afterTransaction] called outside of dexie transaction"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["IndexDB should've been initialized"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[DB] version is not set in QE"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[DB] version: ",""]);l=function(){return a};return a}var m=null,n=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys"],o={appData:"++appDataId,&externalId",appMeta:"key",browserEncryptionMeta:"++id, &version",chunk:"++chunkId, &hashedPlaintextHash",contacts:"contactJid",existingUsers:"id",ftsBackloggedMessages:"rowId",ftsEncryptionMeta:"key",ftsIndexV3:"++ftsRowId,id,chatId,*prefixes",groupInfo:"groupJid,threadId",identity:"deviceJid",jobs:"++jobId,&uniqKey",media:"++mediaId, &hashedPlaintextHash, *msgIds",messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId",meta:"key",participants:"id,threadId,userJid",pendingReceipts:"id",pendingStanzas:"++rowId,externalIdWithType",personalSenderKeyStatuses:"groupJid",prekey:"keyId",prekeyGeneration:"generationId",reactions:"++rowId,reactionId,externalId,reactToMsgId,threadJid,reactToExternalId",receipts:"msgId",senderKeySessions:"id,groupJid,userJid",session:"id",signedPrekey:"keyId",tasks:"taskName",threads:"++chatId,&jid,threadOrder",unrenderedMessages:"++rowId,externalId,thread,msgId"},p={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId,unsendMsgContentDeleteTs"},q={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId,unsendMsgContentDeleteTs,revokedExternalId"},r={isDualSend:"++rowId"},s={historySyncQRCodeSecretKey:"key"},t={unrenderedMessages:"++rowId,externalId,thread,msgId,messageDeleteForMeTs"},u={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId,unsendMsgContentDeleteTs,revokedExternalId,threadJid",unrenderedMessages:"++rowId,externalId,thread,msgId,messageDeleteForMeTs,threadJid"},v={groupInvites:"invitedParticipantId, inviterJid"},w={pendingStanzas:"++rowId,externalIdWithType, deleteTs"},x={media:"++mediaId, &hashedPlaintextHash, *msgIds, &objectId, &fbid"},y={dualSendMedia:"++id"},z={xma:"++xmaId, associatedMessageId, faviconMediaId, headerMediaId, targetExpiringAtSec, defaultPreviewMediaId"},A={historySyncQRCodeData:"rowId"},B={xma:"++xmaId, externalId, associatedMessageId, faviconMediaId, headerMediaId, targetExpiringAtSec, defaultPreviewMediaId"},C={dyiBatch:"++batchId"},D={groupInfo:"groupJid,threadId,correspondingOpenThreadKey"},E=null,F={groupInvites:E},G={groupInvites:"[invitedParticipantId+inviterJid], inviterJid"},H={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId,unsendMsgContentDeleteTs,revokedExternalId,threadJid,[thread+sortOrderMs]",unrenderedMessages:"++rowId,externalId,thread,msgId,messageDeleteForMeTs,threadJid,[thread+sortOrderMs]"},I={syncActions:"index,collection,actionState,indexMac,action,[modelId+modelType+actionState]"},J={missingKeys:"keyHex"},K={pendingMutations:"++id,action,index,collection"},L={collectionVersions:"++id,&collection"},M={syncKeys:"++id,&keyId,keyEpoch"},N={identity:"deviceJid,userJid"};E=babelHelpers["extends"]({},o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,F,G,H,I,J,K,L,M);var O=null;function P(){var a=d("MAWGating.re").getArmadilloDbVersion();d("WALogger").DEV(l(),a);a==null&&d("WALogger").WARN(k());return function(b,d){if(a!=null&&a<d)return;O=O!=null&&O<d?O:d;c("MAWIDbSetupQpl").addPoint("database_version_upgraded ",{"int":{dbVersion:O}});return b.version(d)}}var Q=null;function a(a,e){var f=P();m==null&&(d("MAWIDbSetupQplEventListener").iDbSetupQplEventListener(c("MAWIDbSetupQpl")),Q=d("MAWIndexedDbMetadata").dbName(a),m=new(d("MAWDexieTable").DexieTable)(Q,function(a){var g;c("MAWDataSyncMiddlewareDeferred")!=null&&a.use(c("MAWDataSyncMiddlewareDeferred").getDataSyncMiddleware());a.use(d("MAWDbMutationMiddleware").getMAWDbMutationMiddleware(e));a.version(21).stores(o);a.version(22).stores(p);a.version(23).stores(q);a.version(24).stores(r);a.version(25).stores(s);a.version(26).upgrade(function(a){var b=function(a){var b;b=(b=a.quote)==null?void 0:b.content;return a.quoteExternalId!=null&&(b==null?void 0:b.media)!=null};return a.messages.where("quoteExternalId").between(d("WAStanzaUtils").toStanzaId("0"),d("WAStanzaUtils").toStanzaId("["),!0,!0).filter(b).toArray()["catch"](function(){return a.messages.filter(b).toArray()}).then(function(b){var c=new Set(b.map(function(a){a=(a=a.quote)==null?void 0:a.content;return a==null?void 0:(a=a.media)==null?void 0:a.plaintextHash}).filter(Boolean)),d=b.map(function(a){a=a.msgId;return a});return a.media.filter(function(a){a=a.plaintextHash;return c.has(a)}).toArray().then(function(b){var c=new Map(b.map(function(a){var b=a.mediaId;a=a.plaintextHash;return[a,b]}));return a.messages.where("msgId").anyOf(d).modify(function(a){var b;b=(b=a.quote)==null?void 0:b.content;a.quote.content.mediaId=c.get(b.media.plaintextHash);delete a.quote.content.media})})})});a.version(27).upgrade(function(a){return a.groupInfo.toCollection().modify(function(a){typeof a.inviter==="number"&&delete a.inviter})});a.version(28).upgrade(function(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.deviceId).then(function(b){var c;if((b==null?void 0:(c=b.value)==null?void 0:c.deviceId)!=null&&typeof b.value.deviceId!=="number")return a.meta.clear()})});a.version(29).upgrade(function(a){return a.threads.filter(function(a){return d("WAJids").switchOnMsgrChatJidType(a.jid,{group:function(){return!1},user:function(){return a.oldestMsg!=null}})}).toArray().then(function(b){var c=[];b.forEach(function(a){c.push(a.oldestMsg),c.push(a.newestMsg)});return a.messages.where("msgId").anyOf(c.filter(Boolean)).toArray().then(function(c){var e=new Map(),f=[],g=[];c.forEach(function(a){e.set(a.msgId,a)});b.forEach(function(b){var c=e.get(b.oldestMsg),h=e.get(b.newestMsg);(c==null?void 0:c.type)==="Admin"&&(h==null?void 0:h.type)==="Admin"&&(c.msgId===h.msgId?g.push(b.chatId):f.push(b));return d("MAWDexieTable").dexieAll(f.map(function(b){return a.messages.where("thread").equals(b.chatId).toArray()})).then(function(b){b.forEach(function(a){if(a.length===0)return;var b=a[0].thread;a=a.filter(function(a){return a.type!=="Admin"});if(a.length>0)return;g.push(b)});return d("MAWDexieTable").dexieAll([a.threads.bulkDelete(g),a.messages.where("thread").anyOf(g)["delete"]()])})})})})});a.version(30).stores(t).upgrade(function(a){return a.unrenderedMessages.toCollection().modify(function(a){if(a.type===d("WAMsgType").MSG_TYPE.DELETE_FOR_ME){var b=a.messageDeleteForMeTs;a.messageDeleteForMeTs=b}})});a.version(31).stores(u).upgrade(function(a){var b=0,e=0,f=c("dexie_alpha").currentTransaction;if(f==null)throw c("unrecoverableViolation")("transaction does not exist","messenger_e2ee_web");f.on("complete",function(){c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup("DB upgrade to V31").then(function(){b>0&&d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:b,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING_THREAD_JID,key:"fail"}),e>0&&d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:e,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING,key:"fail"})}))});f.on("complete",function(){b>0&&d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:b,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING_THREAD_JID,key:"fail"}),e>0&&d("MAWBridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:e,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING,key:"fail"})});return a.threads.toArray().then(function(c){var f=c.reduce(function(a,b){b!=null&&a.set(b.chatId,b);return a},new Map());return d("MAWDexieTable").dexieAll([a.messages.toCollection().modify(function(a){if(a!=null){var c=f.get(a.thread);c!=null?a.threadJid=c.jid:(a.threadJid=null,b+=1)}else e+=1}),a.unrenderedMessages.toCollection().modify(function(a){if(a!=null){var c=f.get(a.thread);c!=null?a.threadJid=c.jid:(a.threadJid=null,b+=1)}else e+=1})])})});a.version(32).stores(v);a.version(33).stores(w);a.version(34).stores(x);a.version(35).stores(y);a.version(36).stores(z);a.version(37).stores(A);(g=f(a,38))==null?void 0:g.stores(B);(g=f(a,39))==null?void 0:g.stores(C);(g=f(a,40))==null?void 0:g.stores(D);(g=f(a,41))==null?void 0:g.stores(F);(g=f(a,42))==null?void 0:g.stores(G);(g=f(a,43))==null?void 0:g.upgrade(function(a){return a.isDualSend.toCollection().modify(function(a){a.version==null&&(a.version=1)})});(g=f(a,44))==null?void 0:g.upgrade(function(a){return a.messages.toCollection().modify(function(a){a.type===d("WAMsgType").MSG_TYPE.ADMIN&&a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION&&(a.altIndex=d("MAWDbMsg").craftE2eeAdminMsgAltIndex(a.thread))})});(g=f(a,45))==null?void 0:g.stores(H).upgrade(function(a){return a.messages.toCollection().modify(function(a){a.sortOrderMs=d("MAWDbMsg").getSortOrderWithFallback(a)})});(g=f(a,46))==null?void 0:g.upgrade(function(a){return a.threads.toCollection().modify(function(a){a.folder==null&&(a.folder=d("MAWFolderTypes").FOLDER_ID.INBOX)})});(g=f(a,47))==null?void 0:g.upgrade(function(a){return a.messages.toCollection().modify(function(a){a.sortOrderMs=d("MAWDbMsg").getSortOrderWithFallback(a)})});(g=f(a,48))==null?void 0:g.stores(I);(g=f(a,49))==null?void 0:g.stores(J);(g=f(a,50))==null?void 0:g.stores(K);(g=f(a,51))==null?void 0:g.stores(L);(g=f(a,52))==null?void 0:g.stores(M);(g=f(a,53))==null?void 0:g.upgrade(function(a){return a.personalSenderKeyStatuses.toCollection().modify(function(a){a.rotateSenderKey=!0,a.hasSenderKey=new Set()})});(g=f(a,54))==null?void 0:g.upgrade(function(a){return a.messages.toCollection().modify(function(a){a.type===d("WAMsgType").MSG_TYPE.ADMIN&&a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE&&a.sortOrderMs!=null&&a.sortOrderMs>0&&(a.sortOrderMs=0)})});(g=f(a,55))==null?void 0:g.upgrade(function(a){return a.messages.toCollection().modify(function(a){!(a.type===d("WAMsgType").MSG_TYPE.ADMIN&&(a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION))&&a.sortOrderMs!=null&&a.sortOrderMs<1661204086&&(a.sortOrderMs=d("MAWDbMsg").getCanonicalTsFromMsg(a)*1e3)})});(g=f(a,56))==null?void 0:g.upgrade(function(a){return a.threads.filter(function(a){return a.isMigratedLocally===!0&&a.newestMsg!=null}).toArray().then(function(b){var c=b.map(function(a){return a.chatId}),e=new Map();return d("MAWDexieTable").dexieAll(b.map(function(b){return a.messages.where(["thread","sortOrderMs"]).between([b.chatId,0],[b.chatId,Number.MAX_VALUE]).last().then(function(a){a!=null&&e.set(a.thread,a.msgId)})})).then(function(){return a.threads.where("chatId").anyOf(c).modify(function(a){var b=e.get(a.chatId);b!=null&&(a.newestMsg=b)})})})});(g=f(a,57))==null?void 0:g.stores(N).upgrade(function(a){return a.identity.toCollection().modify(function(a){a.userJid=d("WAJids").extractUserJid(a.deviceJid)})});(g=f(a,58))==null?void 0:g.upgrade(function(a){return a.threads.toCollection().modify(function(a){a.lastReadMsgTs!=null&&a.lastReadMsgTs<d("WATimeUtils").MAX_INT&&(a.lastReadMsgTs=d("MAWTimeUtils.re").getMillisTime(a.lastReadMsgTs));if(a.newestMsgTs!=null&&a.newestMsgTs<d("WATimeUtils").MAX_INT){var b=d("MAWTimeUtils.re").getMillisTime(a.newestMsgTs);a.newestMsgTs=b;b!=null&&(a.threadOrder=d("MAWDbThread").craftThreadOrder(b,a.jid))}})});a.on("ready",function(e){if(e==null){d("WALogger").ERROR(["DB is null"]);return}return b("Promise").all(c("CurrentUserInitialData").IS_EMPLOYEE?e.tables.map(function(b){return a[b.name].count().then(function(a){return[b.name,a]})}):[]).then(function(a){a=a.reduce(function(a,b){var c=b[0];b=b[1];return babelHelpers["extends"]({},a,(a={},a[c+"_rows"]=b,a))},{});c("MAWIDbSetupQpl").endSuccess({"int":babelHelpers["extends"]({},a)})})});a.on("versionchange",function(){var a=O!=null?O-1:0;c("MAWIDbSetupQpl").addPoint("database_version_upgraded ",{"int":{prev_db_version:a}});window.location.reload()})}))}function e(){if(m==null){d("WALogger").ERROR(j());throw c("err")("IndexDB should've been initialized")}return m}function f(a){m=a}var R=new WeakMap();function S(a){var b,e=c("dexie_alpha").currentTransaction;if(e==null){d("WALogger").ERROR(i());throw c("unrecoverableViolation")("afterTransaction called outside of dexie transaction","messenger_e2ee_web")}if(typeof a.value==="object"&&(a==null?void 0:(b=a.value)==null?void 0:b.isDualSend)===!0)return;b=R.get(e);if(b!=null)b.push(a);else{var f=[a];R.set(e,f);e.on("complete",function(){R["delete"](e),d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:f})})}}function T(a,b){var e=c("dexie_alpha").currentTransaction;if(e==null){d("WALogger").ERROR(h());throw c("unrecoverableViolation")("afterTransactionForThreadEvent called outside of dexie transaction","messenger_e2ee_web")}e.on("complete",function(){d("MAWBridge").getBridge().fireAndForget("threadEvent",b,a)})}function U(){m!=null&&(m.close(),m=null),d("MAWIndexedDBDeletion").deleteDB(Q)}g.makeMsgrTransactor=d("MAWTransactor").makeMsgrTransactor;g.TABLES_TO_ENCRYPT=n;g.CURRENT_MAW_STORES=E;g.makeDB=a;g.getDB=e;g.setDB_INTERNAL_USE_ONLY=f;g.afterTransaction=S;g.afterTransactionThreadEvent=T;g.deleteDb=U},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWDexieCastToPromise",["Promise"],function(a,b,c,d,e,f){"use strict";function a(a){return b("Promise").resolve(a)}function c(a){return a}f.dexieCastToPromise=a;f.promiseCastToDexiePromise=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAPromiseQueue",["Promise"],function(a,b,c,d,e,f){a=function(){function a(a){a===void 0&&(a=-1),this.$1=b("Promise").resolve(),this.$2=a}var c=a.prototype;c.wait=function(){return this.$1};c.enqueueHandlers=function(a,b,c){b=this.$1.then(function(){return a}).then(b,c);c=b.then();this.$1=g(b,this.$2);return c};c.enqueue=function(a){a=this.$1.then(a);var b=a.then();this.$1=g(a,this.$2);return b};return a}();c=function(){function a(a){a===void 0&&(a=-1),this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitIfPending=function(a){return this.$1.get(a)};c.wait=function(a){return this.$1.get(a)||b("Promise").resolve()};c.enqueueHandlers=function(a,b,c,d){c=this.wait(a).then(function(){return b}).then(c,d);return this.$3(a,c)};c.enqueue=function(a,b){b=this.wait(a).then(b);return this.$3(a,b)};c.$3=function(a,b){var c=this,d=b.then(),e,f=function(){c.$1.get(a)===e&&c.$1["delete"](a)};e=g(b,this.$2).then(f,f);this.$1.set(a,e);return d};return a}();function g(a,c){if(c>=0)return new(b("Promise"))(function(b){var d=function(){return void b()};a.then(d,d);setTimeout(d,c)});else return a.then(h,h)}function h(){}f.PromiseQueue=a;f.PromiseQueueMap=c},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWTransactor",["MAWDexieCastToPromise","MAWDexieTable","MAWErrorObject","MAWIndexedDb","MAWQplProxy","MAWTransactionMode","Promise","WALogger","WAPromiseQueue","dexie_alpha","unrecoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] Uncaught exception un runInBulkTransactor: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] Running in bulk transaction"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] Several transactions are trying to be executed at the same time: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] runInBulkTransaction cannot be called within another transaction"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] Finished bulk transaction"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] Error completing bulk operation ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] Bulking "," db operations together"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MWPTransactor] BulkTransactor cannot be called without a transaction id"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["makeMsgrTransactor cannot be called within another transaction"]);p=function(){return a};return a}var q=1,r=new(d("WAPromiseQueue").PromiseQueue)(),s=new Map(),t=function(){};function u(a,b,e){b==null?void 0:b.addPoint("transaction_opened");d("MAWDexieTable").setDexiePSDItem("transactorQPLEvent",b);for(var f=arguments.length,g=new Array(f>3?f-3:0),h=3;h<f;h++)g[h-3]=arguments[h];return e.apply(void 0,[a].concat(g)).then(function(a){b==null?void 0:b.endSuccess();return a})["catch"](function(a){b==null?void 0:b.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);d("WALogger").ERROR(["Error performing transaction"],a);throw c("unrecoverableViolation")("Error performing transaction","messenger_e2ee_web",a?{error:a}:{})})}function v(a,b,e,f){e!=null&&c("dexie_alpha").currentTransaction!=null&&e.endFail("invoked_in_nested_transaction");if(c("dexie_alpha").currentTransaction!=null){d("WALogger").ERROR(p());throw c("unrecoverableViolation")("makeMsgrTransactor cannot be called within another transaction","messenger_e2ee_web")}e=d("MAWIndexedDb").getDB();return e.transact(a,b,f)}function w(a,e,f,g){f=d("MAWDexieTable").getDexiePSDItem("transactionId");if(f==null){d("WALogger").ERROR(o());throw c("unrecoverableViolation")("BulkTransactor cannot be called without a transaction id","messenger_e2ee_web")}var h=s.get(f)||[],i=t,j=t,k=new(b("Promise"))(function(a,b){i=a,j=b});h.push({fn:g,mode:a,promise:k,reject:j,resolve:i,stores:e});s.set(f,h);return k}function x(a,b,c,e){var f=d("MAWDexieTable").getDexiePSDItem("transactor");return f==="bulk"?w(a,b,c,e):v(a,b,c,e)}function y(a){var b=[].concat(s.get(a)||[]);s["delete"](a);if(b.length===0)return d("MAWDexieTable").dexieResolve();d("WALogger").LOG(n(),b.length);a=b.some(function(a){a=a.mode;return a===d("MAWTransactionMode").READWRITE})?d("MAWTransactionMode").READWRITE:d("MAWTransactionMode").READONLY;var c=Array.from(new Set(b.flatMap(function(a){a=a.stores;return a}))),e=d("MAWIndexedDb").getDB();return d("MAWDexieCastToPromise").promiseCastToDexiePromise(e.transact(a,c,function(){return b.reduce(function(a,b){var c=b.fn,e=b.reject;b=b.resolve;return a.then(function(){return c()}).then(b)["catch"](function(a){d("WALogger").ERROR(m(),a),e(a)})},d("MAWDexieTable").dexieResolve())}).then(function(){d("MAWDexieTable").clearDexiePSDItem("transactionId"),d("WALogger").LOG(l())}))}function a(a){return r.enqueue(function(){if(c("dexie_alpha").currentTransaction!=null){d("WALogger").ERROR(k());throw c("unrecoverableViolation")("runInBulkTransaction cannot be called within another transaction","messenger_e2ee_web")}if(d("MAWDexieTable").getDexiePSDItem("transactionId")!=null){d("WALogger").ERROR(j(),d("MAWDexieTable").getDexiePSDItem("transactionId"));throw c("unrecoverableViolation")("runInBulkTransaction cannot schedule several transactions simultaneously","messenger_e2ee_web")}d("WALogger").LOG(i());return d("MAWDexieCastToPromise").dexieCastToPromise(d("MAWDexieTable").dexieResolve().then(function(){var b=q++;d("MAWDexieTable").setDexiePSDItem("transactor","bulk");d("MAWDexieTable").setDexiePSDItem("transactionId",b);var c=a();d("MAWDexieTable").clearDexiePSDItem("transactor");return y(b).then(function(){return d("MAWDexieCastToPromise").promiseCastToDexiePromise(c)})["finally"](function(){d("MAWDexieTable").clearDexiePSDItem("transactionId")})}))})["catch"](function(a){d("WALogger").ERROR(h(),a);throw c("unrecoverableViolation")("Uncaught exception un runInBulkTransactor:","messenger_e2ee_web",a instanceof Error?{error:a}:{error:void 0})})}function e(a,b,c){var e=Object.keys(a),f=e.some(function(b){return a[b]===d("MAWTransactionMode").READWRITE})?d("MAWTransactionMode").READWRITE:d("MAWTransactionMode").READONLY;return function(a){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=b!=null?d("MAWQplProxy").startQplUserFlow(b,c!=null?c:void 0):null,k=d("MAWIndexedDb").getDB();return x(f,e,j,function(){return u.apply(void 0,[k.stores,j,a].concat(h))})}}}g.runInBulkTransaction=a;g.makeMsgrTransactor=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAExternalIdFromRandomHex",["WAHex","WAStanzaUtils"],function(a,b,c,d,e,f,g){function a(a){a=new Uint8Array(d("WAHex").parseHex(a));var b=new Uint8Array(a.length+1),c=0;for(var e=0;e<a.length;e++)c^=a[e],b[e]=a[e];b[a.length]=c;return d("WAStanzaUtils").toStanzaId(d("WAHex").toHex(b))}g.externalIdFromRandomHex=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWExternalId",["MAWGating.re","Random","WAExternalIdFromRandomHex","WAHex","WAStanzaUtils","bs_caml_int64"],function(a,b,c,d,e,f,g){"use strict";var h=4194303;function i(a){return Math.floor(c("Random").random()*a)}function a(){return!d("MAWGating.re").isMobileExternalIdFormatEnabled()?d("WAExternalIdFromRandomHex").externalIdFromRandomHex(d("WAHex").randomHex(7)):d("WAStanzaUtils").toStanzaId(d("bs_caml_int64").to_string(d("bs_caml_int64").and_(d("bs_caml_int64").or_(d("bs_caml_int64").lsl_(d("bs_caml_int64").of_float(Date.now()),22),d("bs_caml_int64").and_(d("bs_caml_int64").of_float(i(h)),d("bs_caml_int64").of_float(h))),d("bs_caml_int64").max_int)))}g.generateExternalId=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAErr",[],function(a,b,c,d,e,f){"use strict";function a(a){a=new Error(a);if(a.stack===void 0)try{throw a}catch(a){}return a}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WABaseGlobals",["WAErr"],function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a}function i(){if(h==null)throw c("WAErr")("Trying to access WAGlobals before being set");return h}function b(a){var b=i();b.myJids=a}function d(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function j(){return i().jidUtils}function k(){return i().config}function l(){return i().qpl}function m(a,b){return i().runInTransaction(a,b)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=d;g.getMyUserJid=e;g.getDbImpls=f;g.getJidUtilsApi=j;g.getConfig=k;g.getQplConfig=l;g.runInTransaction=m},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAGlobals",["WABaseGlobals","WAErr","WAJids"],function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a,d("WABaseGlobals").setGlobals(a)}function i(){if(h==null)throw c("WAErr")("WaMsgr api called before set");return h}function b(a,b){var d=i();if(d.myJids!=null)throw c("WAErr")("Trying to set UserJid and DeviceJid but they are already set");d.myJids={userJid:a,deviceJid:b}}function j(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function k(){return i().jobResultConverter}function l(){return i().persistedJobs.api}function m(){return i().persistedJobs.manager}function n(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(j())}function o(){return i().jidUtils}function p(){if(i().config.useCryptoManagerV2())return i().crypto.inMemoryManager;else return i().crypto.manager}function q(){return i().crypto.inMemoryManager}function r(){return i().crypto.storage}function s(){return i().config}function t(){return i().dependencies}function u(){return i().serverRPC}function v(a,b,c){return i().runInTransaction(a,b,c)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=j;g.getMyUserJid=e;g.getDbImpls=f;g.getJobResultConvertersImpls=k;g.getPersistedJobsApi=l;g.getJobManager=m;g.isPeerDevice=n;g.getJidUtilsApi=o;g.getCryptoManager=p;g.getInMemoryCryptoManager=q;g.getInMemorySignal=r;g.getConfig=s;g.getDependencies=t;g.getServerRPC=u;g.runInTransaction=v},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAJobDefinitions",["WAGlobals"],function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return;return{priority:a.priority,maxTimeoutMs:a.maxTimeoutMs,jobId:a.jobId}}var i="msgr";a=function(a){var b=a.generateExternalId;return{deleteThread:function(a,b){b=h(b);return{type:"deleteThread",args:{chatId:a},scheduleConfig:(a=b)!=null?a:void 0}},generateAndUploadPreKeys:function(a){a=h(a);return{type:"generateAndUploadPreKeys",args:{},uniqKey:"generateAndUploadPreKeys",scheduleConfig:(a=a)!=null?a:void 0}},getDevices:function(a,b,c,d){c===void 0&&(c=!1);d=h(d);return{type:"getDevices",args:{users:a,ignoreDhash:c,reason:b},scheduleConfig:(a=d)!=null?a:void 0}},getCurrentUserDeviceList:function(a){a=h(a);return{type:"getCurrentUserDeviceList",args:void 0,scheduleConfig:(a=a)!=null?a:void 0}},removeDevice:function(a,b,c){c=h(c);return{type:"removeDevice",args:{deviceId:a,identity:b},scheduleConfig:(a=c)!=null?a:void 0}},notifyDeviceChange:function(a,b){b=h(b);return{type:"notifyDeviceChange",args:{users:a},uniqKey:"notifyDeviceChange",scheduleConfig:(a=b)!=null?a:void 0}},markThreadAsRead:function(a,b,c){c=h(c);return{type:"markThreadAsRead",args:{chatJid:a,upTo:b},uniqKey:b==null?void 0:b.externalId,scheduleConfig:(a=c)!=null?a:void 0}},requestPreKeyDigest:function(a){a=h(a);return{type:"requestPreKeyDigest",args:{},scheduleConfig:(a=a)!=null?a:void 0}},rotateSignedPreKey:function(a){a=h(a);return{type:"rotateSignedPreKey",args:{},uniqKey:"rotateSignedPreKey",scheduleConfig:(a=a)!=null?a:void 0}},sendPushNotificationSetup:function(a,b,c,d){d=h(d);return{type:"sendPushNotificationSetup",args:{appId:a,deviceId:b,platform:c},uniqKey:"sendPushNotificationSetup",scheduleConfig:(a=d)!=null?a:void 0}},sendXMAShareMsg:function(a,c,d,e,f,g,i,j,k,l){l=h(l);return{type:"sendXMAShareMsg",args:{chatJid:a,previewFile:c,headerFile:d,faviconFile:e,associatedMsgContent:f,args:g,xmaMsgExternalId:(a=i)!=null?a:b(),associatedMsgContentExternalId:(c=j)!=null?c:b(),xmaArgs:k},scheduleConfig:(d=l)!=null?d:void 0}},sendMediaMsg:function(a,c,d,e,f,g,i,j,k,l,m,n,o,p,q,r){r=h(r);return{type:"sendMediaMsg",args:{chatJid:a,file:c,args:{openMessageOtid:n,height:f,width:e,jpegThumbnail:d,jpegThumbnailHeight:i,jpegThumbnailWidth:g,duration:j,isPtt:k,ephemeralSetting:l,quote:m,isForwarded:o,isFirstMsg:p},externalId:(a=q)!=null?a:b()},scheduleConfig:(c=r)!=null?c:void 0}},sendMsg:function(a,c,d,e){e=h(e);return{type:"sendMsg",args:{chatJid:a,args:c,externalId:(a=d)!=null?a:b()},scheduleConfig:(c=e)!=null?c:void 0}},sendReactionMsg:function(a,c,d,e,f,g){g=h(g);return{type:"sendReactionMsg",args:{chatJid:a,args:{reactToProtocolMsgId:c,reactToAuthor:d,reaction:e,groupingKey:""},externalId:(a=f)!=null?a:b()},scheduleConfig:(c=g)!=null?c:void 0}},forwardMsg:function(a,c,d,e,f,g){g=h(g);return{type:"forwardMsg",args:{chatJid:a,protocolMsgId:c,ephemeralSetting:d,externalId:(a=e)!=null?a:b(),isFirstMsg:f},scheduleConfig:(c=g)!=null?c:void 0}},sendWrittenMsg:function(a,b,c){b===void 0&&(b="message");c=h(c);return{type:"sendWrittenMsg",args:{protocolMsgId:a,type:b},scheduleConfig:(a=c)!=null?a:void 0}},handleFutureproofMsg:function(a){a=h(a);return{type:"handleFutureproofMsg",args:{},scheduleConfig:(a=a)!=null?a:void 0}},createGroup:function(a,b,c,d,e){e=h(e);return{type:"createGroup",args:{key:c,subject:a,users:b,extras:c!=null?{platform:i,clientThreadKey:c,isDualSend:d}:{platform:i,isDualSend:d}},uniqKey:(a=c)!=null?a:void 0,scheduleConfig:(b=e)!=null?b:void 0}},queryGroups:function(a,b){var c;b=h(b);a==null?c={type:"all"}:c={type:"single",group:a};return{type:"queryGroups",args:c,scheduleConfig:(a=b)!=null?a:void 0}},leaveGroups:function(a,b){b=h(b);return{type:"leaveGroups",args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0}},addGroupParticipants:function(a,b,c){c=h(c);return{type:"addGroupParticipants",args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0}},removeGroupParticipants:function(a,b,c){c=h(c);return{type:"removeGroupParticipants",args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0}},deleteGroups:function(a,b){b=h(b);return{type:"deleteGroups",args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0}},downloadAndHandleMedia:function(a,b,c,d){d=h(d);return{type:"downloadAndHandleMedia",args:{protocolMsgId:a,hash:b,qplEntryPoint:c},scheduleConfig:(a=d)!=null?a:void 0}},requestReuploadMedia:function(a,b,c){c=h(c);return{type:"requestReuploadMedia",args:{protocolMsgId:a,hash:b},scheduleConfig:(a=c)!=null?a:void 0}},reuploadMedia:function(a,b,c,d,e,f){f=h(f);return{type:"reuploadMedia",args:{externalId:a,encProto:d,encIv:e,receiver:b,chatJid:c},scheduleConfig:(a=f)!=null?a:void 0}},syncAbProps:function(a,b){b=h(b);return{type:"syncAbProps",args:{sendHash:a},scheduleConfig:(a=b)!=null?a:void 0}},promoteGroupParticipants:function(a,b,c){c=h(c);return{type:"promoteGroupParticipants",args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0}},demoteGroupParticipants:function(a,b,c){c=h(c);return{type:"demoteGroupParticipants",args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0}},setGroupSubject:function(a,b,c){c=h(c);return{type:"setGroupSubject",args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0}},revokeMsgs:function(a,b){b=h(b);return{type:"revokeMsgs",args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0}},deleteMsgsForMe:function(a,b){b=h(b);return{type:"deleteMsgsForMe",args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0}},sendAppData:function(a,c,d){d=h(d);return{type:"sendAppData",args:{args:a,externalId:(a=c)!=null?a:b()},scheduleConfig:(c=d)!=null?c:void 0}},sendWrittenAppData:function(a,b){b=h(b);return{type:"sendWrittenAppData",args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0}},resendWrittenAppData:function(a,b){b=h(b);return{type:"resendWrittenAppData",args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0}},getSpams:function(a){a=h(a);return{type:"getSpams",args:void 0,scheduleConfig:(a=a)!=null?a:void 0}},computeAndUploadICDCInfo:function(a){a=h(a);return{type:"computeAndUploadICDCInfo",args:void 0,scheduleConfig:(a=a)!=null?a:void 0}},handleSpamMsg:function(a){a=h(a);return{type:"handleSpamMsg",args:void 0,scheduleConfig:(a=a)!=null?a:void 0}},uploadRetroactiveThreadsAndMessages:function(a){a=h(a);return{type:"uploadRetroactiveThreadsAndMessages",args:void 0,scheduleConfig:(a=a)!=null?a:void 0}},restoreMessagesFromEncryptedBackups:function(a,b,c,d,e,f,g,i,j,k){k=h(k);return{type:"restoreMessagesFromEncryptedBackups",args:{transportKey:a,threadId:b,messages:c,hasMoreBefore:d,hasMoreAfter:e,isPointQuery:f,minMsgId:g,traceId:i,startSortKey:j},scheduleConfig:(a=k)!=null?a:void 0}},restoreThreadsFromEncryptedBackups:function(a,b,c){c=h(c);return{type:"restoreThreadsFromEncryptedBackups",args:{transportKey:a,threads:b},scheduleConfig:(a=c)!=null?a:void 0}},sendEphemeralSettingMsg:function(a,c,d,e){e=h(e);return{type:"sendEphemeralSettingMsg",args:{chatJid:a,args:c,externalId:(a=d)!=null?a:b()},scheduleConfig:(c=e)!=null?c:void 0}},updateBackupEntFbidForMedia:function(a,b,c,d){d=h(d);return{type:"updateBackupEntFbidForMedia",args:{deliveryObjectId:a,backupEntFbid:b,traceId:c},scheduleConfig:(a=d)!=null?a:void 0}},backupMessageWithMedia:function(a,b,c,d){d=h(d);return{type:"backupMessageWithMedia",args:{deliveryObjectId:a,backupEntFbid:b,traceId:c},scheduleConfig:(a=d)!=null?a:void 0}},downloadAndRestoreMedia:function(a,b,c,d){d=h(d);return{type:"downloadAndRestoreMedia",args:{deliveryObjectId:a,restorationCdnUrl:b,traceId:c},scheduleConfig:(a=d)!=null?a:void 0}},sendGroupInviteMsg:function(a,c,d){d=h(d);return{type:"sendGroupInviteMsg",args:{args:a,externalId:(a=c)!=null?a:b()},scheduleConfig:(c=d)!=null?c:void 0}},uploadMessagesBackup:function(a,b,c,d){return{type:"uploadMessagesBackup",args:{messageIds:a,threadIds:b,reactionIds:c,receiptIds:d}}}}};b=a({generateExternalId:function(){return d("WAGlobals").getDependencies().generateExternalId()}});g.serializeJobScheduledConfig=h;g.createJobSerializers=a;g.jobSerializers=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWJobDefinitions",["MAWExternalId","WAJobDefinitions"],function(a,b,c,d,e,f,g){"use strict";a=d("WAJobDefinitions").createJobSerializers({generateExternalId:d("MAWExternalId").generateExternalId});b=babelHelpers["extends"]({},a,{acceptGroupInvite:function(a,b,c){return{args:{chatId:a,invitedParticipantUserId:c,inviterUserId:b},type:"acceptGroupInvite"}},reportUserSpam:function(a,b,c,d,e,f){return{args:{chatJid:c,context:e,frxParams:f,frxTags:d,spamFlow:b,userJid:a},type:"reportUserSpam"}},sendMsg:function(a,b,c){return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},type:"sendMsg"}}});g.jobSerializers=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("WAFixedSizeMap",[],function(a,b,c,d,e,f){a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=new Map();this.$3=0;this.$4=100;this.$4=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1.set(a,b);this.$2.set(this.$3,a);this.$3+=1;b=this.$2.get(this.$3-this.$4-1);b!=null&&(this.$1["delete"](b),this.$2["delete"](this.$3-this.$4-1))};b.clear=function(){this.$1.clear(),this.$2.clear(),this.$3=0};b.size=function(){return this.$1.size};return a}();f.FixedSizeMap=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWJobActions",["MAWDexieTable","WAFixedSizeMap","WAHex","WATimeUtils"],function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAFixedSizeMap").FixedSizeMap)({max:100});function a(a,b){var c=b.args,e=b.type,f=b.uniqKey;b=b.version;b=b===void 0?1:b;return f!=null&&h.has(f)?d("MAWDexieTable").dexieResolve({newlyCreated:"cached",result:h.get(f)}):i(a,{args:c,type:e,uniqKey:f,version:b})}function i(a,b){var c,e=b.args,f=b.type,g=b.uniqKey;b=b.version;b=b===void 0?1:b;c=JSON.stringify([f,(c=g)!=null?c:d("WAHex").randomHex(32)]);var h={backedOffCount:0,current:e,original:e,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:f,uniqKey:c,version:b,waitUntil:null},i=function(){return a.jobs.add(h).then(function(a){return{id:a,newlyCreated:!0}})};if(g!=null)return a.jobs.where("uniqKey").equals(c).toArray().then(function(b){if(b.length===0)return i();var c=[],e=null;b.forEach(function(b){b.step!=="$finished"?e=b:c.push(a.jobs["delete"](b.jobId))});return d("MAWDexieTable").dexieAll(c).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:i()})});else return i()}function b(a,b){return a.jobs["delete"](b)}function c(a,b){return a.jobs.get(b)}function e(a,b){return a.jobs.put(b)}function f(a){return a.jobs.toArray()}g.recentFinishedJobsCache=h;g.maybeCreateJobWithCache=a;g.maybeCreateJob=i;g.deletePersistedJob=b;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWUIJob",["MAWBridge","MAWIndexedDb","MAWJobActions","MAWTransactionMode","Promise","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h=d("MAWIndexedDb").makeMsgrTransactor({jobs:d("MAWTransactionMode").READWRITE})(d("MAWJobActions").maybeCreateJobWithCache);a={fireAndForget:function(a){c("promiseDone")(h(a).then(function(a){a.newlyCreated===!0&&d("MAWBridge").getBridge().fireAndForget("backend","runJob",{id:a.id})}))},waitUntilCompleted:function(a){return h(a).then(function(a){if(a.newlyCreated==="cached")return b("Promise").resolve(a.result);else{a=d("MAWBridge").getBridge().sendAndReceive("backend","runJob",{id:a.id});return a}})},waitUntilPersisted:function(a){return h(a).then(function(a){a.newlyCreated===!0&&d("MAWBridge").getBridge().fireAndForget("backend","runJob",{id:a.id})})}};g.UIJobStarters=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWTimedJob",["FBLogger","MAWJobDefinitions","MAWMaybeWithTimeout","MAWUIJob","MAWWaitForBackendSetup","promiseDone"],function(a,b,c,d,e,f,g){var h=6e4;function a(a,b){b===void 0&&(b=h);return{fireAndForget:function(){var b=arguments;c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup(a).then(function(){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers[a].apply(null,b))}))},waitUntilPersisted:function(){var e=arguments;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers[a].apply(null,e))}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a+" in time")},a)},waitUntilCompleted:function(){var e=arguments;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers[a].apply(null,e))}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a+" in time")},a)}}}b={waitUntilPersisted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a)}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a.type+" in time")},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a)}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a.type+" in time")},a.type)}};g.DEFAULT_TIMEOUT_MS=h;g.timedNewJob=a;g.TimedUIJobStarters=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWJob.bs",["MAWTimedJob"],function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function c(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function d(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function e(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function g(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function h(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function i(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function j(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function k(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function l(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function m(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function n(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function o(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function p(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function q(a,c){return b("MAWTimedJob").timedNewJob(a,c)}a={newJobWithTimeout0:a,newJobWithTimeout1:c,newJobWithTimeout2:d,newJobWithTimeout3:e,newJobWithTimeout4:g,newJobWithTimeout5:h,newJobWithTimeout6:i,newJobWithTimeout7:j,newJobWithTimeout8:k,newJobWithTimeout9:l,newJobWithTimeout10:m,newJobWithTimeout11:n,newJobWithTimeout12:o,newJobWithTimeout13:p,newJobWithTimeout14:q};d=(c=b("MAWTimedJob")).timedNewJob("getDevices",6e4);e=c.timedNewJob("markThreadAsRead",6e4);g=c.timedNewJob("sendMediaMsg",6e4);h=c.timedNewJob("sendMsg",6e4);i=c.timedNewJob("sendWrittenMsg",6e4);j=c.timedNewJob("getCurrentUserDeviceList",6e4);k=c.timedNewJob("addGroupParticipants",6e4);l=c.timedNewJob("removeGroupParticipants",6e4);m=c.timedNewJob("promoteGroupParticipants",6e4);n=c.timedNewJob("demoteGroupParticipants",6e4);o=c.timedNewJob("leaveGroups",6e4);p=c.timedNewJob("removeDevice",6e4);q=c.timedNewJob("setGroupSubject",6e4);var r=c.timedNewJob("getSpams",6e4),s=c.timedNewJob("forwardMsg",6e4),t=c.timedNewJob("sendReactionMsg",6e4),u=c.timedNewJob("restoreMessagesFromEncryptedBackups",6e4),v=c.timedNewJob("restoreThreadsFromEncryptedBackups",6e4),w=c.timedNewJob("revokeMsgs",6e4),x=c.timedNewJob("deleteMsgsForMe",6e4),y=c.timedNewJob("deleteThread",6e4),z=c.timedNewJob("uploadRetroactiveThreadsAndMessages",6e4),A=c.timedNewJob("updateBackupEntFbidForMedia",6e4),B=c.timedNewJob("backupMessageWithMedia",6e4),C=c.timedNewJob("downloadAndRestoreMedia",6e4),D=c.timedNewJob("queryGroups",6e4),E=c.timedNewJob("acceptGroupInvite",6e4);c=c.timedNewJob("uploadMessagesBackup",6e4);f.Internal=a;f.getDevices=d;f.markThreadAsRead=e;f.sendMediaMsg=g;f.sendMsg=h;f.sendWrittenMsg=i;f.getCurrentUserDeviceList=j;f.addGroupParticipants=k;f.removeGroupParticipants=l;f.promoteGroupParticipants=m;f.demoteGroupParticipants=n;f.leaveGroups=o;f.removeDevice=p;f.setGroupSubject=q;f.getSpams=r;f.forwardMsg=s;f.sendReactionMsg=t;f.restoreMessagesFromEncryptedBackups=u;f.restoreThreadsFromEncryptedBackups=v;f.revokeMsgs=w;f.deleteMsgsForMe=x;f.deleteThread=y;f.uploadRetroactiveThreadsAndMessages=z;f.updateBackupEntFbidForMedia=A;f.backupMessageWithMedia=B;f.downloadAndRestoreMedia=C;f.queryGroups=D;f.acceptGroupInvite=E;f.uploadMessagesBackup=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWJidUtils.bs",["WAJids","bs_js_exn"],function(a,b,c,d,e,f){"use strict";function g(a,c){return b("WAJids").switchOnChatJidType(a,{msgrUser:function(a){return c.user(a)},phoneUser:function(a){return b("bs_js_exn").raiseError("Cannot handle phoneUserJid in messenger")},lidUser:function(a){return b("bs_js_exn").raiseError("Cannot handle lidUserJid in messenger")},group:function(a){return c.group(a)}})}function a(a){return g(a,{user:function(a){return!0},group:function(a){return!1}})}f.switchOnChatJidType=g;f.isOneToOneThreadJid=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWCreateOneToOneThread.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSTransaction.bs","LSVerifyE2EEMetadataThreadExistsV2","MAWBackendBridge.bs","MAWBridge.bs","MAWGating.bs","MAWJidUtils.bs","MAWJids","MAWJob.bs","MessagingThreadType.bs","Promise","ReQL.bs","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_curry","bs_int64","bs_js_null_undefined"],function(a,b,c,d,e,f){"use strict";function g(a){return b("MAWBridge.bs").createApi(b("MAWBackendBridge.bs").namespace,b("MAWBackendBridge.bs").CreateThread.$$event,a)}function a(a,c,d,e){var f=b("FBID.bs").ofStringExn(b("bs_int64").to_string(c));e=d!==void 0||!b("MAWGating.bs").isOccamadillo(void 0)?b("Promise").resolve(d):b("LSTransaction.bs").run(a,function(a){return b("LSVerifyE2EEMetadataThreadExistsV2")(b("MessagingThreadType.bs").secureMessageOverWaOneToOne,void 0,b("LSAuthorityLevel.bs").optimistic,b("LS.bs").make(a))},"readWrite").then(function(a){return b("bs_int64").to_string(a[0])});return e.then(function(c){var d=b("bs_curry")._1(g({contactFbid:f,offlineThreadingId:b("bs_js_null_undefined").fromOption(c)}).sendAndReceive,void 0).then(function(d){var e=d.jid,f=d.chatId,g=d.created;if(b("MAWGating.bs").isOccamadillo(void 0))return b("LSTransaction.bs").run(a,function(a){var d=b("bs_caml_format").caml_int64_of_string(b("MAWJidUtils.bs").switchOnChatJidType(e,{user:b("MAWJids").userIdFromJid,group:b("MAWJids").groupIdFromJid}));return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(a.table("mi_act_mapping_table").index("jid")),{hd:d,tl:0})).then(function(h){if(h!==void 0)return b("Promise").resolve({created:g,chatId:b("bs_caml_int64").to_int32(h.clientThreadPk),jid:e});else return a.table("mi_act_mapping_table").put({serverThreadKey:b("bs_belt_Option").getExn(b("bs_belt_Option").map(c,b("bs_caml_format").caml_int64_of_string)),clientThreadPk:b("bs_caml_int64").of_int32(f),jid:d}).then(function(a){return{created:g,chatId:f,jid:e}})})},"readWrite");else return b("Promise").resolve({created:g,chatId:f,jid:e})}),e=b("MAWJob.bs").getDevices.waitUntilPersisted(new Set().add(b("MAWJids").toUserJid(f)),"creating-1-1-thread");return b("Promise").all([d,e])}).then(function(a){return a[0]})}f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWVerifyExistingThreadExists.bs",["LS.bs","LSAuthorityLevel.bs","LSTransaction.bs","LSVerifyE2EEMetadataThreadExistsV2","MAWGating.bs","MAWThreadId.bs","MessagingThreadType.bs","Promise","ReQL.bs","bs_curry","cr:1360"],function(a,b,c,d,e,f){"use strict";function a(a,c){if(b("cr:1360")==null)return b("Promise").resolve(void 0);else if(b("MAWGating.bs").isOccamadillo(void 0))return b("LSTransaction.bs").run(a,function(a){return b("LSVerifyE2EEMetadataThreadExistsV2")(b("MessagingThreadType.bs").secureMessageOverWaOneToOne,c,b("LSAuthorityLevel.bs").authoritative,b("LS.bs").make(a)).then(function(a){})},"readWrite");else return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(d){if(d!==void 0||!b("MAWThreadId.bs").isThreadId(c))return b("Promise").resolve(void 0);else return b("MAWThreadId.bs").ofThreadKey(a,c).then(function(a){if(a)return b("bs_curry")._1(b("bs_curry")._1(b("cr:1360").fetchExistingThread,{threadId:a._0}).sendAndReceive,void 0);else return b("Promise").resolve(void 0)})})}c=b("cr:1360");f.$MAWBackendBridge$requireCondXplat=b("cr:1360");f.mawBackendBridge=c;f.call=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWChatOpenTabForUser.bs",["LSDatabaseDeferred.bs","MAWCreateOneToOneThread.bs","MAWThreadId.bs","MWChatStateActions.bs","MessagingThreadType.bs","bs_caml_format","bs_curry","promiseDone"],function(a,b,c,d,e,f){"use strict";function a(a,c,d){b("promiseDone")(b("LSDatabaseDeferred.bs").db.then(function(c){return b("MAWCreateOneToOneThread.bs").call(c,b("bs_caml_format").caml_int64_of_string(a),void 0,void 0).then(function(a){return b("MAWThreadId.bs").toThreadKeyMaybe(c,a.chatId)})}),function(a){if(a!==void 0)return b("bs_curry")._1(d,b("MWChatStateActions.bs").openTab(Date.now(),{shouldFocus:!c},{TAG:1,_0:{threadKey:a,clientThreadKey:void 0,threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne}}))},void 0)}f.openChatTab=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWUnvaultTransform",["MAWVault","baseTextTransformAllStrings"],function(a,b,c,d,e,f,g){"use strict";function a(){return function(a){return c("baseTextTransformAllStrings")(a,function(a,b){return h(a,b)})}}function h(a,b){if(a.length===0)return[a];return d("MAWVault").isVaulted(a)?[d("MAWVault").unvault(a)]:[a]}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("MAWUnvaultTransform.bs",["MAWUnvaultTransform"],function(a,b,c,d,e,f){"use strict";function a(a){return b("MAWUnvaultTransform")()}f.unvaultTransform=a},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);